2025-08-23 09:58:37,617 - INFO - Spider实例将在需要时延迟创建
2025-08-23 09:58:39,391 - INFO - 成功加载 41 个Cookie
2025-08-23 09:58:39,486 - INFO - 已注入 41 个Cookie到浏览器上下文
2025-08-23 09:58:39,775 - INFO - Playwright浏览器设置完成
2025-08-23 09:58:39,791 - INFO - Playwright网络监听已设置
2025-08-23 09:58:39,791 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-08-23 09:58:41,019 - INFO - 页面初始加载完成
2025-08-23 09:58:43,214 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1755914321008&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-08-23 09:58:43,219 - INFO - 开始创建角色spider实例...
2025-08-23 09:58:43,864 - INFO - CBGSpider模块导入成功，开始实例化...
2025-08-23 09:58:43,864 - INFO - 成功从config/cookies.txt加载Cookie
2025-08-23 09:58:43,874 - INFO - 角色spider实例已创建
2025-08-23 09:58:43,881 - INFO - 开始保存角色数据，数量: 15
2025-08-23 09:58:43,881 - INFO - 检查角色数据库...
2025-08-23 09:58:43,881 - INFO - 检查数据库类型: role
2025-08-23 09:58:43,881 - INFO - 数据库路径: C:\Users\Administrator\Desktop\mh\data\202508\cbg_roles_202508.db
2025-08-23 09:58:43,881 - INFO - 数据库文件是否存在: True
2025-08-23 09:58:43,883 - INFO - 获取角色spider实例...
2025-08-23 09:58:43,883 - INFO - 调用角色spider的save_role_data方法...
2025-08-23 09:58:43,916 - INFO - 成功加载game_auto_config.js配置，包含132个配置项
2025-08-23 09:58:47,108 - INFO - 角色 202508211900113-132-H7ZMTLGMQUDQ 价格从 2388800.0 变更为 2355500，已记录到价格历史
2025-08-23 09:58:50,076 - INFO - 角色数据已保存: 15 条
2025-08-23 09:58:50,077 - INFO - 响应数据已保存: role - 15 条记录
2025-08-23 09:58:50,078 - INFO - 检测到已登录状态，当前URL: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-08-23 09:58:50,079 - INFO - 登录状态检查: {'isLoggedIn': True, 'currentUrl': 'https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1', 'message': '已登录'}
2025-08-23 09:58:50,079 - INFO - 检测到已登录状态，更新Cookie...
2025-08-23 09:58:50,111 - INFO - Cookie已更新并保存到 C:\Users\Administrator\Desktop\mh\config\cookies.txt
2025-08-23 09:58:50,111 - INFO - 数据收集已开始，请在浏览器中正常操作...
2025-08-23 09:58:50,112 - INFO - 所有对 recommend.py 的请求将被自动捕获和保存
2025-08-23 09:58:50,287 - INFO - 新页面创建，已附加监听器: https://xyq.cbg.163.com/cgi-bin/xyq_overall_search.py?act=show_search_role_form
2025-08-23 10:00:12,875 - INFO - 新页面创建，已附加监听器: https://xyq.cbg.163.com/cgi-bin/xyq_overall_search.py
2025-08-23 10:00:14,226 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1755914413104&level_min=109&level_max=109&bb_expt_gongji=17&bb_expt_fangyu=17&bb_expt_fashu=17&bb_expt_kangfa=17&skill_shensu=34&skill_qiang_zhuang=36&skill_ming_xiang=140&price_min=633300&price_max=633300&server_type=3&act=recommd_by_role&page=1&count=15&search_type=overall_search_role&view_loc=overall_search 
2025-08-23 10:00:14,229 - INFO - 开始保存角色数据，数量: 6
2025-08-23 10:00:14,229 - INFO - 检查角色数据库...
2025-08-23 10:00:14,229 - INFO - 检查数据库类型: role
2025-08-23 10:00:14,229 - INFO - 数据库路径: C:\Users\Administrator\Desktop\mh\data\202508\cbg_roles_202508.db
2025-08-23 10:00:14,230 - INFO - 数据库文件是否存在: True
2025-08-23 10:00:14,230 - INFO - 获取角色spider实例...
2025-08-23 10:00:14,230 - INFO - 调用角色spider的save_role_data方法...
2025-08-23 10:00:16,164 - INFO - 角色数据已保存: 6 条
2025-08-23 10:00:16,164 - INFO - 响应数据已保存: role - 6 条记录
2025-08-23 10:01:33,629 - INFO - 检测到页面关闭，停止数据收集服务
2025-08-23 10:01:34,031 - INFO - 检测到浏览器上下文关闭，停止数据收集服务
2025-08-23 10:01:34,458 - INFO - 数据收集已停止
2025-08-23 10:01:34,484 - ERROR - Future exception was never retrieved
future: <Future finished exception=TargetClosedError('Target page, context or browser has been closed')>
playwright._impl._errors.TargetClosedError: Target page, context or browser has been closed
2025-08-23 10:01:34,484 - ERROR - Future exception was never retrieved
future: <Future finished exception=TargetClosedError('Target page, context or browser has been closed')>
playwright._impl._errors.TargetClosedError: Target page, context or browser has been closed
2025-08-23 11:51:15,620 - INFO - Spider实例将在需要时延迟创建
2025-08-23 11:51:17,096 - INFO - 成功加载 45 个Cookie
2025-08-23 11:51:17,171 - INFO - 已注入 45 个Cookie到浏览器上下文
2025-08-23 11:51:17,415 - INFO - Playwright浏览器设置完成
2025-08-23 11:51:17,430 - INFO - Playwright网络监听已设置
2025-08-23 11:51:17,430 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-08-23 11:51:17,584 - INFO - 页面初始加载完成
2025-08-23 11:51:20,595 - INFO - 检测到已登录状态，当前URL: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-08-23 11:51:20,595 - INFO - 登录状态检查: {'isLoggedIn': True, 'currentUrl': 'https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1', 'message': '已登录'}
2025-08-23 11:51:20,595 - INFO - 检测到已登录状态，更新Cookie...
2025-08-23 11:51:20,604 - INFO - Cookie已更新并保存到 C:\Users\Administrator\Desktop\mh\config\cookies.txt
2025-08-23 11:51:20,604 - INFO - 数据收集已开始，请在浏览器中正常操作...
2025-08-23 11:51:20,604 - INFO - 所有对 recommend.py 的请求将被自动捕获和保存
2025-08-23 11:51:47,613 - INFO - 检测到页面关闭，停止数据收集服务
2025-08-23 11:51:47,674 - INFO - 检测到浏览器上下文关闭，停止数据收集服务
2025-08-23 11:51:47,968 - INFO - 数据收集已停止
2025-08-23 11:51:47,969 - INFO - 数据收集已停止
2025-08-23 11:51:47,969 - INFO - 数据收集已停止
2025-08-23 11:51:55,857 - INFO - Spider实例将在需要时延迟创建
2025-08-23 11:51:57,556 - INFO - 成功加载 42 个Cookie
2025-08-23 11:51:57,607 - INFO - 已注入 42 个Cookie到浏览器上下文
2025-08-23 11:51:57,866 - INFO - Playwright浏览器设置完成
2025-08-23 11:51:57,880 - INFO - Playwright网络监听已设置
2025-08-23 11:51:57,880 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-08-23 11:52:04,600 - INFO - 页面初始加载完成
2025-08-23 11:52:07,614 - INFO - 检测到已登录状态，当前URL: https://xyq.cbg.163.com/cgi-bin/login.py?act=show_mbauth
2025-08-23 11:52:07,614 - INFO - 登录状态检查: {'isLoggedIn': True, 'currentUrl': 'https://xyq.cbg.163.com/cgi-bin/login.py?act=show_mbauth', 'message': '已登录'}
2025-08-23 11:52:07,614 - INFO - 检测到已登录状态，更新Cookie...
2025-08-23 11:52:07,624 - INFO - Cookie已更新并保存到 C:\Users\Administrator\Desktop\mh\config\cookies.txt
2025-08-23 11:52:07,624 - INFO - 数据收集已开始，请在浏览器中正常操作...
2025-08-23 11:52:07,624 - INFO - 所有对 recommend.py 的请求将被自动捕获和保存
2025-08-23 11:52:38,512 - INFO - 检测到页面关闭，停止数据收集服务
2025-08-23 11:52:38,608 - INFO - 检测到浏览器上下文关闭，停止数据收集服务
2025-08-23 11:52:38,940 - INFO - 数据收集已停止
2025-08-23 11:52:38,940 - INFO - 数据收集已停止
2025-08-23 11:52:38,941 - INFO - 数据收集已停止
2025-08-23 12:49:42,661 - INFO - Spider实例将在需要时延迟创建
2025-08-23 12:49:44,068 - INFO - 成功加载 41 个Cookie
2025-08-23 12:49:44,140 - INFO - 已注入 41 个Cookie到浏览器上下文
2025-08-23 12:49:44,410 - INFO - Playwright浏览器设置完成
2025-08-23 12:49:44,429 - INFO - Playwright网络监听已设置
2025-08-23 12:49:44,429 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-08-23 12:49:45,143 - INFO - 页面初始加载完成
2025-08-23 12:49:48,171 - INFO - 检测到已登录状态，当前URL: https://xyq.cbg.163.com/cgi-bin/login.py?act=show_mbauth
2025-08-23 12:49:48,171 - INFO - 登录状态检查: {'isLoggedIn': True, 'currentUrl': 'https://xyq.cbg.163.com/cgi-bin/login.py?act=show_mbauth', 'message': '已登录'}
2025-08-23 12:49:48,171 - INFO - 检测到已登录状态，更新Cookie...
2025-08-23 12:49:48,182 - INFO - Cookie已更新并保存到 C:\Users\Administrator\Desktop\mh\config\cookies.txt
2025-08-23 12:49:48,182 - INFO - 数据收集已开始，请在浏览器中正常操作...
2025-08-23 12:49:48,182 - INFO - 所有对 recommend.py 的请求将被自动捕获和保存
2025-08-23 12:50:05,878 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1755924602735&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-08-23 12:50:05,878 - INFO - 开始创建角色spider实例...
2025-08-23 12:50:06,502 - INFO - CBGSpider模块导入成功，开始实例化...
2025-08-23 12:50:06,503 - INFO - 成功从config/cookies.txt加载Cookie
2025-08-23 12:50:06,512 - INFO - 角色spider实例已创建
2025-08-23 12:50:06,521 - INFO - 开始保存角色数据，数量: 15
2025-08-23 12:50:06,521 - INFO - 检查角色数据库...
2025-08-23 12:50:06,521 - INFO - 检查数据库类型: role
2025-08-23 12:50:06,521 - INFO - 数据库路径: C:\Users\Administrator\Desktop\mh\data\202508\cbg_roles_202508.db
2025-08-23 12:50:06,522 - INFO - 数据库文件是否存在: True
2025-08-23 12:50:06,522 - INFO - 获取角色spider实例...
2025-08-23 12:50:06,522 - INFO - 调用角色spider的save_role_data方法...
2025-08-23 12:50:06,554 - INFO - 成功加载game_auto_config.js配置，包含132个配置项
2025-08-23 12:50:08,527 - INFO - 角色 202508211900113-132-NFSOBYC11Q43 价格从 1944400.0 变更为 1933300，已记录到价格历史
2025-08-23 12:50:11,448 - INFO - 角色数据已保存: 15 条
2025-08-23 12:50:11,448 - INFO - 响应数据已保存: role - 15 条记录
2025-08-23 12:53:55,272 - INFO - Spider实例将在需要时延迟创建
2025-08-23 12:53:56,765 - INFO - 成功加载 60 个Cookie
2025-08-23 12:53:56,828 - INFO - 已注入 60 个Cookie到浏览器上下文
2025-08-23 12:53:57,066 - INFO - Playwright浏览器设置完成
2025-08-23 12:53:57,090 - INFO - Playwright网络监听已设置
2025-08-23 12:53:57,090 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-08-23 12:53:57,261 - INFO - 页面初始加载完成
2025-08-23 12:54:00,274 - INFO - 检测到已登录状态，当前URL: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-08-23 12:54:00,274 - INFO - 登录状态检查: {'isLoggedIn': True, 'currentUrl': 'https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1', 'message': '已登录'}
2025-08-23 12:54:00,274 - INFO - 检测到已登录状态，更新Cookie...
2025-08-23 12:54:00,286 - INFO - Cookie已更新并保存到 C:\Users\Administrator\Desktop\mh\config\cookies.txt
2025-08-23 12:54:00,286 - INFO - 数据收集已开始，请在浏览器中正常操作...
2025-08-23 12:54:00,286 - INFO - 所有对 recommend.py 的请求将被自动捕获和保存
2025-08-23 12:54:06,641 - INFO - 检测到页面关闭，停止数据收集服务
2025-08-23 12:54:06,714 - INFO - 检测到浏览器上下文关闭，停止数据收集服务
2025-08-23 12:54:07,069 - INFO - 数据收集已停止
2025-08-23 12:54:07,069 - INFO - 数据收集已停止
2025-08-23 12:54:07,348 - INFO - 数据收集已停止
2025-08-23 12:54:21,129 - INFO - Spider实例将在需要时延迟创建
2025-08-23 12:54:22,608 - INFO - 成功加载 42 个Cookie
2025-08-23 12:54:22,677 - INFO - 已注入 42 个Cookie到浏览器上下文
2025-08-23 12:54:22,966 - INFO - Playwright浏览器设置完成
2025-08-23 12:54:22,986 - INFO - Playwright网络监听已设置
2025-08-23 12:54:22,987 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-08-23 12:54:24,578 - INFO - 页面初始加载完成
2025-08-23 12:54:27,576 - INFO - 检测到已登录状态，当前URL: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-08-23 12:54:27,576 - INFO - 登录状态检查: {'isLoggedIn': True, 'currentUrl': 'https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1', 'message': '已登录'}
2025-08-23 12:54:27,576 - INFO - 检测到已登录状态，更新Cookie...
2025-08-23 12:54:27,588 - INFO - Cookie已更新并保存到 C:\Users\Administrator\Desktop\mh\config\cookies.txt
2025-08-23 12:54:27,588 - INFO - 数据收集已开始，请在浏览器中正常操作...
2025-08-23 12:54:27,589 - INFO - 所有对 recommend.py 的请求将被自动捕获和保存
2025-08-23 12:54:38,545 - INFO - 检测到页面关闭，停止数据收集服务
2025-08-23 12:54:38,662 - INFO - 检测到浏览器上下文关闭，停止数据收集服务
2025-08-23 12:54:38,954 - INFO - 数据收集已停止
2025-08-23 12:54:38,963 - ERROR - Future exception was never retrieved
future: <Future finished exception=TargetClosedError('Target page, context or browser has been closed')>
playwright._impl._errors.TargetClosedError: Target page, context or browser has been closed
2025-08-23 12:54:38,964 - ERROR - Future exception was never retrieved
future: <Future finished exception=TargetClosedError('Target page, context or browser has been closed')>
playwright._impl._errors.TargetClosedError: Target page, context or browser has been closed
2025-08-23 14:05:22,046 - INFO - Spider实例将在需要时延迟创建
2025-08-23 14:05:24,348 - INFO - 成功加载 39 个Cookie
2025-08-23 14:05:24,435 - INFO - 已注入 39 个Cookie到浏览器上下文
2025-08-23 14:05:24,749 - INFO - Playwright浏览器设置完成
2025-08-23 14:05:24,764 - INFO - Playwright网络监听已设置
2025-08-23 14:05:24,764 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-08-23 14:05:32,995 - INFO - 页面初始加载完成
2025-08-23 14:05:35,059 - INFO - 检测到页面关闭，停止数据收集服务
2025-08-23 14:05:35,150 - INFO - 检测到浏览器上下文关闭，停止数据收集服务
2025-08-23 14:05:35,479 - INFO - 数据收集已停止
2025-08-23 14:05:35,480 - INFO - 数据收集已停止
2025-08-23 14:05:36,003 - INFO - 检测到已登录状态，当前URL: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-08-23 14:05:36,003 - INFO - 登录状态检查: {'isLoggedIn': True, 'currentUrl': 'https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1', 'message': '已登录'}
2025-08-23 14:05:36,003 - INFO - 检测到已登录状态，更新Cookie...
2025-08-23 14:05:36,009 - ERROR - 更新Cookie失败: BrowserContext.cookies: Target page, context or browser has been closed
2025-08-23 14:05:36,009 - INFO - 数据收集已开始，请在浏览器中正常操作...
2025-08-23 14:05:36,010 - INFO - 所有对 recommend.py 的请求将被自动捕获和保存
2025-08-23 14:05:36,015 - INFO - 数据收集已停止
2025-08-23 15:43:47,207 - INFO - Spider实例将在需要时延迟创建
2025-08-23 15:43:48,571 - INFO - 成功加载 5 个Cookie
2025-08-23 15:43:48,639 - INFO - 已注入 5 个Cookie到浏览器上下文
2025-08-23 15:43:48,962 - INFO - Playwright浏览器设置完成
2025-08-23 15:43:48,980 - INFO - Playwright网络监听已设置
2025-08-23 15:43:48,980 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-08-23 15:43:56,023 - INFO - 页面初始加载完成
2025-08-23 15:43:59,023 - INFO - 检测到未登录状态（页面在首页）
2025-08-23 15:43:59,023 - INFO - 登录状态检查: {'isLoggedIn': False, 'currentUrl': 'https://xyq.cbg.163.com/', 'message': '页面在首页，未登录'}
2025-08-23 15:43:59,023 - INFO - 未检测到登录状态，请手动登录...
2025-08-23 15:43:59,023 - INFO - 当前页面URL: https://xyq.cbg.163.com/
2025-08-23 15:43:59,024 - INFO - URL监听已设置，等待页面跳转到目标地址...
2025-08-23 15:43:59,024 - INFO - 数据收集已开始，请在浏览器中正常操作...
2025-08-23 15:43:59,024 - INFO - 所有对 recommend.py 的请求将被自动捕获和保存
2025-08-23 15:44:06,072 - INFO - 检测到页面关闭，停止数据收集服务
2025-08-23 15:44:06,149 - INFO - 检测到浏览器上下文关闭，停止数据收集服务
2025-08-23 15:44:06,165 - INFO - 数据收集已停止
2025-08-23 15:44:06,475 - INFO - 数据收集已停止
2025-08-23 15:44:06,487 - ERROR - Future exception was never retrieved
future: <Future finished exception=TargetClosedError('Target page, context or browser has been closed')>
playwright._impl._errors.TargetClosedError: Target page, context or browser has been closed
2025-08-26 13:27:48,815 - INFO - Spider实例将在需要时延迟创建
2025-08-26 13:27:51,370 - INFO - 成功加载 41 个Cookie
2025-08-26 13:27:51,459 - INFO - 已注入 41 个Cookie到浏览器上下文
2025-08-26 13:27:51,885 - INFO - Playwright浏览器设置完成
2025-08-26 13:27:51,901 - INFO - Playwright网络监听已设置
2025-08-26 13:27:51,902 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-08-26 13:27:53,375 - INFO - 页面初始加载完成
2025-08-26 13:27:56,381 - INFO - 检测到已登录状态，当前URL: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-08-26 13:27:56,381 - INFO - 登录状态检查: {'isLoggedIn': True, 'currentUrl': 'https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1', 'message': '已登录'}
2025-08-26 13:27:56,381 - INFO - 检测到已登录状态，更新Cookie...
2025-08-26 13:27:56,391 - INFO - Cookie已更新并保存到 C:\Users\Administrator\Desktop\mh\config\cookies.txt
2025-08-26 13:27:56,391 - INFO - 数据收集已开始，请在浏览器中正常操作...
2025-08-26 13:27:56,392 - INFO - 所有对 recommend.py 的请求将被自动捕获和保存
2025-08-26 13:27:59,291 - INFO - 检测到页面关闭，停止数据收集服务
2025-08-26 13:27:59,390 - INFO - 检测到浏览器上下文关闭，停止数据收集服务
2025-08-26 13:27:59,722 - INFO - 数据收集已停止
2025-08-26 13:27:59,734 - ERROR - Future exception was never retrieved
future: <Future finished exception=TargetClosedError('Target page, context or browser has been closed')>
playwright._impl._errors.TargetClosedError: Target page, context or browser has been closed
2025-08-26 13:27:59,734 - ERROR - Future exception was never retrieved
future: <Future finished exception=TargetClosedError('Target page, context or browser has been closed')>
playwright._impl._errors.TargetClosedError: Target page, context or browser has been closed
2025-08-26 13:28:15,194 - INFO - Spider实例将在需要时延迟创建
2025-08-26 13:28:16,710 - INFO - 成功加载 42 个Cookie
2025-08-26 13:28:16,813 - INFO - 已注入 42 个Cookie到浏览器上下文
2025-08-26 13:28:17,232 - INFO - Playwright浏览器设置完成
2025-08-26 13:28:17,246 - INFO - Playwright网络监听已设置
2025-08-26 13:28:17,247 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-08-26 13:28:17,412 - INFO - 页面初始加载完成
2025-08-26 13:28:20,428 - INFO - 检测到已登录状态，当前URL: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-08-26 13:28:20,428 - INFO - 登录状态检查: {'isLoggedIn': True, 'currentUrl': 'https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1', 'message': '已登录'}
2025-08-26 13:28:20,428 - INFO - 检测到已登录状态，更新Cookie...
2025-08-26 13:28:20,439 - INFO - Cookie已更新并保存到 C:\Users\Administrator\Desktop\mh\config\cookies.txt
2025-08-26 13:28:20,440 - INFO - 数据收集已开始，请在浏览器中正常操作...
2025-08-26 13:28:20,440 - INFO - 所有对 recommend.py 的请求将被自动捕获和保存
2025-08-27 12:37:01,301 - INFO - Spider实例将在需要时延迟创建
2025-08-27 12:37:03,220 - INFO - 成功加载 41 个Cookie
2025-08-27 12:37:03,281 - INFO - 已注入 41 个Cookie到浏览器上下文
2025-08-27 12:37:03,608 - INFO - Playwright浏览器设置完成
2025-08-27 12:37:03,634 - INFO - Playwright网络监听已设置
2025-08-27 12:37:03,635 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-08-27 12:37:04,761 - INFO - 页面初始加载完成
2025-08-27 12:37:06,237 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1756269424752&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-08-27 12:37:06,237 - INFO - 开始创建角色spider实例...
2025-08-27 12:37:07,133 - INFO - CBGSpider模块导入成功，开始实例化...
2025-08-27 12:37:07,133 - INFO - 成功从config/cookies.txt加载Cookie
2025-08-27 12:37:07,143 - INFO - 角色spider实例已创建
2025-08-27 12:37:07,154 - INFO - 开始保存角色数据，数量: 15
2025-08-27 12:37:07,154 - INFO - 检查角色数据库...
2025-08-27 12:37:07,154 - INFO - 检查数据库类型: role
2025-08-27 12:37:07,154 - INFO - 数据库路径: C:\Users\Administrator\Desktop\mh\data\202508\cbg_roles_202508.db
2025-08-27 12:37:07,154 - INFO - 数据库文件是否存在: True
2025-08-27 12:37:07,155 - INFO - 获取角色spider实例...
2025-08-27 12:37:07,155 - INFO - 调用角色spider的save_role_data方法...
2025-08-27 12:37:07,187 - INFO - 成功加载game_auto_config.js配置，包含132个配置项
2025-08-27 12:37:08,265 - INFO - 角色 202507140000113-132-PACGYUGZWGUF 价格从 1039500.0 变更为 1053500，已记录到价格历史
2025-08-27 12:37:12,061 - INFO - 角色 202507061100113-132-KHETLOP7FV7I 价格从 160010.0 变更为 150010，已记录到价格历史
2025-08-27 12:37:13,272 - INFO - 角色 202507292100113-132-QZMXVFKCROAB 价格从 850000.0 变更为 844400，已记录到价格历史
2025-08-27 12:37:16,230 - INFO - 角色数据已保存: 15 条
2025-08-27 12:37:16,230 - INFO - 响应数据已保存: role - 15 条记录
2025-08-27 12:37:16,231 - INFO - 检测到已登录状态，当前URL: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-08-27 12:37:16,231 - INFO - 登录状态检查: {'isLoggedIn': True, 'currentUrl': 'https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1', 'message': '已登录'}
2025-08-27 12:37:16,231 - INFO - 检测到已登录状态，更新Cookie...
2025-08-27 12:37:16,272 - INFO - 检测到页面关闭，停止数据收集服务
2025-08-27 12:37:16,281 - INFO - Cookie已更新并保存到 C:\Users\Administrator\Desktop\mh\config\cookies.txt
2025-08-27 12:37:16,282 - INFO - 数据收集已开始，请在浏览器中正常操作...
2025-08-27 12:37:16,282 - INFO - 所有对 recommend.py 的请求将被自动捕获和保存
2025-08-27 12:37:16,297 - INFO - 检测到浏览器上下文关闭，停止数据收集服务
2025-08-27 12:37:16,601 - INFO - 数据收集已停止
2025-08-27 12:37:16,622 - ERROR - Future exception was never retrieved
future: <Future finished exception=TargetClosedError('Target page, context or browser has been closed')>
playwright._impl._errors.TargetClosedError: Target page, context or browser has been closed
2025-08-27 12:37:16,622 - ERROR - Future exception was never retrieved
future: <Future finished exception=TargetClosedError('Target page, context or browser has been closed')>
playwright._impl._errors.TargetClosedError: Target page, context or browser has been closed
2025-09-04 13:32:14,362 - INFO - Spider实例将在需要时延迟创建
2025-09-04 13:32:16,837 - INFO - 成功加载 40 个Cookie
2025-09-04 13:32:16,964 - INFO - 已注入 40 个Cookie到浏览器上下文
2025-09-04 13:32:17,449 - INFO - Playwright浏览器设置完成
2025-09-04 13:32:17,483 - INFO - Playwright网络监听已设置
2025-09-04 13:32:17,483 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-04 13:32:17,687 - INFO - 页面初始加载完成
2025-09-04 13:32:20,697 - INFO - 检测到已登录状态，当前URL: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-04 13:32:20,697 - INFO - 登录状态检查: {'isLoggedIn': True, 'currentUrl': 'https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1', 'message': '已登录'}
2025-09-04 13:32:20,697 - INFO - 检测到已登录状态，更新Cookie...
2025-09-04 13:32:20,720 - INFO - Cookie已更新并保存到 C:\Users\Administrator\Desktop\mh\config\cookies.txt
2025-09-04 13:32:20,720 - INFO - 数据收集已开始，请在浏览器中正常操作...
2025-09-04 13:32:20,720 - INFO - 所有对 recommend.py 的请求将被自动捕获和保存
2025-09-04 13:32:23,245 - INFO - 检测到页面关闭，停止数据收集服务
2025-09-04 13:32:23,432 - INFO - 检测到浏览器上下文关闭，停止数据收集服务
2025-09-04 13:32:24,111 - INFO - 数据收集已停止
2025-09-04 13:32:24,111 - INFO - 数据收集已停止
2025-09-04 13:32:24,111 - INFO - 数据收集已停止
2025-09-15 16:10:15,966 - INFO - Spider实例将在需要时延迟创建
2025-09-15 16:10:18,417 - INFO - 成功加载 41 个Cookie
2025-09-15 16:10:18,486 - INFO - 已注入 41 个Cookie到浏览器上下文
2025-09-15 16:10:18,727 - INFO - Playwright浏览器设置完成
2025-09-15 16:10:18,748 - INFO - Playwright网络监听已设置
2025-09-15 16:10:18,749 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-15 16:10:20,505 - INFO - 页面初始加载完成
2025-09-15 16:10:22,939 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1757923820494&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-15 16:10:22,939 - INFO - 开始创建角色spider实例...
2025-09-15 16:10:24,089 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-15 16:10:24,089 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-15 16:10:24,148 - ERROR - 创建角色spider实例失败: Could not parse SQLAlchemy URL from given URL string
2025-09-15 16:10:24,152 - ERROR - 详细错误信息: Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\mh\src\spider\playwright_collector.py", line 115, in _get_role_spider
    self.role_spider = CBGSpider()
                       ^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\mh\src\cbg_spider.py", line 75, in __init__
    self.smart_db = CBGSmartDB(self.db_path)
                    ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\mh\src\utils\smart_db_helper.py", line 259, in __init__
    self.db_helper = SmartDBHelper(db_url)
                     ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\mh\src\utils\smart_db_helper.py", line 28, in __init__
    self.engine = create_engine(db_url, pool_pre_ping=True, pool_recycle=3600)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in create_engine
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\util\deprecations.py", line 281, in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\create.py", line 564, in create_engine
    u = _url.make_url(url)
        ^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\url.py", line 856, in make_url
    return _parse_url(name_or_url)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\url.py", line 922, in _parse_url
    raise exc.ArgumentError(
sqlalchemy.exc.ArgumentError: Could not parse SQLAlchemy URL from given URL string

2025-09-15 16:10:24,152 - WARNING - 角色spider实例创建失败，跳过数据解析
2025-09-15 16:10:24,153 - INFO - 检测到已登录状态，当前URL: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-15 16:10:24,153 - INFO - 登录状态检查: {'isLoggedIn': True, 'currentUrl': 'https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1', 'message': '已登录'}
2025-09-15 16:10:24,153 - INFO - 检测到已登录状态，更新Cookie...
2025-09-15 16:10:24,175 - INFO - Cookie已更新并保存到 C:\Users\Administrator\Desktop\mh\config\cookies.txt
2025-09-15 16:10:24,175 - INFO - 数据收集已开始，请在浏览器中正常操作...
2025-09-15 16:10:24,175 - INFO - 所有对 recommend.py 的请求将被自动捕获和保存
2025-09-15 16:10:42,830 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1757923840633&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=2&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-15 16:10:42,831 - INFO - 开始创建角色spider实例...
2025-09-15 16:10:42,832 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-15 16:10:42,833 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-15 16:10:42,842 - ERROR - 创建角色spider实例失败: Could not parse SQLAlchemy URL from given URL string
2025-09-15 16:10:42,843 - ERROR - 详细错误信息: Traceback (most recent call last):
  File "C:\Users\Administrator\Desktop\mh\src\spider\playwright_collector.py", line 115, in _get_role_spider
    self.role_spider = CBGSpider()
                       ^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\mh\src\cbg_spider.py", line 75, in __init__
    self.smart_db = CBGSmartDB(self.db_path)
                    ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\mh\src\utils\smart_db_helper.py", line 259, in __init__
    self.db_helper = SmartDBHelper(db_url)
                     ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\Desktop\mh\src\utils\smart_db_helper.py", line 28, in __init__
    self.engine = create_engine(db_url, pool_pre_ping=True, pool_recycle=3600)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 2, in create_engine
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\util\deprecations.py", line 281, in warned
    return fn(*args, **kwargs)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\create.py", line 564, in create_engine
    u = _url.make_url(url)
        ^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\url.py", line 856, in make_url
    return _parse_url(name_or_url)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Administrator\AppData\Local\Programs\Python\Python311\Lib\site-packages\sqlalchemy\engine\url.py", line 922, in _parse_url
    raise exc.ArgumentError(
sqlalchemy.exc.ArgumentError: Could not parse SQLAlchemy URL from given URL string

2025-09-15 16:10:42,844 - WARNING - 角色spider实例创建失败，跳过数据解析
2025-09-15 16:11:31,388 - INFO - 检测到页面关闭，停止数据收集服务
2025-09-15 16:11:31,459 - INFO - 检测到浏览器上下文关闭，停止数据收集服务
2025-09-15 16:11:31,880 - INFO - 数据收集已停止
2025-09-15 16:11:31,880 - INFO - 数据收集已停止
2025-09-15 16:11:31,880 - INFO - 数据收集已停止
2025-09-15 16:20:33,992 - INFO - Spider实例将在需要时延迟创建
2025-09-15 16:20:35,564 - INFO - 成功加载 45 个Cookie
2025-09-15 16:20:35,637 - INFO - 已注入 45 个Cookie到浏览器上下文
2025-09-15 16:20:35,906 - INFO - Playwright浏览器设置完成
2025-09-15 16:20:35,925 - INFO - Playwright网络监听已设置
2025-09-15 16:20:35,925 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-15 16:20:37,302 - INFO - 页面初始加载完成
2025-09-15 16:20:39,004 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1757924437293&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-15 16:20:39,004 - INFO - 开始创建角色spider实例...
2025-09-15 16:20:40,661 - INFO - 装备锚点估价器和特征提取器导入成功
2025-09-15 16:20:40,671 - INFO - 装备特征提取器初始化成功
2025-09-15 16:20:40,680 - INFO - 灵饰特征提取器初始化成功
2025-09-15 16:20:40,680 - INFO - 宠物装备特征提取器初始化成功
2025-09-15 16:20:40,748 - INFO - 装备锚点估价器初始化成功
2025-09-15 16:20:40,765 - INFO - 统一特征提取器初始化成功
2025-09-15 16:20:40,766 - INFO - 异常装备数据库初始化成功
2025-09-15 16:20:40,774 - INFO - 装备特征提取器初始化成功
2025-09-15 16:20:40,784 - INFO - 灵饰特征提取器初始化成功
2025-09-15 16:20:40,784 - INFO - 宠物装备特征提取器初始化成功
2025-09-15 16:20:40,820 - INFO - 装备锚点估价器初始化成功
2025-09-15 16:20:40,883 - INFO - 统一特征提取器初始化成功
2025-09-15 16:20:40,884 - INFO - 异常装备数据库初始化成功
2025-09-15 16:20:41,242 - INFO - 角色特征提取器初始化成功
2025-09-15 16:20:41,247 - INFO - 角色市场锚定估价器初始化成功
2025-09-15 16:20:41,256 - INFO - 宠物特征提取器初始化成功
2025-09-15 16:20:41,257 - INFO - 宠物锚点估价器初始化成功
2025-09-15 16:20:41,262 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-15 16:20:41,264 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-15 16:20:41,349 - INFO - 角色spider实例已创建
2025-09-15 16:20:41,352 - INFO - 开始保存角色数据，数量: 15
2025-09-15 16:20:41,352 - INFO - 检查角色数据库...
2025-09-15 16:20:41,353 - INFO - 检查数据库类型: role
2025-09-15 16:20:41,353 - INFO - 数据库路径: C:\Users\Administrator\Desktop\mh\data\202509\cbg_roles_202509.db
2025-09-15 16:20:41,353 - INFO - 数据库文件是否存在: True
2025-09-15 16:20:41,353 - INFO - 获取角色spider实例...
2025-09-15 16:20:41,353 - INFO - 调用角色spider的save_role_data方法...
2025-09-15 16:20:41,376 - INFO - 成功加载game_auto_config.js配置，包含132个配置项
2025-09-15 16:21:04,403 - ERROR - 插入数据到表 roles 失败: (pymysql.err.ProgrammingError) (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'desc, large_equip_desc, desc_sumup, desc_sumup_short, diy_desc, rec_desc, search' at line 1")
[SQL: 
                INSERT INTO roles (equipid, equip_sn, server_name, serverid, equip_server_sn, seller_nickname, seller_roleid, area_name, equip_name, equip_type, equip_type_name, equip_type_desc, level, equip_level, equip_level_desc, level_desc, subtitle, equip_pos, position, school, role_grade_limit, min_buyer_level, equip_count, price, price_desc, unit_price_desc, min_unit_price, accept_bargain, equip_status, equip_status_desc, status_desc, onsale_expire_time_desc, time_left, expire_time, selling_time, selling_time_ago_desc, first_onsale_time, pass_fair_show, fair_show_time, fair_show_end_time, fair_show_end_time_left, fair_show_poundage, collect_num, has_collect, score, icon_index, icon, equip_face_img, kindid, game_channel, game_ordersn, whole_game_ordersn, allow_cross_buy, cross_server_poundage, cross_server_poundage_origin, cross_server_poundage_discount, cross_server_poundage_discount_label, cross_server_poundage_display_mode, cross_server_activity_conf_discount, activity_type, joined_seller_activity, is_split_sale, is_split_main_role, is_split_independent_role, is_split_independent_equip, split_equip_sold_happen, show_split_equip_sold_remind, is_onsale_protection_period, onsale_protection_end_time, is_vip_protection, is_time_lock, equip_in_test_server, buyer_in_test_server, equip_in_allow_take_away_server, is_weijianding, is_show_alipay_privilege, is_seller_redpacket_flag, is_show_expert_desc, is_show_special_highlight, is_xyq_game_role_kunpeng_reach_limit, equip_onsale_version, storage_type, agent_trans_time, kol_article_id, kol_share_id, kol_share_time, kol_share_status, reco_request_id, appointed_roleid, play_team_cnt, random_draw_finish_time, desc, large_equip_desc, desc_sumup, desc_sumup_short, diy_desc, rec_desc, search_type, tag, price_explanation, bargain_info, diy_desc_pay_info, other_info, video_info, agg_added_attrs, dynamic_tags, highlight, tag_key, life_skills, school_skills, ju_qing_skills, yushoushu_skill, role_type, update_time) 
                VALUES (%(equipid)s, %(equip_sn)s, %(server_name)s, %(serverid)s, %(equip_server_sn)s, %(seller_nickname)s, %(seller_roleid)s, %(area_name)s, %(equip_name)s, %(equip_type)s, %(equip_type_name)s, %(equip_type_desc)s, %(level)s, %(equip_level)s, %(equip_level_desc)s, %(level_desc)s, %(subtitle)s, %(equip_pos)s, %(position)s, %(school)s, %(role_grade_limit)s, %(min_buyer_level)s, %(equip_count)s, %(price)s, %(price_desc)s, %(unit_price_desc)s, %(min_unit_price)s, %(accept_bargain)s, %(equip_status)s, %(equip_status_desc)s, %(status_desc)s, %(onsale_expire_time_desc)s, %(time_left)s, %(expire_time)s, %(selling_time)s, %(selling_time_ago_desc)s, %(first_onsale_time)s, %(pass_fair_show)s, %(fair_show_time)s, %(fair_show_end_time)s, %(fair_show_end_time_left)s, %(fair_show_poundage)s, %(collect_num)s, %(has_collect)s, %(score)s, %(icon_index)s, %(icon)s, %(equip_face_img)s, %(kindid)s, %(game_channel)s, %(game_ordersn)s, %(whole_game_ordersn)s, %(allow_cross_buy)s, %(cross_server_poundage)s, %(cross_server_poundage_origin)s, %(cross_server_poundage_discount)s, %(cross_server_poundage_discount_label)s, %(cross_server_poundage_display_mode)s, %(cross_server_activity_conf_discount)s, %(activity_type)s, %(joined_seller_activity)s, %(is_split_sale)s, %(is_split_main_role)s, %(is_split_independent_role)s, %(is_split_independent_equip)s, %(split_equip_sold_happen)s, %(show_split_equip_sold_remind)s, %(is_onsale_protection_period)s, %(onsale_protection_end_time)s, %(is_vip_protection)s, %(is_time_lock)s, %(equip_in_test_server)s, %(buyer_in_test_server)s, %(equip_in_allow_take_away_server)s, %(is_weijianding)s, %(is_show_alipay_privilege)s, %(is_seller_redpacket_flag)s, %(is_show_expert_desc)s, %(is_show_special_highlight)s, %(is_xyq_game_role_kunpeng_reach_limit)s, %(equip_onsale_version)s, %(storage_type)s, %(agent_trans_time)s, %(kol_article_id)s, %(kol_share_id)s, %(kol_share_time)s, %(kol_share_status)s, %(reco_request_id)s, %(appointed_roleid)s, %(play_team_cnt)s, %(random_draw_finish_time)s, %(desc)s, %(large_equip_desc)s, %(desc_sumup)s, %(desc_sumup_short)s, %(diy_desc)s, %(rec_desc)s, %(search_type)s, %(tag)s, %(price_explanation)s, %(bargain_info)s, %(diy_desc_pay_info)s, %(other_info)s, %(video_info)s, %(agg_added_attrs)s, %(dynamic_tags)s, %(highlight)s, %(tag_key)s, %(life_skills)s, %(school_skills)s, %(ju_qing_skills)s, %(yushoushu_skill)s, %(role_type)s, %(update_time)s)
                ON DUPLICATE KEY UPDATE equipid = VALUES(equipid), equip_sn = VALUES(equip_sn), server_name = VALUES(server_name), serverid = VALUES(serverid), equip_server_sn = VALUES(equip_server_sn), seller_nickname = VALUES(seller_nickname), seller_roleid = VALUES(seller_roleid), area_name = VALUES(area_name), equip_name = VALUES(equip_name), equip_type = VALUES(equip_type), equip_type_name = VALUES(equip_type_name), equip_type_desc = VALUES(equip_type_desc), level = VALUES(level), equip_level = VALUES(equip_level), equip_level_desc = VALUES(equip_level_desc), level_desc = VALUES(level_desc), subtitle = VALUES(subtitle), equip_pos = VALUES(equip_pos), position = VALUES(position), school = VALUES(school), role_grade_limit = VALUES(role_grade_limit), min_buyer_level = VALUES(min_buyer_level), equip_count = VALUES(equip_count), price = VALUES(price), price_desc = VALUES(price_desc), unit_price_desc = VALUES(unit_price_desc), min_unit_price = VALUES(min_unit_price), accept_bargain = VALUES(accept_bargain), equip_status = VALUES(equip_status), equip_status_desc = VALUES(equip_status_desc), status_desc = VALUES(status_desc), onsale_expire_time_desc = VALUES(onsale_expire_time_desc), time_left = VALUES(time_left), expire_time = VALUES(expire_time), selling_time = VALUES(selling_time), selling_time_ago_desc = VALUES(selling_time_ago_desc), first_onsale_time = VALUES(first_onsale_time), pass_fair_show = VALUES(pass_fair_show), fair_show_time = VALUES(fair_show_time), fair_show_end_time = VALUES(fair_show_end_time), fair_show_end_time_left = VALUES(fair_show_end_time_left), fair_show_poundage = VALUES(fair_show_poundage), collect_num = VALUES(collect_num), has_collect = VALUES(has_collect), score = VALUES(score), icon_index = VALUES(icon_index), icon = VALUES(icon), equip_face_img = VALUES(equip_face_img), kindid = VALUES(kindid), game_channel = VALUES(game_channel), game_ordersn = VALUES(game_ordersn), whole_game_ordersn = VALUES(whole_game_ordersn), allow_cross_buy = VALUES(allow_cross_buy), cross_server_poundage = VALUES(cross_server_poundage), cross_server_poundage_origin = VALUES(cross_server_poundage_origin), cross_server_poundage_discount = VALUES(cross_server_poundage_discount), cross_server_poundage_discount_label = VALUES(cross_server_poundage_discount_label), cross_server_poundage_display_mode = VALUES(cross_server_poundage_display_mode), cross_server_activity_conf_discount = VALUES(cross_server_activity_conf_discount), activity_type = VALUES(activity_type), joined_seller_activity = VALUES(joined_seller_activity), is_split_sale = VALUES(is_split_sale), is_split_main_role = VALUES(is_split_main_role), is_split_independent_role = VALUES(is_split_independent_role), is_split_independent_equip = VALUES(is_split_independent_equip), split_equip_sold_happen = VALUES(split_equip_sold_happen), show_split_equip_sold_remind = VALUES(show_split_equip_sold_remind), is_onsale_protection_period = VALUES(is_onsale_protection_period), onsale_protection_end_time = VALUES(onsale_protection_end_time), is_vip_protection = VALUES(is_vip_protection), is_time_lock = VALUES(is_time_lock), equip_in_test_server = VALUES(equip_in_test_server), buyer_in_test_server = VALUES(buyer_in_test_server), equip_in_allow_take_away_server = VALUES(equip_in_allow_take_away_server), is_weijianding = VALUES(is_weijianding), is_show_alipay_privilege = VALUES(is_show_alipay_privilege), is_seller_redpacket_flag = VALUES(is_seller_redpacket_flag), is_show_expert_desc = VALUES(is_show_expert_desc), is_show_special_highlight = VALUES(is_show_special_highlight), is_xyq_game_role_kunpeng_reach_limit = VALUES(is_xyq_game_role_kunpeng_reach_limit), equip_onsale_version = VALUES(equip_onsale_version), storage_type = VALUES(storage_type), agent_trans_time = VALUES(agent_trans_time), kol_article_id = VALUES(kol_article_id), kol_share_id = VALUES(kol_share_id), kol_share_time = VALUES(kol_share_time), kol_share_status = VALUES(kol_share_status), reco_request_id = VALUES(reco_request_id), appointed_roleid = VALUES(appointed_roleid), play_team_cnt = VALUES(play_team_cnt), random_draw_finish_time = VALUES(random_draw_finish_time), desc = VALUES(desc), large_equip_desc = VALUES(large_equip_desc), desc_sumup = VALUES(desc_sumup), desc_sumup_short = VALUES(desc_sumup_short), diy_desc = VALUES(diy_desc), rec_desc = VALUES(rec_desc), search_type = VALUES(search_type), tag = VALUES(tag), price_explanation = VALUES(price_explanation), bargain_info = VALUES(bargain_info), diy_desc_pay_info = VALUES(diy_desc_pay_info), other_info = VALUES(other_info), video_info = VALUES(video_info), agg_added_attrs = VALUES(agg_added_attrs), dynamic_tags = VALUES(dynamic_tags), highlight = VALUES(highlight), tag_key = VALUES(tag_key), life_skills = VALUES(life_skills), school_skills = VALUES(school_skills), ju_qing_skills = VALUES(ju_qing_skills), yushoushu_skill = VALUES(yushoushu_skill), role_type = VALUES(role_type), update_time = VALUES(update_time)
                ]
[parameters: {'equipid': 14754209, 'equip_sn': '43770078', 'server_name': '西栅老街', 'serverid': 132, 'equip_server_sn': '544', 'seller_nickname': '天·力劈苍穹', 'seller_roleid': '43770078', 'area_name': '浙江1区', 'equip_name': '43770078', 'equip_type': '55970', 'equip_type_name': '九黎城', 'equip_type_desc': '', 'level': 129, 'equip_level': 129, 'equip_level_desc': '129级', 'level_desc': '129级', 'subtitle': '129级', 'equip_pos': 0, 'position': 0, 'school': 20, 'role_grade_limit': 0, 'min_buyer_level': 0, 'equip_count': 1, 'price': 229900.0, 'price_desc': '2299.00', 'unit_price_desc': '', 'min_unit_price': 6100.0, 'accept_bargain': 0, 'equip_status': 2, 'equip_status_desc': '上架中', 'status_desc': '上架中', 'onsale_expire_time_desc': '4天20时', 'time_left': '2025-09-20 12:29:45', 'expire_time': '2025-09-20 12:29:45', 'selling_time': '2025-09-06 12:29:45', 'selling_time_ago_desc': '9天前', 'first_onsale_time': '2025-06-15 11:20:06.441534', 'pass_fair_show': 1, 'fair_show_time': 0, 'fair_show_end_time': '2025-06-15 11:14:12', 'fair_show_end_time_left': '5分钟', 'fair_show_poundage': 0, 'collect_num': 14, 'has_collect': 0, 'score': 0, 'icon_index': 220, 'icon': 220, 'equip_face_img': '55970.gif', 'kindid': 82, 'game_channel': 'netease' ... 14 parameters truncated ... 'is_split_independent_equip': 0, 'split_equip_sold_happen': 1, 'show_split_equip_sold_remind': 0, 'is_onsale_protection_period': 0, 'onsale_protection_end_time': '2025-08-17 16:45:45', 'is_vip_protection': 0, 'is_time_lock': 0, 'equip_in_test_server': 0, 'buyer_in_test_server': 0, 'equip_in_allow_take_away_server': 0, 'is_weijianding': 0, 'is_show_alipay_privilege': 0, 'is_seller_redpacket_flag': 0, 'is_show_expert_desc': -1, 'is_show_special_highlight': 0, 'is_xyq_game_role_kunpeng_reach_limit': 0, 'equip_onsale_version': 19, 'storage_type': 4, 'agent_trans_time': 0, 'kol_article_id': '', 'kol_share_id': '', 'kol_share_time': '', 'kol_share_status': '', 'reco_request_id': '175792443743607mw-', 'appointed_roleid': '', 'play_team_cnt': 0, 'random_draw_finish_time': '2025-09-06 12:44:45', 'desc': '@YV12kdXGeU6tVpQy@InFcclx1MDAxM11cdTAwMWVcdTAwMTA8KFxuJ2lcdTAwMTgzXHUwMDA2NFx1MDAxNXtsXHUwMDAxXHUwMDFlSSU0Kzc8Ulx1MDAxMSRSa1FcdTAwMDJnXHUwMDBiXHUwMDF ... (32465 characters truncated) ... OFx1MDAxZCF0XHUwMDBiXHUwMDAzXFxIXHUwMDA1bkkoXHUwMDFmWFx1MDAwYll9Wzo5XFxfXHUwMDFlOzYmXGIwXHUwMDE0TmZcXHMxPCReYVxiXHUwMDBiKlwiR29cdTAwMDRHZlxcXGZQIg==@', 'large_equip_desc': '(["iTotalMagDef_all":670,"outdoor_level":0,"AllRider":([1:(["all_skills":([611:1,]),"iType":506,"exgrow":20941,"ExtraGrow":80,"iGrade":129,"mattrib": ... (9478 characters truncated) ... 4,]),(["lv":0,"idx":16,]),(["lv":0,"idx":17,]),}),]),"propKept":([0:(["iSpe":137,"iMag":142,"iCor":144,"iStr":900,"iRes":138,]),]),"HeroScore":230,])', 'desc_sumup': '已飞升 成就:1006 总修:32 总宠修:30', 'desc_sumup_short': '已飞升 成就:1006 总修:32 总宠修:30', 'diy_desc': '', 'rec_desc': None, 'search_type': 'overall_role_search', 'tag': 'generate_rec_all_kind_online_feature_kv_cache|rc20250911-seqprofile|ctr:40|succ:30|cvr:30', 'price_explanation': '{"chose_price": 229900, "chose_price_diff": 0, "chose_type": "origin", "choice_list": [{"price": 229900, "type": "origin", "label": "原价"}]}', 'bargain_info': '', 'diy_desc_pay_info': '{"is_show_agreement": false, "is_need_pay": false, "diy_desc_fee": 0, "is_pay_service": false, "is_show_pay_agreement": false}', 'other_info': '@YV12kdXGeU6tVpQy@IlwidERBXHUwMDBlXHUwMDE2NjJcYndcZlRiQ2ZOaWZcdTAwMDZcbkdEeiZcdTAwMDExaVx1MDAxOTNcdTAwMWMlJjhcIkVAXHUwMDE4RmJnPlxiXHUwMDFhVHRcYjhcdTA ... (3429 characters truncated) ... XHUwMDFiXHUwMDEwYFVHZ0pgSWlgXHUwMDExblx1MDAxZVJodFx1MDAwN1x0Q0AwXHUwMDE1NENqZFx1MDAxMW5cdTAwMWVSaHRcdTAwMDdcdENBNFx1MDAxMWElLGJXV1x1MDAwZV5rd0coIg==@', 'video_info': '{"video_desc": "129级九黎城上新啦~总修32，总宠修30，潜能全满，赶紧入手吧！", "video_type_desc": "亮点解析", "video_cover_url": "http://cc.fp.ps.netease.com/file/68a1a37059445b092 ... (317 characters truncated) ... 80, "video_version": "MDJS_3.0", "duration": "26.91", "has_video": true, "height": 1440, "video_type_short_desc": "亮点", "video_title": "小阁推荐129级九黎城"}', 'agg_added_attrs': '', 'dynamic_tags': '', 'highlight': '', 'tag_key': '{"discover_tag": null, "is_from_ad_reco": 0, "suggestion_tag": null, "tag": "generate_rec_all_kind_online_feature_kv_cache|rc20250911-seqprofile|ctr:40|succ:30|cvr:30", "nlp_desc_tag": ""}', 'life_skills': '{"巧匠之术": 45, "健身术": 40, "逃离技巧": 10, "养生之道": 40, "强身术": 108, "冥想": 78, "烹饪技巧": 10}', 'school_skills': '{"魔神降世": 130, "风行九黎": 80, "战火雄魂": 130, "兵铸乾坤": 130, "燃铁飞花": 139, "九黎战歌": 150, "魂枫战舞": 150}', 'ju_qing_skills': '{"仙灵店铺": 5, "变化之术": 6, "打坐": 5, "丹青之道": 1, "翰墨之道": 2}', 'yushoushu_skill': 0, 'role_type': 'normal', 'update_time': '2025-09-15 16:20:42'}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-09-15 16:21:25,795 - ERROR - 插入数据到表 large_equip_desc_data 失败: (pymysql.err.IntegrityError) (1452, 'Cannot add or update a child row: a foreign key constraint fails (`cbg_spider`.`large_equip_desc_data`, CONSTRAINT `large_equip_desc_data_ibfk_1` FOREIGN KEY (`eid`) REFERENCES `roles` (`eid`))')
[SQL: 
                INSERT INTO large_equip_desc_data (time_lock_days, role_name, role_level, role_school, role_icon, user_num, hp_max, mp_max, att_all, def_all, spe_all, mag_all, damage_all, mag_dam_all, mag_def_all, dod_all, cor_all, str_all, res_all, dex_all, up_exp, sum_exp, expt_ski1, expt_ski2, expt_ski3, expt_ski4, expt_ski5, max_expt1, max_expt2, max_expt3, max_expt4, beast_ski1, beast_ski2, beast_ski3, beast_ski4, all_new_point, skill_point, attribute_point, potential, max_potential, cash, saving, learn_cash, zhuan_zhi, three_fly_lv, nine_fight_level, goodness, badness, goodness_sav, role_title, org_name, org_offer, org_position, marry_id, marry2_id, marry_name, community_name, community_gid, achievement_total, hero_score, datang_feat, sword_score, dup_score, shenqi_score, qicai_score, xianyu_score, nuts_num, cg_total_amount, cg_body_amount, cg_box_amount, xianyu_amount, energy_amount, jiyuan_amount, add_point, packet_page, rent_level, outdoor_level, farm_level, house_real_owner, pride, bid_status, ori_race, current_race, sum_amount, version_code, pet, all_skills_json, all_equip_json, all_summon_json, child_json, child2_json, all_rider_json, ex_avt_json, huge_horse_json, fabao_json, lingbao_json, shenqi_json, idbid_desc_json, changesch_json, prop_kept_json, more_attr_json, update_time) 
                VALUES (%(time_lock_days)s, %(role_name)s, %(role_level)s, %(role_school)s, %(role_icon)s, %(user_num)s, %(hp_max)s, %(mp_max)s, %(att_all)s, %(def_all)s, %(spe_all)s, %(mag_all)s, %(damage_all)s, %(mag_dam_all)s, %(mag_def_all)s, %(dod_all)s, %(cor_all)s, %(str_all)s, %(res_all)s, %(dex_all)s, %(up_exp)s, %(sum_exp)s, %(expt_ski1)s, %(expt_ski2)s, %(expt_ski3)s, %(expt_ski4)s, %(expt_ski5)s, %(max_expt1)s, %(max_expt2)s, %(max_expt3)s, %(max_expt4)s, %(beast_ski1)s, %(beast_ski2)s, %(beast_ski3)s, %(beast_ski4)s, %(all_new_point)s, %(skill_point)s, %(attribute_point)s, %(potential)s, %(max_potential)s, %(cash)s, %(saving)s, %(learn_cash)s, %(zhuan_zhi)s, %(three_fly_lv)s, %(nine_fight_level)s, %(goodness)s, %(badness)s, %(goodness_sav)s, %(role_title)s, %(org_name)s, %(org_offer)s, %(org_position)s, %(marry_id)s, %(marry2_id)s, %(marry_name)s, %(community_name)s, %(community_gid)s, %(achievement_total)s, %(hero_score)s, %(datang_feat)s, %(sword_score)s, %(dup_score)s, %(shenqi_score)s, %(qicai_score)s, %(xianyu_score)s, %(nuts_num)s, %(cg_total_amount)s, %(cg_body_amount)s, %(cg_box_amount)s, %(xianyu_amount)s, %(energy_amount)s, %(jiyuan_amount)s, %(add_point)s, %(packet_page)s, %(rent_level)s, %(outdoor_level)s, %(farm_level)s, %(house_real_owner)s, %(pride)s, %(bid_status)s, %(ori_race)s, %(current_race)s, %(sum_amount)s, %(version_code)s, %(pet)s, %(all_skills_json)s, %(all_equip_json)s, %(all_summon_json)s, %(child_json)s, %(child2_json)s, %(all_rider_json)s, %(ex_avt_json)s, %(huge_horse_json)s, %(fabao_json)s, %(lingbao_json)s, %(shenqi_json)s, %(idbid_desc_json)s, %(changesch_json)s, %(prop_kept_json)s, %(more_attr_json)s, %(update_time)s)
                ON DUPLICATE KEY UPDATE time_lock_days = VALUES(time_lock_days), role_name = VALUES(role_name), role_level = VALUES(role_level), role_school = VALUES(role_school), role_icon = VALUES(role_icon), user_num = VALUES(user_num), hp_max = VALUES(hp_max), mp_max = VALUES(mp_max), att_all = VALUES(att_all), def_all = VALUES(def_all), spe_all = VALUES(spe_all), mag_all = VALUES(mag_all), damage_all = VALUES(damage_all), mag_dam_all = VALUES(mag_dam_all), mag_def_all = VALUES(mag_def_all), dod_all = VALUES(dod_all), cor_all = VALUES(cor_all), str_all = VALUES(str_all), res_all = VALUES(res_all), dex_all = VALUES(dex_all), up_exp = VALUES(up_exp), sum_exp = VALUES(sum_exp), expt_ski1 = VALUES(expt_ski1), expt_ski2 = VALUES(expt_ski2), expt_ski3 = VALUES(expt_ski3), expt_ski4 = VALUES(expt_ski4), expt_ski5 = VALUES(expt_ski5), max_expt1 = VALUES(max_expt1), max_expt2 = VALUES(max_expt2), max_expt3 = VALUES(max_expt3), max_expt4 = VALUES(max_expt4), beast_ski1 = VALUES(beast_ski1), beast_ski2 = VALUES(beast_ski2), beast_ski3 = VALUES(beast_ski3), beast_ski4 = VALUES(beast_ski4), all_new_point = VALUES(all_new_point), skill_point = VALUES(skill_point), attribute_point = VALUES(attribute_point), potential = VALUES(potential), max_potential = VALUES(max_potential), cash = VALUES(cash), saving = VALUES(saving), learn_cash = VALUES(learn_cash), zhuan_zhi = VALUES(zhuan_zhi), three_fly_lv = VALUES(three_fly_lv), nine_fight_level = VALUES(nine_fight_level), goodness = VALUES(goodness), badness = VALUES(badness), goodness_sav = VALUES(goodness_sav), role_title = VALUES(role_title), org_name = VALUES(org_name), org_offer = VALUES(org_offer), org_position = VALUES(org_position), marry_id = VALUES(marry_id), marry2_id = VALUES(marry2_id), marry_name = VALUES(marry_name), community_name = VALUES(community_name), community_gid = VALUES(community_gid), achievement_total = VALUES(achievement_total), hero_score = VALUES(hero_score), datang_feat = VALUES(datang_feat), sword_score = VALUES(sword_score), dup_score = VALUES(dup_score), shenqi_score = VALUES(shenqi_score), qicai_score = VALUES(qicai_score), xianyu_score = VALUES(xianyu_score), nuts_num = VALUES(nuts_num), cg_total_amount = VALUES(cg_total_amount), cg_body_amount = VALUES(cg_body_amount), cg_box_amount = VALUES(cg_box_amount), xianyu_amount = VALUES(xianyu_amount), energy_amount = VALUES(energy_amount), jiyuan_amount = VALUES(jiyuan_amount), add_point = VALUES(add_point), packet_page = VALUES(packet_page), rent_level = VALUES(rent_level), outdoor_level = VALUES(outdoor_level), farm_level = VALUES(farm_level), house_real_owner = VALUES(house_real_owner), pride = VALUES(pride), bid_status = VALUES(bid_status), ori_race = VALUES(ori_race), current_race = VALUES(current_race), sum_amount = VALUES(sum_amount), version_code = VALUES(version_code), pet = VALUES(pet), all_skills_json = VALUES(all_skills_json), all_equip_json = VALUES(all_equip_json), all_summon_json = VALUES(all_summon_json), child_json = VALUES(child_json), child2_json = VALUES(child2_json), all_rider_json = VALUES(all_rider_json), ex_avt_json = VALUES(ex_avt_json), huge_horse_json = VALUES(huge_horse_json), fabao_json = VALUES(fabao_json), lingbao_json = VALUES(lingbao_json), shenqi_json = VALUES(shenqi_json), idbid_desc_json = VALUES(idbid_desc_json), changesch_json = VALUES(changesch_json), prop_kept_json = VALUES(prop_kept_json), more_attr_json = VALUES(more_attr_json), update_time = VALUES(update_time)
                ]
[parameters: {'time_lock_days': 0, 'role_name': '天·力劈苍穹', 'role_level': 129, 'role_school': 20, 'role_icon': 220, 'user_num': '43770078', 'hp_max': 1980, 'mp_max': 774, 'att_all': 2436, 'def_all': 440, 'spe_all': 137, 'mag_all': 142, 'damage_all': 1348, 'mag_dam_all': 670, 'mag_def_all': 670, 'dod_all': 171, 'cor_all': 142, 'str_all': 902, 'res_all': 138, 'dex_all': 214, 'up_exp': 49669073, 'sum_exp': 37, 'expt_ski1': 21, 'expt_ski2': 5, 'expt_ski3': 0, 'expt_ski4': 6, 'expt_ski5': 0, 'max_expt1': 21, 'max_expt2': 20, 'max_expt3': 20, 'max_expt4': 20, 'beast_ski1': 10, 'beast_ski2': 0, 'beast_ski3': 10, 'beast_ski4': 10, 'all_new_point': 3, 'skill_point': 2, 'attribute_point': 0, 'potential': 0, 'max_potential': 0, 'cash': 141212, 'saving': 0, 'learn_cash': 5707181, 'zhuan_zhi': 1, 'three_fly_lv': 0, 'nine_fight_level': 8, 'goodness': 1956, 'badness': 0, 'goodness_sav': 2128, 'role_title': '' ... 2 parameters truncated ... 'org_position': '', 'marry_id': '0', 'marry2_id': '0', 'marry_name': '', 'community_name': '0', 'community_gid': '0', 'achievement_total': 1006, 'hero_score': 230, 'datang_feat': 4565, 'sword_score': 0, 'dup_score': 372, 'shenqi_score': 910, 'qicai_score': 0, 'xianyu_score': 1550, 'nuts_num': 100, 'cg_total_amount': 0, 'cg_body_amount': 0, 'cg_box_amount': 0, 'xianyu_amount': 26, 'energy_amount': 0, 'jiyuan_amount': 0, 'add_point': 6, 'packet_page': 0, 'rent_level': 0, 'outdoor_level': 0, 'farm_level': 0, 'house_real_owner': 0, 'pride': 800, 'bid_status': 0, 'ori_race': 2, 'current_race': 2, 'sum_amount': 8, 'version_code': '20250226', 'pet': '[]', 'all_skills_json': '{"216": 45, "52046": 1, "212": 40, "210": 10, "211": 40, "179": 1, "52042": 1, "174": 1, "173": 1, "198": 1, "52032": 1, "52031": 1, "52039": 1, "520 ... (197 characters truncated) ... 39004": 1, "39002": 1, "170": 2, "39008": 1, "146": 80, "144": 130, "202": 78, "142": 130, "143": 139, "140": 150, "141": 150, "208": 10, "51053": 1}', 'all_equip_json': '{"9": {"equip_sn": "8mI003yGN6Q", "cDesc": "#r等级 60  #r灵力 +56#r耐久度 179#Y#r#c4DBAF4特效：#c4DBAF4专注#Y  ", "iType": 2810, "obj_level": 60, "can_split_agen ... (315 characters truncated) ... 宝石 红宝石、 蓝宝石#r#G#G法术吸收率 火+8%、 水+8%#Y#Y#r#c4DBAF4套装效果：变身术之狂豹（人型）#Y#Y  ", "is_split_sale": 1, "iType": 2814, "eid": "202506151100113-132-HN1HHT1ZTR7Z"}}', 'all_summon_json': '[{"fin_jinjie": 1, "ori_type": 2078, "summon_equip1": {"cDesc": " #r等级 115  #r命中率 +13%#r耐久度 637#r#G#G敏捷 +16#Y#Y#r#c4DBAF4套装效果：附加状态#c4DBAF4高级否定信仰#Y#Y# ... (1586 characters truncated) ... dezz": 0, "dod": 1280, "att": 1161, "MS_MAX": 1800, "yuanxiao": 0, "iCor_all": 582, "growthMax": 1266, "jinjie_type": 2206, "sjg": 0, "iLockNew": 9}]', 'child_json': '{}', 'child2_json': '{}', 'all_rider_json': '{"1": {"all_skills": {"611": 1}, "iType": 506, "exgrow": 20941, "ExtraGrow": 80, "iGrade": 129, "mattrib": "敏捷"}}', 'ex_avt_json': '{"1": {"wear_pos": 0, "iType": 13116, "effect_pos": [0, 0, 0, 0, 0, 0, 0], "cName": "龙马炫卡", "order": 11, "extra_info": 1}, "2": {"wear_pos": 3, "iTyp ... (1410 characters truncated) ... er": 14, "extra_info": 1}, "14": {"wear_pos": 1, "iType": 42817, "effect_pos": [1, 2, 0, 0, 0, 0, 0], "cName": "翠潋烟云", "order": 10, "extra_info": 1}}', 'huge_horse_json': '{"665": {"iSkillLevel": 0, "iType": 11682, "cName": "碧潮海马", "Color_Str": "", "nosale": 0, "order": 1, "iSkill": 0}, "818": {"iSkillLevel": 1, "iType" ... (60 characters truncated) ... er": 2, "iSkill": 622}, "677": {"iSkillLevel": 0, "iType": 11694, "cName": "双黄月饼", "Color_Str": "104:982:983", "nosale": 0, "order": 3, "iSkill": 0}}', 'fabao_json': '{"11": {"cDesc": "0#Y灵气：#G157#Y 五行：#G土#Y#r修炼境界：第#G15#Y层 #cFF6F28天人合一#Y#r#n#Y最佳五行属性奖励：额外提升1%的概率#c7D7E82（未生效）#Y", "fumo_type": 0, "iType": 6131}, "12": ... (551 characters truncated) ...  "fumo_type": 0, "iType": 6021}, "18": {"cDesc": "0#W【回合限制】10#r#Y#Y灵气：#G50 #Y 五行：#G木#Y#r修炼境界：第#G0#Y层 #c7D7E82元神初具#Y", "fumo_type": 0, "iType": 6030}}', 'lingbao_json': '{}', 'shenqi_json': '{}', 'idbid_desc_json': '[]', 'changesch_json': '[]', 'prop_kept_json': '{"0": {"iSpe": 137, "iMag": 142, "iCor": 144, "iStr": 900, "iRes": 138}}', 'more_attr_json': '{"attrs": [{"lv": 0, "idx": 5}, {"lv": 0, "idx": 9}, {"lv": 0, "idx": 12}, {"lv": 0, "idx": 1}, {"lv": 0, "idx": 7}, {"lv": 0, "idx": 3}, {"lv": 0, " ... (82 characters truncated) ... 0, "idx": 15}, {"lv": 0, "idx": 4}, {"lv": 0, "idx": 2}, {"lv": 171, "idx": 13}, {"lv": 670, "idx": 14}, {"lv": 0, "idx": 16}, {"lv": 0, "idx": 17}]}', 'update_time': '2025-09-15 16:21:04'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-15 16:21:51,105 - ERROR - 插入数据到表 roles 失败: (pymysql.err.ProgrammingError) (1064, "You have an error in your SQL syntax; check the manual that corresponds to your MariaDB server version for the right syntax to use near 'desc, large_equip_desc, desc_sumup, desc_sumup_short, diy_desc, rec_desc, search' at line 1")
[SQL: 
                INSERT INTO roles (equipid, equip_sn, server_name, serverid, equip_server_sn, seller_nickname, seller_roleid, area_name, equip_name, equip_type, equip_type_name, equip_type_desc, level, equip_level, equip_level_desc, level_desc, subtitle, equip_pos, position, school, role_grade_limit, min_buyer_level, equip_count, price, price_desc, unit_price_desc, min_unit_price, accept_bargain, equip_status, equip_status_desc, status_desc, onsale_expire_time_desc, time_left, expire_time, selling_time, selling_time_ago_desc, first_onsale_time, pass_fair_show, fair_show_time, fair_show_end_time, fair_show_end_time_left, fair_show_poundage, collect_num, has_collect, score, icon_index, icon, equip_face_img, kindid, game_channel, game_ordersn, whole_game_ordersn, allow_cross_buy, cross_server_poundage, cross_server_poundage_origin, cross_server_poundage_discount, cross_server_poundage_discount_label, cross_server_poundage_display_mode, cross_server_activity_conf_discount, activity_type, joined_seller_activity, is_split_sale, is_split_main_role, is_split_independent_role, is_split_independent_equip, split_equip_sold_happen, show_split_equip_sold_remind, is_onsale_protection_period, onsale_protection_end_time, is_vip_protection, is_time_lock, equip_in_test_server, buyer_in_test_server, equip_in_allow_take_away_server, is_weijianding, is_show_alipay_privilege, is_seller_redpacket_flag, is_show_expert_desc, is_show_special_highlight, is_xyq_game_role_kunpeng_reach_limit, equip_onsale_version, storage_type, agent_trans_time, kol_article_id, kol_share_id, kol_share_time, kol_share_status, reco_request_id, appointed_roleid, play_team_cnt, random_draw_finish_time, desc, large_equip_desc, desc_sumup, desc_sumup_short, diy_desc, rec_desc, search_type, tag, price_explanation, bargain_info, diy_desc_pay_info, other_info, video_info, agg_added_attrs, dynamic_tags, highlight, tag_key, life_skills, school_skills, ju_qing_skills, yushoushu_skill, role_type, update_time) 
                VALUES (%(equipid)s, %(equip_sn)s, %(server_name)s, %(serverid)s, %(equip_server_sn)s, %(seller_nickname)s, %(seller_roleid)s, %(area_name)s, %(equip_name)s, %(equip_type)s, %(equip_type_name)s, %(equip_type_desc)s, %(level)s, %(equip_level)s, %(equip_level_desc)s, %(level_desc)s, %(subtitle)s, %(equip_pos)s, %(position)s, %(school)s, %(role_grade_limit)s, %(min_buyer_level)s, %(equip_count)s, %(price)s, %(price_desc)s, %(unit_price_desc)s, %(min_unit_price)s, %(accept_bargain)s, %(equip_status)s, %(equip_status_desc)s, %(status_desc)s, %(onsale_expire_time_desc)s, %(time_left)s, %(expire_time)s, %(selling_time)s, %(selling_time_ago_desc)s, %(first_onsale_time)s, %(pass_fair_show)s, %(fair_show_time)s, %(fair_show_end_time)s, %(fair_show_end_time_left)s, %(fair_show_poundage)s, %(collect_num)s, %(has_collect)s, %(score)s, %(icon_index)s, %(icon)s, %(equip_face_img)s, %(kindid)s, %(game_channel)s, %(game_ordersn)s, %(whole_game_ordersn)s, %(allow_cross_buy)s, %(cross_server_poundage)s, %(cross_server_poundage_origin)s, %(cross_server_poundage_discount)s, %(cross_server_poundage_discount_label)s, %(cross_server_poundage_display_mode)s, %(cross_server_activity_conf_discount)s, %(activity_type)s, %(joined_seller_activity)s, %(is_split_sale)s, %(is_split_main_role)s, %(is_split_independent_role)s, %(is_split_independent_equip)s, %(split_equip_sold_happen)s, %(show_split_equip_sold_remind)s, %(is_onsale_protection_period)s, %(onsale_protection_end_time)s, %(is_vip_protection)s, %(is_time_lock)s, %(equip_in_test_server)s, %(buyer_in_test_server)s, %(equip_in_allow_take_away_server)s, %(is_weijianding)s, %(is_show_alipay_privilege)s, %(is_seller_redpacket_flag)s, %(is_show_expert_desc)s, %(is_show_special_highlight)s, %(is_xyq_game_role_kunpeng_reach_limit)s, %(equip_onsale_version)s, %(storage_type)s, %(agent_trans_time)s, %(kol_article_id)s, %(kol_share_id)s, %(kol_share_time)s, %(kol_share_status)s, %(reco_request_id)s, %(appointed_roleid)s, %(play_team_cnt)s, %(random_draw_finish_time)s, %(desc)s, %(large_equip_desc)s, %(desc_sumup)s, %(desc_sumup_short)s, %(diy_desc)s, %(rec_desc)s, %(search_type)s, %(tag)s, %(price_explanation)s, %(bargain_info)s, %(diy_desc_pay_info)s, %(other_info)s, %(video_info)s, %(agg_added_attrs)s, %(dynamic_tags)s, %(highlight)s, %(tag_key)s, %(life_skills)s, %(school_skills)s, %(ju_qing_skills)s, %(yushoushu_skill)s, %(role_type)s, %(update_time)s)
                ON DUPLICATE KEY UPDATE equipid = VALUES(equipid), equip_sn = VALUES(equip_sn), server_name = VALUES(server_name), serverid = VALUES(serverid), equip_server_sn = VALUES(equip_server_sn), seller_nickname = VALUES(seller_nickname), seller_roleid = VALUES(seller_roleid), area_name = VALUES(area_name), equip_name = VALUES(equip_name), equip_type = VALUES(equip_type), equip_type_name = VALUES(equip_type_name), equip_type_desc = VALUES(equip_type_desc), level = VALUES(level), equip_level = VALUES(equip_level), equip_level_desc = VALUES(equip_level_desc), level_desc = VALUES(level_desc), subtitle = VALUES(subtitle), equip_pos = VALUES(equip_pos), position = VALUES(position), school = VALUES(school), role_grade_limit = VALUES(role_grade_limit), min_buyer_level = VALUES(min_buyer_level), equip_count = VALUES(equip_count), price = VALUES(price), price_desc = VALUES(price_desc), unit_price_desc = VALUES(unit_price_desc), min_unit_price = VALUES(min_unit_price), accept_bargain = VALUES(accept_bargain), equip_status = VALUES(equip_status), equip_status_desc = VALUES(equip_status_desc), status_desc = VALUES(status_desc), onsale_expire_time_desc = VALUES(onsale_expire_time_desc), time_left = VALUES(time_left), expire_time = VALUES(expire_time), selling_time = VALUES(selling_time), selling_time_ago_desc = VALUES(selling_time_ago_desc), first_onsale_time = VALUES(first_onsale_time), pass_fair_show = VALUES(pass_fair_show), fair_show_time = VALUES(fair_show_time), fair_show_end_time = VALUES(fair_show_end_time), fair_show_end_time_left = VALUES(fair_show_end_time_left), fair_show_poundage = VALUES(fair_show_poundage), collect_num = VALUES(collect_num), has_collect = VALUES(has_collect), score = VALUES(score), icon_index = VALUES(icon_index), icon = VALUES(icon), equip_face_img = VALUES(equip_face_img), kindid = VALUES(kindid), game_channel = VALUES(game_channel), game_ordersn = VALUES(game_ordersn), whole_game_ordersn = VALUES(whole_game_ordersn), allow_cross_buy = VALUES(allow_cross_buy), cross_server_poundage = VALUES(cross_server_poundage), cross_server_poundage_origin = VALUES(cross_server_poundage_origin), cross_server_poundage_discount = VALUES(cross_server_poundage_discount), cross_server_poundage_discount_label = VALUES(cross_server_poundage_discount_label), cross_server_poundage_display_mode = VALUES(cross_server_poundage_display_mode), cross_server_activity_conf_discount = VALUES(cross_server_activity_conf_discount), activity_type = VALUES(activity_type), joined_seller_activity = VALUES(joined_seller_activity), is_split_sale = VALUES(is_split_sale), is_split_main_role = VALUES(is_split_main_role), is_split_independent_role = VALUES(is_split_independent_role), is_split_independent_equip = VALUES(is_split_independent_equip), split_equip_sold_happen = VALUES(split_equip_sold_happen), show_split_equip_sold_remind = VALUES(show_split_equip_sold_remind), is_onsale_protection_period = VALUES(is_onsale_protection_period), onsale_protection_end_time = VALUES(onsale_protection_end_time), is_vip_protection = VALUES(is_vip_protection), is_time_lock = VALUES(is_time_lock), equip_in_test_server = VALUES(equip_in_test_server), buyer_in_test_server = VALUES(buyer_in_test_server), equip_in_allow_take_away_server = VALUES(equip_in_allow_take_away_server), is_weijianding = VALUES(is_weijianding), is_show_alipay_privilege = VALUES(is_show_alipay_privilege), is_seller_redpacket_flag = VALUES(is_seller_redpacket_flag), is_show_expert_desc = VALUES(is_show_expert_desc), is_show_special_highlight = VALUES(is_show_special_highlight), is_xyq_game_role_kunpeng_reach_limit = VALUES(is_xyq_game_role_kunpeng_reach_limit), equip_onsale_version = VALUES(equip_onsale_version), storage_type = VALUES(storage_type), agent_trans_time = VALUES(agent_trans_time), kol_article_id = VALUES(kol_article_id), kol_share_id = VALUES(kol_share_id), kol_share_time = VALUES(kol_share_time), kol_share_status = VALUES(kol_share_status), reco_request_id = VALUES(reco_request_id), appointed_roleid = VALUES(appointed_roleid), play_team_cnt = VALUES(play_team_cnt), random_draw_finish_time = VALUES(random_draw_finish_time), desc = VALUES(desc), large_equip_desc = VALUES(large_equip_desc), desc_sumup = VALUES(desc_sumup), desc_sumup_short = VALUES(desc_sumup_short), diy_desc = VALUES(diy_desc), rec_desc = VALUES(rec_desc), search_type = VALUES(search_type), tag = VALUES(tag), price_explanation = VALUES(price_explanation), bargain_info = VALUES(bargain_info), diy_desc_pay_info = VALUES(diy_desc_pay_info), other_info = VALUES(other_info), video_info = VALUES(video_info), agg_added_attrs = VALUES(agg_added_attrs), dynamic_tags = VALUES(dynamic_tags), highlight = VALUES(highlight), tag_key = VALUES(tag_key), life_skills = VALUES(life_skills), school_skills = VALUES(school_skills), ju_qing_skills = VALUES(ju_qing_skills), yushoushu_skill = VALUES(yushoushu_skill), role_type = VALUES(role_type), update_time = VALUES(update_time)
                ]
[parameters: {'equipid': 15185548, 'equip_sn': '38379869', 'server_name': '西栅老街', 'serverid': 132, 'equip_server_sn': '544', 'seller_nickname': '夏末的晨曦ˇ', 'seller_roleid': '38379869', 'area_name': '浙江1区', 'equip_name': '38379869', 'equip_type': '3745', 'equip_type_name': '普陀山', 'equip_type_desc': '', 'level': 144, 'equip_level': 144, 'equip_level_desc': '144级', 'level_desc': '144级', 'subtitle': '144级', 'equip_pos': 0, 'position': 1, 'school': 6, 'role_grade_limit': 0, 'min_buyer_level': 0, 'equip_count': 1, 'price': 69900.0, 'price_desc': '699.00', 'unit_price_desc': '', 'min_unit_price': 6100.0, 'accept_bargain': 0, 'equip_status': 2, 'equip_status_desc': '上架中', 'status_desc': '上架中', 'onsale_expire_time_desc': '7天22时', 'time_left': '2025-09-23 14:31:12', 'expire_time': '2025-09-23 14:31:12', 'selling_time': '2025-09-09 14:31:12', 'selling_time_ago_desc': '6天前', 'first_onsale_time': '2025-09-05 14:27:47.560720', 'pass_fair_show': 1, 'fair_show_time': 0, 'fair_show_end_time': '2025-09-05 14:27:47', 'fair_show_end_time_left': '5分钟', 'fair_show_poundage': 0, 'collect_num': 1, 'has_collect': 0, 'score': 0, 'icon_index': 223, 'icon': 223, 'equip_face_img': '327_3745.gif', 'kindid': 35, 'game_channel': 'netease' ... 14 parameters truncated ... 'is_split_independent_equip': 0, 'split_equip_sold_happen': 0, 'show_split_equip_sold_remind': 0, 'is_onsale_protection_period': 0, 'onsale_protection_end_time': '2025-09-05 14:57:47', 'is_vip_protection': 0, 'is_time_lock': 0, 'equip_in_test_server': 0, 'buyer_in_test_server': 0, 'equip_in_allow_take_away_server': 0, 'is_weijianding': 0, 'is_show_alipay_privilege': 0, 'is_seller_redpacket_flag': 0, 'is_show_expert_desc': -1, 'is_show_special_highlight': 0, 'is_xyq_game_role_kunpeng_reach_limit': 0, 'equip_onsale_version': 5, 'storage_type': 4, 'agent_trans_time': 0, 'kol_article_id': '', 'kol_share_id': '', 'kol_share_time': '', 'kol_share_status': '', 'reco_request_id': '175792443743607mw-', 'appointed_roleid': '', 'play_team_cnt': 0, 'random_draw_finish_time': '2025-09-09 14:46:12', 'desc': '@YV12kdXGeU6tVpQy@InFcclx1MDAxM11cdTAwMWVcdTAwMTA8KFxuJ2lcdTAwMTgzXHUwMDA2NFx1MDAxNXtsXHUwMDAwXHUwMDFlSSU0Kzc8Ulx1MDAxMSRSa1FcdTAwMDJnXHUwMDBiXHUwMDF ... (16025 characters truncated) ... Q3oteFUkXHUwMDdmXHUwMDFkb0JIeiRcbjhbXHUwMDAxXHRcdTAwMWUwXHUwMDE0PHRcdTAwMGJcdTAwMTBJSHpcdTAwMGZcdTAwMDAnWSc1XHUwMDFmI1x1MDAxY3tsXHUwMDAxXHUwMDFlNk0i@', 'large_equip_desc': '(["xianyu_score":2000,"total_horse":2,"fabao":([12:(["iType":6138,"fumo_type":0,"cDesc":"0#Y灵气：#G50 #Y 五行：#G水#Y#r修炼境界：第#G0#Y层 #c7D7E82元神初具#Y",]),4:([ ... (4748 characters truncated) ... ":12708,"iType":503,"ExtraGrow":0,"mattrib":"敏捷","all_skills":([]),]),]),"iAtt_All":295,"achmap":(["80017":0,"81732":0,]),"iExptSki5":0,"iPoint":0,])', 'desc_sumup': '成就:889 总修:31 总宠修:11', 'desc_sumup_short': '成就:889 总修:31 总宠修:11', 'diy_desc': '', 'rec_desc': None, 'search_type': 'overall_role_search', 'tag': 'generate_rec_all_kind_online_feature_kv_cache|rc20250911-seqprofile|ctr:40|succ:30|cvr:30', 'price_explanation': '{"chose_price": 69900, "chose_price_diff": 0, "chose_type": "origin", "choice_list": [{"price": 69900, "type": "origin", "label": "原价"}]}', 'bargain_info': '', 'diy_desc_pay_info': '{"is_show_agreement": false, "is_need_pay": false, "diy_desc_fee": 0, "is_pay_service": false, "is_show_pay_agreement": false}', 'other_info': '@YV12kdXGeU6tVpQy@IlwidERBXHUwMDBlXHUwMDE2NjJcYndcZlRlSGJOYG5cdTAwMDdcdTAwMGJHRHomXHUwMDAxMWlcdTAwMTkzXHUwMDFjJSY4XCJFQFx1MDAxOEZiZz5cYlx1MDAxYVR0XGI ... (3101 characters truncated) ... I1x1MDAwNFFYVWJcdTAwN2ZdbFx1MDAxNigjRmFKO1xuRFx1MDAwNlxyXHUwMDAxPX1WZFx1MDAxNigjRmFKO1xuRFx1MDAwN1x0XHUwMDA1aFx1MDAxYlx1MDAxMGFQXHUwMDExM0pgSHsrIg==@', 'video_info': '', 'agg_added_attrs': '', 'dynamic_tags': '[{"type": "unsupport", "name": "刚刚25人浏览", "value": null, "show": true}]', 'highlight': '', 'tag_key': '{"discover_tag": null, "is_from_ad_reco": 0, "suggestion_tag": null, "tag": "generate_rec_all_kind_online_feature_kv_cache|rc20250911-seqprofile|ctr:40|succ:30|cvr:30", "nlp_desc_tag": ""}', 'life_skills': '{"逃离技巧": 10, "追捕技巧": 10, "强身术": 120, "养生之道": 45, "烹饪技巧": 100, "健身术": 45, "冥想": 100, "巧匠之术": 55}', 'school_skills': '{"护法金刚": 100, "莲花宝座": 100, "灵性": 135, "观音咒": 90, "五行学说": 135, "金刚经": 112, "五行扭转": 120}', 'ju_qing_skills': '{"变化之术": 5, "仙灵店铺": 5, "翰墨之道": 1, "妙手空空": 4, "宝石工艺": 7, "丹青之道": 1}', 'yushoushu_skill': 0, 'role_type': 'empty', 'update_time': '2025-09-15 16:21:30'}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-09-15 16:26:04,989 - INFO - Spider实例将在需要时延迟创建
2025-09-15 16:26:06,832 - INFO - 成功加载 45 个Cookie
2025-09-15 16:26:06,939 - INFO - 已注入 45 个Cookie到浏览器上下文
2025-09-15 16:26:07,273 - INFO - Playwright浏览器设置完成
2025-09-15 16:26:07,291 - INFO - Playwright网络监听已设置
2025-09-15 16:26:07,292 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-15 16:26:09,144 - INFO - 页面初始加载完成
2025-09-15 16:26:10,817 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1757924769132&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-15 16:26:10,818 - INFO - 开始创建角色spider实例...
2025-09-15 16:26:12,121 - INFO - 装备锚点估价器和特征提取器导入成功
2025-09-15 16:26:12,131 - INFO - 装备特征提取器初始化成功
2025-09-15 16:26:12,139 - INFO - 灵饰特征提取器初始化成功
2025-09-15 16:26:12,139 - INFO - 宠物装备特征提取器初始化成功
2025-09-15 16:26:12,269 - INFO - 装备锚点估价器初始化成功
2025-09-15 16:26:12,307 - INFO - 统一特征提取器初始化成功
2025-09-15 16:26:12,310 - INFO - 异常装备数据库初始化成功
2025-09-15 16:26:12,326 - INFO - 装备特征提取器初始化成功
2025-09-15 16:26:12,339 - INFO - 灵饰特征提取器初始化成功
2025-09-15 16:26:12,339 - INFO - 宠物装备特征提取器初始化成功
2025-09-15 16:26:12,391 - INFO - 装备锚点估价器初始化成功
2025-09-15 16:26:12,464 - INFO - 统一特征提取器初始化成功
2025-09-15 16:26:12,466 - INFO - 异常装备数据库初始化成功
2025-09-15 16:26:12,826 - INFO - 角色特征提取器初始化成功
2025-09-15 16:26:12,830 - INFO - 角色市场锚定估价器初始化成功
2025-09-15 16:26:12,839 - INFO - 宠物特征提取器初始化成功
2025-09-15 16:26:12,840 - INFO - 宠物锚点估价器初始化成功
2025-09-15 16:26:12,845 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-15 16:26:12,845 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-15 16:26:12,939 - INFO - 角色spider实例已创建
2025-09-15 16:26:12,943 - INFO - 开始保存角色数据，数量: 15
2025-09-15 16:26:12,943 - INFO - 检查角色数据库...
2025-09-15 16:26:12,943 - INFO - 检查数据库类型: role
2025-09-15 16:26:12,943 - INFO - 数据库路径: C:\Users\Administrator\Desktop\mh\data\202509\cbg_roles_202509.db
2025-09-15 16:26:12,943 - INFO - 数据库文件是否存在: True
2025-09-15 16:26:12,944 - INFO - 获取角色spider实例...
2025-09-15 16:26:12,944 - INFO - 调用角色spider的save_role_data方法...
2025-09-15 16:26:12,968 - INFO - 成功加载game_auto_config.js配置，包含132个配置项
2025-09-15 16:27:47,092 - ERROR - 插入数据到表 large_equip_desc_data 失败: (pymysql.err.IntegrityError) (1452, 'Cannot add or update a child row: a foreign key constraint fails (`cbg_spider`.`large_equip_desc_data`, CONSTRAINT `large_equip_desc_data_ibfk_1` FOREIGN KEY (`eid`) REFERENCES `roles` (`eid`))')
[SQL: 
                INSERT INTO large_equip_desc_data (time_lock_days, role_name, role_level, role_school, role_icon, user_num, hp_max, mp_max, att_all, def_all, spe_all, mag_all, damage_all, mag_dam_all, mag_def_all, dod_all, cor_all, str_all, res_all, dex_all, up_exp, sum_exp, expt_ski1, expt_ski2, expt_ski3, expt_ski4, expt_ski5, max_expt1, max_expt2, max_expt3, max_expt4, beast_ski1, beast_ski2, beast_ski3, beast_ski4, all_new_point, skill_point, attribute_point, potential, max_potential, cash, saving, learn_cash, zhuan_zhi, three_fly_lv, nine_fight_level, goodness, badness, goodness_sav, role_title, org_name, org_offer, org_position, marry_id, marry2_id, marry_name, community_name, community_gid, achievement_total, hero_score, datang_feat, sword_score, dup_score, shenqi_score, qicai_score, xianyu_score, nuts_num, cg_total_amount, cg_body_amount, cg_box_amount, xianyu_amount, energy_amount, jiyuan_amount, add_point, packet_page, rent_level, outdoor_level, farm_level, house_real_owner, pride, bid_status, ori_race, current_race, sum_amount, version_code, pet, all_skills_json, all_equip_json, all_summon_json, child_json, child2_json, all_rider_json, ex_avt_json, huge_horse_json, fabao_json, lingbao_json, shenqi_json, idbid_desc_json, changesch_json, prop_kept_json, more_attr_json, update_time) 
                VALUES (%(time_lock_days)s, %(role_name)s, %(role_level)s, %(role_school)s, %(role_icon)s, %(user_num)s, %(hp_max)s, %(mp_max)s, %(att_all)s, %(def_all)s, %(spe_all)s, %(mag_all)s, %(damage_all)s, %(mag_dam_all)s, %(mag_def_all)s, %(dod_all)s, %(cor_all)s, %(str_all)s, %(res_all)s, %(dex_all)s, %(up_exp)s, %(sum_exp)s, %(expt_ski1)s, %(expt_ski2)s, %(expt_ski3)s, %(expt_ski4)s, %(expt_ski5)s, %(max_expt1)s, %(max_expt2)s, %(max_expt3)s, %(max_expt4)s, %(beast_ski1)s, %(beast_ski2)s, %(beast_ski3)s, %(beast_ski4)s, %(all_new_point)s, %(skill_point)s, %(attribute_point)s, %(potential)s, %(max_potential)s, %(cash)s, %(saving)s, %(learn_cash)s, %(zhuan_zhi)s, %(three_fly_lv)s, %(nine_fight_level)s, %(goodness)s, %(badness)s, %(goodness_sav)s, %(role_title)s, %(org_name)s, %(org_offer)s, %(org_position)s, %(marry_id)s, %(marry2_id)s, %(marry_name)s, %(community_name)s, %(community_gid)s, %(achievement_total)s, %(hero_score)s, %(datang_feat)s, %(sword_score)s, %(dup_score)s, %(shenqi_score)s, %(qicai_score)s, %(xianyu_score)s, %(nuts_num)s, %(cg_total_amount)s, %(cg_body_amount)s, %(cg_box_amount)s, %(xianyu_amount)s, %(energy_amount)s, %(jiyuan_amount)s, %(add_point)s, %(packet_page)s, %(rent_level)s, %(outdoor_level)s, %(farm_level)s, %(house_real_owner)s, %(pride)s, %(bid_status)s, %(ori_race)s, %(current_race)s, %(sum_amount)s, %(version_code)s, %(pet)s, %(all_skills_json)s, %(all_equip_json)s, %(all_summon_json)s, %(child_json)s, %(child2_json)s, %(all_rider_json)s, %(ex_avt_json)s, %(huge_horse_json)s, %(fabao_json)s, %(lingbao_json)s, %(shenqi_json)s, %(idbid_desc_json)s, %(changesch_json)s, %(prop_kept_json)s, %(more_attr_json)s, %(update_time)s)
                ON DUPLICATE KEY UPDATE time_lock_days = VALUES(time_lock_days), role_name = VALUES(role_name), role_level = VALUES(role_level), role_school = VALUES(role_school), role_icon = VALUES(role_icon), user_num = VALUES(user_num), hp_max = VALUES(hp_max), mp_max = VALUES(mp_max), att_all = VALUES(att_all), def_all = VALUES(def_all), spe_all = VALUES(spe_all), mag_all = VALUES(mag_all), damage_all = VALUES(damage_all), mag_dam_all = VALUES(mag_dam_all), mag_def_all = VALUES(mag_def_all), dod_all = VALUES(dod_all), cor_all = VALUES(cor_all), str_all = VALUES(str_all), res_all = VALUES(res_all), dex_all = VALUES(dex_all), up_exp = VALUES(up_exp), sum_exp = VALUES(sum_exp), expt_ski1 = VALUES(expt_ski1), expt_ski2 = VALUES(expt_ski2), expt_ski3 = VALUES(expt_ski3), expt_ski4 = VALUES(expt_ski4), expt_ski5 = VALUES(expt_ski5), max_expt1 = VALUES(max_expt1), max_expt2 = VALUES(max_expt2), max_expt3 = VALUES(max_expt3), max_expt4 = VALUES(max_expt4), beast_ski1 = VALUES(beast_ski1), beast_ski2 = VALUES(beast_ski2), beast_ski3 = VALUES(beast_ski3), beast_ski4 = VALUES(beast_ski4), all_new_point = VALUES(all_new_point), skill_point = VALUES(skill_point), attribute_point = VALUES(attribute_point), potential = VALUES(potential), max_potential = VALUES(max_potential), cash = VALUES(cash), saving = VALUES(saving), learn_cash = VALUES(learn_cash), zhuan_zhi = VALUES(zhuan_zhi), three_fly_lv = VALUES(three_fly_lv), nine_fight_level = VALUES(nine_fight_level), goodness = VALUES(goodness), badness = VALUES(badness), goodness_sav = VALUES(goodness_sav), role_title = VALUES(role_title), org_name = VALUES(org_name), org_offer = VALUES(org_offer), org_position = VALUES(org_position), marry_id = VALUES(marry_id), marry2_id = VALUES(marry2_id), marry_name = VALUES(marry_name), community_name = VALUES(community_name), community_gid = VALUES(community_gid), achievement_total = VALUES(achievement_total), hero_score = VALUES(hero_score), datang_feat = VALUES(datang_feat), sword_score = VALUES(sword_score), dup_score = VALUES(dup_score), shenqi_score = VALUES(shenqi_score), qicai_score = VALUES(qicai_score), xianyu_score = VALUES(xianyu_score), nuts_num = VALUES(nuts_num), cg_total_amount = VALUES(cg_total_amount), cg_body_amount = VALUES(cg_body_amount), cg_box_amount = VALUES(cg_box_amount), xianyu_amount = VALUES(xianyu_amount), energy_amount = VALUES(energy_amount), jiyuan_amount = VALUES(jiyuan_amount), add_point = VALUES(add_point), packet_page = VALUES(packet_page), rent_level = VALUES(rent_level), outdoor_level = VALUES(outdoor_level), farm_level = VALUES(farm_level), house_real_owner = VALUES(house_real_owner), pride = VALUES(pride), bid_status = VALUES(bid_status), ori_race = VALUES(ori_race), current_race = VALUES(current_race), sum_amount = VALUES(sum_amount), version_code = VALUES(version_code), pet = VALUES(pet), all_skills_json = VALUES(all_skills_json), all_equip_json = VALUES(all_equip_json), all_summon_json = VALUES(all_summon_json), child_json = VALUES(child_json), child2_json = VALUES(child2_json), all_rider_json = VALUES(all_rider_json), ex_avt_json = VALUES(ex_avt_json), huge_horse_json = VALUES(huge_horse_json), fabao_json = VALUES(fabao_json), lingbao_json = VALUES(lingbao_json), shenqi_json = VALUES(shenqi_json), idbid_desc_json = VALUES(idbid_desc_json), changesch_json = VALUES(changesch_json), prop_kept_json = VALUES(prop_kept_json), more_attr_json = VALUES(more_attr_json), update_time = VALUES(update_time)
                ]
[parameters: {'time_lock_days': 0, 'role_name': '天·力劈苍穹', 'role_level': 129, 'role_school': 20, 'role_icon': 220, 'user_num': '43770078', 'hp_max': 1980, 'mp_max': 774, 'att_all': 2436, 'def_all': 440, 'spe_all': 137, 'mag_all': 142, 'damage_all': 1348, 'mag_dam_all': 670, 'mag_def_all': 670, 'dod_all': 171, 'cor_all': 142, 'str_all': 902, 'res_all': 138, 'dex_all': 214, 'up_exp': 49669073, 'sum_exp': 37, 'expt_ski1': 21, 'expt_ski2': 5, 'expt_ski3': 0, 'expt_ski4': 6, 'expt_ski5': 0, 'max_expt1': 21, 'max_expt2': 20, 'max_expt3': 20, 'max_expt4': 20, 'beast_ski1': 10, 'beast_ski2': 0, 'beast_ski3': 10, 'beast_ski4': 10, 'all_new_point': 3, 'skill_point': 2, 'attribute_point': 0, 'potential': 0, 'max_potential': 0, 'cash': 141212, 'saving': 0, 'learn_cash': 5707181, 'zhuan_zhi': 1, 'three_fly_lv': 0, 'nine_fight_level': 8, 'goodness': 1956, 'badness': 0, 'goodness_sav': 2128, 'role_title': '' ... 2 parameters truncated ... 'org_position': '', 'marry_id': '0', 'marry2_id': '0', 'marry_name': '', 'community_name': '0', 'community_gid': '0', 'achievement_total': 1006, 'hero_score': 230, 'datang_feat': 4565, 'sword_score': 0, 'dup_score': 372, 'shenqi_score': 910, 'qicai_score': 0, 'xianyu_score': 1550, 'nuts_num': 100, 'cg_total_amount': 0, 'cg_body_amount': 0, 'cg_box_amount': 0, 'xianyu_amount': 26, 'energy_amount': 0, 'jiyuan_amount': 0, 'add_point': 6, 'packet_page': 0, 'rent_level': 0, 'outdoor_level': 0, 'farm_level': 0, 'house_real_owner': 0, 'pride': 800, 'bid_status': 0, 'ori_race': 2, 'current_race': 2, 'sum_amount': 8, 'version_code': '20250226', 'pet': '[]', 'all_skills_json': '{"216": 45, "52046": 1, "212": 40, "210": 10, "211": 40, "179": 1, "52042": 1, "174": 1, "173": 1, "198": 1, "52032": 1, "52031": 1, "52039": 1, "520 ... (197 characters truncated) ... 39004": 1, "39002": 1, "170": 2, "39008": 1, "146": 80, "144": 130, "202": 78, "142": 130, "143": 139, "140": 150, "141": 150, "208": 10, "51053": 1}', 'all_equip_json': '{"9": {"equip_sn": "8mI003yGN6Q", "cDesc": "#r等级 60  #r灵力 +56#r耐久度 179#Y#r#c4DBAF4特效：#c4DBAF4专注#Y  ", "iType": 2810, "obj_level": 60, "can_split_agen ... (315 characters truncated) ... 宝石 红宝石、 蓝宝石#r#G#G法术吸收率 火+8%、 水+8%#Y#Y#r#c4DBAF4套装效果：变身术之狂豹（人型）#Y#Y  ", "is_split_sale": 1, "iType": 2814, "eid": "202506151100113-132-HN1HHT1ZTR7Z"}}', 'all_summon_json': '[{"fin_jinjie": 1, "ori_type": 2078, "summon_equip1": {"cDesc": " #r等级 115  #r命中率 +13%#r耐久度 637#r#G#G敏捷 +16#Y#Y#r#c4DBAF4套装效果：附加状态#c4DBAF4高级否定信仰#Y#Y# ... (1586 characters truncated) ... dezz": 0, "dod": 1280, "att": 1161, "MS_MAX": 1800, "yuanxiao": 0, "iCor_all": 582, "growthMax": 1266, "jinjie_type": 2206, "sjg": 0, "iLockNew": 9}]', 'child_json': '{}', 'child2_json': '{}', 'all_rider_json': '{"1": {"all_skills": {"611": 1}, "iType": 506, "exgrow": 20941, "ExtraGrow": 80, "iGrade": 129, "mattrib": "敏捷"}}', 'ex_avt_json': '{"1": {"wear_pos": 0, "iType": 13116, "effect_pos": [0, 0, 0, 0, 0, 0, 0], "cName": "龙马炫卡", "order": 11, "extra_info": 1}, "2": {"wear_pos": 3, "iTyp ... (1410 characters truncated) ... er": 14, "extra_info": 1}, "14": {"wear_pos": 1, "iType": 42817, "effect_pos": [1, 2, 0, 0, 0, 0, 0], "cName": "翠潋烟云", "order": 10, "extra_info": 1}}', 'huge_horse_json': '{"665": {"iSkillLevel": 0, "iType": 11682, "cName": "碧潮海马", "Color_Str": "", "nosale": 0, "order": 1, "iSkill": 0}, "818": {"iSkillLevel": 1, "iType" ... (60 characters truncated) ... er": 2, "iSkill": 622}, "677": {"iSkillLevel": 0, "iType": 11694, "cName": "双黄月饼", "Color_Str": "104:982:983", "nosale": 0, "order": 3, "iSkill": 0}}', 'fabao_json': '{"11": {"cDesc": "0#Y灵气：#G157#Y 五行：#G土#Y#r修炼境界：第#G15#Y层 #cFF6F28天人合一#Y#r#n#Y最佳五行属性奖励：额外提升1%的概率#c7D7E82（未生效）#Y", "fumo_type": 0, "iType": 6131}, "12": ... (551 characters truncated) ...  "fumo_type": 0, "iType": 6021}, "18": {"cDesc": "0#W【回合限制】10#r#Y#Y灵气：#G50 #Y 五行：#G木#Y#r修炼境界：第#G0#Y层 #c7D7E82元神初具#Y", "fumo_type": 0, "iType": 6030}}', 'lingbao_json': '{}', 'shenqi_json': '{}', 'idbid_desc_json': '[]', 'changesch_json': '[]', 'prop_kept_json': '{"0": {"iSpe": 137, "iMag": 142, "iCor": 144, "iStr": 900, "iRes": 138}}', 'more_attr_json': '{"attrs": [{"lv": 0, "idx": 5}, {"lv": 0, "idx": 9}, {"lv": 0, "idx": 12}, {"lv": 0, "idx": 1}, {"lv": 0, "idx": 7}, {"lv": 0, "idx": 3}, {"lv": 0, " ... (82 characters truncated) ... 0, "idx": 15}, {"lv": 0, "idx": 4}, {"lv": 0, "idx": 2}, {"lv": 171, "idx": 13}, {"lv": 670, "idx": 14}, {"lv": 0, "idx": 16}, {"lv": 0, "idx": 17}]}', 'update_time': '2025-09-15 16:27:06'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-15 16:29:40,555 - ERROR - 插入数据到表 large_equip_desc_data 失败: (pymysql.err.OperationalError) (2013, 'Lost connection to MySQL server during query')
[SQL: 
                INSERT INTO large_equip_desc_data (time_lock_days, role_name, role_level, role_school, role_icon, user_num, hp_max, mp_max, att_all, def_all, spe_all, mag_all, damage_all, mag_dam_all, mag_def_all, dod_all, cor_all, str_all, res_all, dex_all, up_exp, sum_exp, expt_ski1, expt_ski2, expt_ski3, expt_ski4, expt_ski5, max_expt1, max_expt2, max_expt3, max_expt4, beast_ski1, beast_ski2, beast_ski3, beast_ski4, all_new_point, skill_point, attribute_point, potential, max_potential, cash, saving, learn_cash, zhuan_zhi, three_fly_lv, nine_fight_level, goodness, badness, goodness_sav, role_title, org_name, org_offer, org_position, marry_id, marry2_id, marry_name, community_name, community_gid, achievement_total, hero_score, datang_feat, sword_score, dup_score, shenqi_score, qicai_score, xianyu_score, nuts_num, cg_total_amount, cg_body_amount, cg_box_amount, xianyu_amount, energy_amount, jiyuan_amount, add_point, packet_page, rent_level, outdoor_level, farm_level, house_real_owner, pride, bid_status, ori_race, current_race, sum_amount, version_code, pet, all_skills_json, all_equip_json, all_summon_json, child_json, child2_json, all_rider_json, ex_avt_json, huge_horse_json, fabao_json, lingbao_json, shenqi_json, idbid_desc_json, changesch_json, prop_kept_json, more_attr_json, update_time) 
                VALUES (%(time_lock_days)s, %(role_name)s, %(role_level)s, %(role_school)s, %(role_icon)s, %(user_num)s, %(hp_max)s, %(mp_max)s, %(att_all)s, %(def_all)s, %(spe_all)s, %(mag_all)s, %(damage_all)s, %(mag_dam_all)s, %(mag_def_all)s, %(dod_all)s, %(cor_all)s, %(str_all)s, %(res_all)s, %(dex_all)s, %(up_exp)s, %(sum_exp)s, %(expt_ski1)s, %(expt_ski2)s, %(expt_ski3)s, %(expt_ski4)s, %(expt_ski5)s, %(max_expt1)s, %(max_expt2)s, %(max_expt3)s, %(max_expt4)s, %(beast_ski1)s, %(beast_ski2)s, %(beast_ski3)s, %(beast_ski4)s, %(all_new_point)s, %(skill_point)s, %(attribute_point)s, %(potential)s, %(max_potential)s, %(cash)s, %(saving)s, %(learn_cash)s, %(zhuan_zhi)s, %(three_fly_lv)s, %(nine_fight_level)s, %(goodness)s, %(badness)s, %(goodness_sav)s, %(role_title)s, %(org_name)s, %(org_offer)s, %(org_position)s, %(marry_id)s, %(marry2_id)s, %(marry_name)s, %(community_name)s, %(community_gid)s, %(achievement_total)s, %(hero_score)s, %(datang_feat)s, %(sword_score)s, %(dup_score)s, %(shenqi_score)s, %(qicai_score)s, %(xianyu_score)s, %(nuts_num)s, %(cg_total_amount)s, %(cg_body_amount)s, %(cg_box_amount)s, %(xianyu_amount)s, %(energy_amount)s, %(jiyuan_amount)s, %(add_point)s, %(packet_page)s, %(rent_level)s, %(outdoor_level)s, %(farm_level)s, %(house_real_owner)s, %(pride)s, %(bid_status)s, %(ori_race)s, %(current_race)s, %(sum_amount)s, %(version_code)s, %(pet)s, %(all_skills_json)s, %(all_equip_json)s, %(all_summon_json)s, %(child_json)s, %(child2_json)s, %(all_rider_json)s, %(ex_avt_json)s, %(huge_horse_json)s, %(fabao_json)s, %(lingbao_json)s, %(shenqi_json)s, %(idbid_desc_json)s, %(changesch_json)s, %(prop_kept_json)s, %(more_attr_json)s, %(update_time)s)
                ON DUPLICATE KEY UPDATE time_lock_days = VALUES(time_lock_days), role_name = VALUES(role_name), role_level = VALUES(role_level), role_school = VALUES(role_school), role_icon = VALUES(role_icon), user_num = VALUES(user_num), hp_max = VALUES(hp_max), mp_max = VALUES(mp_max), att_all = VALUES(att_all), def_all = VALUES(def_all), spe_all = VALUES(spe_all), mag_all = VALUES(mag_all), damage_all = VALUES(damage_all), mag_dam_all = VALUES(mag_dam_all), mag_def_all = VALUES(mag_def_all), dod_all = VALUES(dod_all), cor_all = VALUES(cor_all), str_all = VALUES(str_all), res_all = VALUES(res_all), dex_all = VALUES(dex_all), up_exp = VALUES(up_exp), sum_exp = VALUES(sum_exp), expt_ski1 = VALUES(expt_ski1), expt_ski2 = VALUES(expt_ski2), expt_ski3 = VALUES(expt_ski3), expt_ski4 = VALUES(expt_ski4), expt_ski5 = VALUES(expt_ski5), max_expt1 = VALUES(max_expt1), max_expt2 = VALUES(max_expt2), max_expt3 = VALUES(max_expt3), max_expt4 = VALUES(max_expt4), beast_ski1 = VALUES(beast_ski1), beast_ski2 = VALUES(beast_ski2), beast_ski3 = VALUES(beast_ski3), beast_ski4 = VALUES(beast_ski4), all_new_point = VALUES(all_new_point), skill_point = VALUES(skill_point), attribute_point = VALUES(attribute_point), potential = VALUES(potential), max_potential = VALUES(max_potential), cash = VALUES(cash), saving = VALUES(saving), learn_cash = VALUES(learn_cash), zhuan_zhi = VALUES(zhuan_zhi), three_fly_lv = VALUES(three_fly_lv), nine_fight_level = VALUES(nine_fight_level), goodness = VALUES(goodness), badness = VALUES(badness), goodness_sav = VALUES(goodness_sav), role_title = VALUES(role_title), org_name = VALUES(org_name), org_offer = VALUES(org_offer), org_position = VALUES(org_position), marry_id = VALUES(marry_id), marry2_id = VALUES(marry2_id), marry_name = VALUES(marry_name), community_name = VALUES(community_name), community_gid = VALUES(community_gid), achievement_total = VALUES(achievement_total), hero_score = VALUES(hero_score), datang_feat = VALUES(datang_feat), sword_score = VALUES(sword_score), dup_score = VALUES(dup_score), shenqi_score = VALUES(shenqi_score), qicai_score = VALUES(qicai_score), xianyu_score = VALUES(xianyu_score), nuts_num = VALUES(nuts_num), cg_total_amount = VALUES(cg_total_amount), cg_body_amount = VALUES(cg_body_amount), cg_box_amount = VALUES(cg_box_amount), xianyu_amount = VALUES(xianyu_amount), energy_amount = VALUES(energy_amount), jiyuan_amount = VALUES(jiyuan_amount), add_point = VALUES(add_point), packet_page = VALUES(packet_page), rent_level = VALUES(rent_level), outdoor_level = VALUES(outdoor_level), farm_level = VALUES(farm_level), house_real_owner = VALUES(house_real_owner), pride = VALUES(pride), bid_status = VALUES(bid_status), ori_race = VALUES(ori_race), current_race = VALUES(current_race), sum_amount = VALUES(sum_amount), version_code = VALUES(version_code), pet = VALUES(pet), all_skills_json = VALUES(all_skills_json), all_equip_json = VALUES(all_equip_json), all_summon_json = VALUES(all_summon_json), child_json = VALUES(child_json), child2_json = VALUES(child2_json), all_rider_json = VALUES(all_rider_json), ex_avt_json = VALUES(ex_avt_json), huge_horse_json = VALUES(huge_horse_json), fabao_json = VALUES(fabao_json), lingbao_json = VALUES(lingbao_json), shenqi_json = VALUES(shenqi_json), idbid_desc_json = VALUES(idbid_desc_json), changesch_json = VALUES(changesch_json), prop_kept_json = VALUES(prop_kept_json), more_attr_json = VALUES(more_attr_json), update_time = VALUES(update_time)
                ]
[parameters: {'time_lock_days': 0, 'role_name': '夏末的晨曦ˇ', 'role_level': 144, 'role_school': 6, 'role_icon': 223, 'user_num': '38379869', 'hp_max': 2723, 'mp_max': 1210, 'att_all': 295, 'def_all': 469, 'spe_all': 799, 'mag_all': 150, 'damage_all': 453, 'mag_dam_all': 422, 'mag_def_all': 422, 'dod_all': 1110, 'cor_all': 253, 'str_all': 156, 'res_all': 156, 'dex_all': 616, 'up_exp': 30934509, 'sum_exp': 13, 'expt_ski1': 0, 'expt_ski2': 9, 'expt_ski3': 12, 'expt_ski4': 10, 'expt_ski5': 0, 'max_expt1': 20, 'max_expt2': 20, 'max_expt3': 20, 'max_expt4': 20, 'beast_ski1': 2, 'beast_ski2': 0, 'beast_ski3': 9, 'beast_ski4': 0, 'all_new_point': 1, 'skill_point': 0, 'attribute_point': 0, 'potential': 0, 'max_potential': 0, 'cash': 14325, 'saving': 0, 'learn_cash': 644349, 'zhuan_zhi': 0, 'three_fly_lv': 0, 'nine_fight_level': 8, 'goodness': 354, 'badness': 0, 'goodness_sav': 826, 'role_title': '' ... 2 parameters truncated ... 'org_position': '', 'marry_id': '0', 'marry2_id': '0', 'marry_name': '', 'community_name': '', 'community_gid': '0', 'achievement_total': 889, 'hero_score': 0, 'datang_feat': 5201, 'sword_score': 0, 'dup_score': 112, 'shenqi_score': 0, 'qicai_score': 0, 'xianyu_score': 2000, 'nuts_num': 13, 'cg_total_amount': 0, 'cg_body_amount': 0, 'cg_box_amount': 0, 'xianyu_amount': 1077, 'energy_amount': 83, 'jiyuan_amount': 0, 'add_point': 6, 'packet_page': 0, 'rent_level': 1, 'outdoor_level': 1, 'farm_level': 3, 'house_real_owner': 0, 'pride': 800, 'bid_status': 0, 'ori_race': 3, 'current_race': 3, 'sum_amount': 8, 'version_code': '20250226', 'pet': '[]', 'all_skills_json': '{"179": 1, "56": 100, "210": 10, "209": 10, "201": 120, "52042": 1, "169": 1, "52032": 1, "211": 45, "62": 100, "208": 100, "154": 5, "59": 135, "58" ... (83 characters truncated) ...  "170": 1, "202": 100, "52031": 1, "196": 1, "173": 1, "198": 1, "216": 55, "199": 1, "159": 4, "25933": 1, "57": 112, "161": 7, "197": 1, "61": 120}', 'all_equip_json': '{}', 'all_summon_json': '[]', 'child_json': '{}', 'child2_json': '{}', 'all_rider_json': '{"1": {"iGrade": 95, "exgrow": 12708, "iType": 503, "ExtraGrow": 0, "mattrib": "敏捷", "all_skills": {}}}', 'ex_avt_json': '{"1": {"iType": 21506, "extra_info": 1, "effect_pos": [0, 0, 0, 0, 0, 0, 64], "wear_pos": 7, "cName": "雪花飘落", "order": 4}, "3": {"iType": 14408, "ext ... (187 characters truncated) ... cName": "烟柳柔云", "order": 1}, "2": {"iType": 45512, "extra_info": 1, "effect_pos": [0, 0, 4, 0, 0, 0, 0], "wear_pos": 3, "cName": "烟柳柔云", "order": 3}}', 'huge_horse_json': '{"437": {"nosale": 0, "iSkill": 0, "iSkillLevel": 0, "iType": 11420, "Color_Str": "", "cName": "玲珑雪狐", "order": 2}, "661": {"nosale": 0, "iSkill": 622, "iSkillLevel": 1, "iType": 11678, "Color_Str": "", "cName": "碧潮海马", "order": 1}}', 'fabao_json': '{"12": {"iType": 6138, "fumo_type": 0, "cDesc": "0#Y灵气：#G50 #Y 五行：#G水#Y#r修炼境界：第#G0#Y层 #c7D7E82元神初具#Y"}, "4": {"iType": 6082, "fumo_type": 0, "cDesc": "0#Y灵气：#G92 #Y 五行：#G土#Y#r修炼境界：第#G10#Y层 #cFF6F28举世无双#Y#r#n#Y最佳五行属性奖励：额外增加召唤兽等级*3％的物攻和法攻#c7D7E82（未生效）#Y"}}', 'lingbao_json': '{}', 'shenqi_json': '{}', 'idbid_desc_json': '[]', 'changesch_json': '[]', 'prop_kept_json': '{"0": {"iSpe": 777, "iRes": 156, "iMag": 149, "iCor": 251, "iStr": 155}}', 'more_attr_json': '{"attrs": [{"idx": 10, "lv": 0}, {"idx": 15, "lv": 0}, {"idx": 11, "lv": 0}, {"idx": 3, "lv": 0}, {"idx": 1, "lv": 0}, {"idx": 2, "lv": 0}, {"idx": 9 ... (83 characters truncated) ...  5, "lv": 0}, {"idx": 7, "lv": 0}, {"idx": 6, "lv": 0}, {"idx": 13, "lv": 1110}, {"idx": 14, "lv": 422}, {"idx": 16, "lv": 0}, {"idx": 17, "lv": 0}]}', 'update_time': '2025-09-15 16:28:39'}]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-09-15 16:29:46,219 - INFO - 角色 202509092000113-132-XFJOB42FWJPK 价格从 76600.0 变更为 75000，已记录到价格历史
2025-09-15 16:29:47,322 - ERROR - 获取字段 eid 类型失败: (pymysql.err.OperationalError) (2013, 'Lost connection to MySQL server during query')
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-09-15 16:30:32,836 - INFO - Spider实例将在需要时延迟创建
2025-09-15 16:30:34,249 - INFO - 成功加载 45 个Cookie
2025-09-15 16:30:34,319 - INFO - 已注入 45 个Cookie到浏览器上下文
2025-09-15 16:30:34,621 - INFO - Playwright浏览器设置完成
2025-09-15 16:30:34,643 - INFO - Playwright网络监听已设置
2025-09-15 16:30:34,643 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-15 16:30:36,892 - INFO - 页面初始加载完成
2025-09-15 16:30:38,431 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1757925036884&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-15 16:30:38,432 - INFO - 开始创建角色spider实例...
2025-09-15 16:30:40,088 - INFO - 装备锚点估价器和特征提取器导入成功
2025-09-15 16:30:40,098 - INFO - 装备特征提取器初始化成功
2025-09-15 16:30:40,105 - INFO - 灵饰特征提取器初始化成功
2025-09-15 16:30:40,105 - INFO - 宠物装备特征提取器初始化成功
2025-09-15 16:30:40,160 - INFO - 装备锚点估价器初始化成功
2025-09-15 16:30:40,176 - INFO - 统一特征提取器初始化成功
2025-09-15 16:30:40,178 - INFO - 异常装备数据库初始化成功
2025-09-15 16:30:40,187 - INFO - 装备特征提取器初始化成功
2025-09-15 16:30:40,194 - INFO - 灵饰特征提取器初始化成功
2025-09-15 16:30:40,194 - INFO - 宠物装备特征提取器初始化成功
2025-09-15 16:30:40,225 - INFO - 装备锚点估价器初始化成功
2025-09-15 16:30:40,276 - INFO - 统一特征提取器初始化成功
2025-09-15 16:30:40,277 - INFO - 异常装备数据库初始化成功
2025-09-15 16:30:40,709 - INFO - 角色特征提取器初始化成功
2025-09-15 16:30:40,714 - INFO - 角色市场锚定估价器初始化成功
2025-09-15 16:30:40,732 - INFO - 宠物特征提取器初始化成功
2025-09-15 16:30:40,733 - INFO - 宠物锚点估价器初始化成功
2025-09-15 16:30:40,743 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-15 16:30:40,744 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-15 16:30:40,976 - INFO - 角色spider实例已创建
2025-09-15 16:30:40,986 - INFO - 开始保存角色数据，数量: 15
2025-09-15 16:30:40,987 - INFO - 检查角色数据库...
2025-09-15 16:30:40,988 - INFO - 检查数据库类型: role
2025-09-15 16:30:40,988 - INFO - 数据库路径: C:\Users\Administrator\Desktop\mh\data\202509\cbg_roles_202509.db
2025-09-15 16:30:40,992 - INFO - 数据库文件是否存在: True
2025-09-15 16:30:40,992 - INFO - 获取角色spider实例...
2025-09-15 16:30:40,999 - INFO - 调用角色spider的save_role_data方法...
2025-09-15 16:30:41,099 - INFO - 成功加载game_auto_config.js配置，包含132个配置项
2025-09-15 16:31:26,871 - ERROR - 获取字段 random_draw_finish_time 类型失败: (pymysql.err.OperationalError) (2013, 'Lost connection to MySQL server during query')
[SQL: 
                    SELECT DATA_TYPE 
                    FROM INFORMATION_SCHEMA.COLUMNS 
                    WHERE TABLE_SCHEMA = DATABASE() 
                    AND TABLE_NAME = %(table_name)s 
                    AND COLUMN_NAME = %(field_name)s
                ]
[parameters: {'table_name': 'roles', 'field_name': 'random_draw_finish_time'}]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-09-15 16:31:38,119 - INFO - Spider实例将在需要时延迟创建
2025-09-15 16:31:39,648 - INFO - 成功加载 45 个Cookie
2025-09-15 16:31:39,689 - INFO - 已注入 45 个Cookie到浏览器上下文
2025-09-15 16:31:39,962 - INFO - Playwright浏览器设置完成
2025-09-15 16:31:39,981 - INFO - Playwright网络监听已设置
2025-09-15 16:31:39,981 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-15 16:31:41,591 - INFO - 页面初始加载完成
2025-09-15 16:31:43,501 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1757925101587&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-15 16:31:43,501 - INFO - 开始创建角色spider实例...
2025-09-15 16:31:44,806 - INFO - 装备锚点估价器和特征提取器导入成功
2025-09-15 16:31:44,816 - INFO - 装备特征提取器初始化成功
2025-09-15 16:31:44,822 - INFO - 灵饰特征提取器初始化成功
2025-09-15 16:31:44,822 - INFO - 宠物装备特征提取器初始化成功
2025-09-15 16:31:44,890 - INFO - 装备锚点估价器初始化成功
2025-09-15 16:31:44,905 - INFO - 统一特征提取器初始化成功
2025-09-15 16:31:44,906 - INFO - 异常装备数据库初始化成功
2025-09-15 16:31:44,915 - INFO - 装备特征提取器初始化成功
2025-09-15 16:31:44,922 - INFO - 灵饰特征提取器初始化成功
2025-09-15 16:31:44,922 - INFO - 宠物装备特征提取器初始化成功
2025-09-15 16:31:44,953 - INFO - 装备锚点估价器初始化成功
2025-09-15 16:31:45,002 - INFO - 统一特征提取器初始化成功
2025-09-15 16:31:45,003 - INFO - 异常装备数据库初始化成功
2025-09-15 16:31:45,353 - INFO - 角色特征提取器初始化成功
2025-09-15 16:31:45,357 - INFO - 角色市场锚定估价器初始化成功
2025-09-15 16:31:45,366 - INFO - 宠物特征提取器初始化成功
2025-09-15 16:31:45,367 - INFO - 宠物锚点估价器初始化成功
2025-09-15 16:31:45,371 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-15 16:31:45,372 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-15 16:31:45,452 - INFO - 角色spider实例已创建
2025-09-15 16:31:45,455 - INFO - 开始保存角色数据，数量: 15
2025-09-15 16:31:45,456 - INFO - 检查角色数据库...
2025-09-15 16:31:45,456 - INFO - 检查数据库类型: role
2025-09-15 16:31:45,456 - INFO - 数据库路径: C:\Users\Administrator\Desktop\mh\data\202509\cbg_roles_202509.db
2025-09-15 16:31:45,456 - INFO - 数据库文件是否存在: True
2025-09-15 16:31:45,456 - INFO - 获取角色spider实例...
2025-09-15 16:31:45,456 - INFO - 调用角色spider的save_role_data方法...
2025-09-15 16:31:45,478 - INFO - 成功加载game_auto_config.js配置，包含132个配置项
2025-09-15 16:32:31,439 - ERROR - 插入数据到表 large_equip_desc_data 失败: (pymysql.err.IntegrityError) (1452, 'Cannot add or update a child row: a foreign key constraint fails (`cbg_spider`.`large_equip_desc_data`, CONSTRAINT `large_equip_desc_data_ibfk_1` FOREIGN KEY (`eid`) REFERENCES `roles` (`eid`))')
[SQL: 
                INSERT INTO large_equip_desc_data (time_lock_days, role_name, role_level, role_school, role_icon, user_num, hp_max, mp_max, att_all, def_all, spe_all, mag_all, damage_all, mag_dam_all, mag_def_all, dod_all, cor_all, str_all, res_all, dex_all, up_exp, sum_exp, expt_ski1, expt_ski2, expt_ski3, expt_ski4, expt_ski5, max_expt1, max_expt2, max_expt3, max_expt4, beast_ski1, beast_ski2, beast_ski3, beast_ski4, all_new_point, skill_point, attribute_point, potential, max_potential, cash, saving, learn_cash, zhuan_zhi, three_fly_lv, nine_fight_level, goodness, badness, goodness_sav, role_title, org_name, org_offer, org_position, marry_id, marry2_id, marry_name, community_name, community_gid, achievement_total, hero_score, datang_feat, sword_score, dup_score, shenqi_score, qicai_score, xianyu_score, nuts_num, cg_total_amount, cg_body_amount, cg_box_amount, xianyu_amount, energy_amount, jiyuan_amount, add_point, packet_page, rent_level, outdoor_level, farm_level, house_real_owner, pride, bid_status, ori_race, current_race, sum_amount, version_code, pet, all_skills_json, all_equip_json, all_summon_json, child_json, child2_json, all_rider_json, ex_avt_json, huge_horse_json, fabao_json, lingbao_json, shenqi_json, idbid_desc_json, changesch_json, prop_kept_json, more_attr_json, update_time) 
                VALUES (%(time_lock_days)s, %(role_name)s, %(role_level)s, %(role_school)s, %(role_icon)s, %(user_num)s, %(hp_max)s, %(mp_max)s, %(att_all)s, %(def_all)s, %(spe_all)s, %(mag_all)s, %(damage_all)s, %(mag_dam_all)s, %(mag_def_all)s, %(dod_all)s, %(cor_all)s, %(str_all)s, %(res_all)s, %(dex_all)s, %(up_exp)s, %(sum_exp)s, %(expt_ski1)s, %(expt_ski2)s, %(expt_ski3)s, %(expt_ski4)s, %(expt_ski5)s, %(max_expt1)s, %(max_expt2)s, %(max_expt3)s, %(max_expt4)s, %(beast_ski1)s, %(beast_ski2)s, %(beast_ski3)s, %(beast_ski4)s, %(all_new_point)s, %(skill_point)s, %(attribute_point)s, %(potential)s, %(max_potential)s, %(cash)s, %(saving)s, %(learn_cash)s, %(zhuan_zhi)s, %(three_fly_lv)s, %(nine_fight_level)s, %(goodness)s, %(badness)s, %(goodness_sav)s, %(role_title)s, %(org_name)s, %(org_offer)s, %(org_position)s, %(marry_id)s, %(marry2_id)s, %(marry_name)s, %(community_name)s, %(community_gid)s, %(achievement_total)s, %(hero_score)s, %(datang_feat)s, %(sword_score)s, %(dup_score)s, %(shenqi_score)s, %(qicai_score)s, %(xianyu_score)s, %(nuts_num)s, %(cg_total_amount)s, %(cg_body_amount)s, %(cg_box_amount)s, %(xianyu_amount)s, %(energy_amount)s, %(jiyuan_amount)s, %(add_point)s, %(packet_page)s, %(rent_level)s, %(outdoor_level)s, %(farm_level)s, %(house_real_owner)s, %(pride)s, %(bid_status)s, %(ori_race)s, %(current_race)s, %(sum_amount)s, %(version_code)s, %(pet)s, %(all_skills_json)s, %(all_equip_json)s, %(all_summon_json)s, %(child_json)s, %(child2_json)s, %(all_rider_json)s, %(ex_avt_json)s, %(huge_horse_json)s, %(fabao_json)s, %(lingbao_json)s, %(shenqi_json)s, %(idbid_desc_json)s, %(changesch_json)s, %(prop_kept_json)s, %(more_attr_json)s, %(update_time)s)
                ON DUPLICATE KEY UPDATE time_lock_days = VALUES(time_lock_days), role_name = VALUES(role_name), role_level = VALUES(role_level), role_school = VALUES(role_school), role_icon = VALUES(role_icon), user_num = VALUES(user_num), hp_max = VALUES(hp_max), mp_max = VALUES(mp_max), att_all = VALUES(att_all), def_all = VALUES(def_all), spe_all = VALUES(spe_all), mag_all = VALUES(mag_all), damage_all = VALUES(damage_all), mag_dam_all = VALUES(mag_dam_all), mag_def_all = VALUES(mag_def_all), dod_all = VALUES(dod_all), cor_all = VALUES(cor_all), str_all = VALUES(str_all), res_all = VALUES(res_all), dex_all = VALUES(dex_all), up_exp = VALUES(up_exp), sum_exp = VALUES(sum_exp), expt_ski1 = VALUES(expt_ski1), expt_ski2 = VALUES(expt_ski2), expt_ski3 = VALUES(expt_ski3), expt_ski4 = VALUES(expt_ski4), expt_ski5 = VALUES(expt_ski5), max_expt1 = VALUES(max_expt1), max_expt2 = VALUES(max_expt2), max_expt3 = VALUES(max_expt3), max_expt4 = VALUES(max_expt4), beast_ski1 = VALUES(beast_ski1), beast_ski2 = VALUES(beast_ski2), beast_ski3 = VALUES(beast_ski3), beast_ski4 = VALUES(beast_ski4), all_new_point = VALUES(all_new_point), skill_point = VALUES(skill_point), attribute_point = VALUES(attribute_point), potential = VALUES(potential), max_potential = VALUES(max_potential), cash = VALUES(cash), saving = VALUES(saving), learn_cash = VALUES(learn_cash), zhuan_zhi = VALUES(zhuan_zhi), three_fly_lv = VALUES(three_fly_lv), nine_fight_level = VALUES(nine_fight_level), goodness = VALUES(goodness), badness = VALUES(badness), goodness_sav = VALUES(goodness_sav), role_title = VALUES(role_title), org_name = VALUES(org_name), org_offer = VALUES(org_offer), org_position = VALUES(org_position), marry_id = VALUES(marry_id), marry2_id = VALUES(marry2_id), marry_name = VALUES(marry_name), community_name = VALUES(community_name), community_gid = VALUES(community_gid), achievement_total = VALUES(achievement_total), hero_score = VALUES(hero_score), datang_feat = VALUES(datang_feat), sword_score = VALUES(sword_score), dup_score = VALUES(dup_score), shenqi_score = VALUES(shenqi_score), qicai_score = VALUES(qicai_score), xianyu_score = VALUES(xianyu_score), nuts_num = VALUES(nuts_num), cg_total_amount = VALUES(cg_total_amount), cg_body_amount = VALUES(cg_body_amount), cg_box_amount = VALUES(cg_box_amount), xianyu_amount = VALUES(xianyu_amount), energy_amount = VALUES(energy_amount), jiyuan_amount = VALUES(jiyuan_amount), add_point = VALUES(add_point), packet_page = VALUES(packet_page), rent_level = VALUES(rent_level), outdoor_level = VALUES(outdoor_level), farm_level = VALUES(farm_level), house_real_owner = VALUES(house_real_owner), pride = VALUES(pride), bid_status = VALUES(bid_status), ori_race = VALUES(ori_race), current_race = VALUES(current_race), sum_amount = VALUES(sum_amount), version_code = VALUES(version_code), pet = VALUES(pet), all_skills_json = VALUES(all_skills_json), all_equip_json = VALUES(all_equip_json), all_summon_json = VALUES(all_summon_json), child_json = VALUES(child_json), child2_json = VALUES(child2_json), all_rider_json = VALUES(all_rider_json), ex_avt_json = VALUES(ex_avt_json), huge_horse_json = VALUES(huge_horse_json), fabao_json = VALUES(fabao_json), lingbao_json = VALUES(lingbao_json), shenqi_json = VALUES(shenqi_json), idbid_desc_json = VALUES(idbid_desc_json), changesch_json = VALUES(changesch_json), prop_kept_json = VALUES(prop_kept_json), more_attr_json = VALUES(more_attr_json), update_time = VALUES(update_time)
                ]
[parameters: {'time_lock_days': 0, 'role_name': '天·力劈苍穹', 'role_level': 129, 'role_school': 20, 'role_icon': 220, 'user_num': '43770078', 'hp_max': 1980, 'mp_max': 774, 'att_all': 2436, 'def_all': 440, 'spe_all': 137, 'mag_all': 142, 'damage_all': 1348, 'mag_dam_all': 670, 'mag_def_all': 670, 'dod_all': 171, 'cor_all': 142, 'str_all': 902, 'res_all': 138, 'dex_all': 214, 'up_exp': 49669073, 'sum_exp': 37, 'expt_ski1': 21, 'expt_ski2': 5, 'expt_ski3': 0, 'expt_ski4': 6, 'expt_ski5': 0, 'max_expt1': 21, 'max_expt2': 20, 'max_expt3': 20, 'max_expt4': 20, 'beast_ski1': 10, 'beast_ski2': 0, 'beast_ski3': 10, 'beast_ski4': 10, 'all_new_point': 3, 'skill_point': 2, 'attribute_point': 0, 'potential': 0, 'max_potential': 0, 'cash': 141212, 'saving': 0, 'learn_cash': 5707181, 'zhuan_zhi': 1, 'three_fly_lv': 0, 'nine_fight_level': 8, 'goodness': 1956, 'badness': 0, 'goodness_sav': 2128, 'role_title': '' ... 2 parameters truncated ... 'org_position': '', 'marry_id': '0', 'marry2_id': '0', 'marry_name': '', 'community_name': '0', 'community_gid': '0', 'achievement_total': 1006, 'hero_score': 230, 'datang_feat': 4565, 'sword_score': 0, 'dup_score': 372, 'shenqi_score': 910, 'qicai_score': 0, 'xianyu_score': 1550, 'nuts_num': 100, 'cg_total_amount': 0, 'cg_body_amount': 0, 'cg_box_amount': 0, 'xianyu_amount': 26, 'energy_amount': 0, 'jiyuan_amount': 0, 'add_point': 6, 'packet_page': 0, 'rent_level': 0, 'outdoor_level': 0, 'farm_level': 0, 'house_real_owner': 0, 'pride': 800, 'bid_status': 0, 'ori_race': 2, 'current_race': 2, 'sum_amount': 8, 'version_code': '20250226', 'pet': '[]', 'all_skills_json': '{"216": 45, "52046": 1, "212": 40, "210": 10, "211": 40, "179": 1, "52042": 1, "174": 1, "173": 1, "198": 1, "52032": 1, "52031": 1, "52039": 1, "520 ... (197 characters truncated) ... 39004": 1, "39002": 1, "170": 2, "39008": 1, "146": 80, "144": 130, "202": 78, "142": 130, "143": 139, "140": 150, "141": 150, "208": 10, "51053": 1}', 'all_equip_json': '{"9": {"equip_sn": "8mI003yGN6Q", "cDesc": "#r等级 60  #r灵力 +56#r耐久度 179#Y#r#c4DBAF4特效：#c4DBAF4专注#Y  ", "iType": 2810, "obj_level": 60, "can_split_agen ... (315 characters truncated) ... 宝石 红宝石、 蓝宝石#r#G#G法术吸收率 火+8%、 水+8%#Y#Y#r#c4DBAF4套装效果：变身术之狂豹（人型）#Y#Y  ", "is_split_sale": 1, "iType": 2814, "eid": "202506151100113-132-HN1HHT1ZTR7Z"}}', 'all_summon_json': '[{"fin_jinjie": 1, "ori_type": 2078, "summon_equip1": {"cDesc": " #r等级 115  #r命中率 +13%#r耐久度 637#r#G#G敏捷 +16#Y#Y#r#c4DBAF4套装效果：附加状态#c4DBAF4高级否定信仰#Y#Y# ... (1586 characters truncated) ... dezz": 0, "dod": 1280, "att": 1161, "MS_MAX": 1800, "yuanxiao": 0, "iCor_all": 582, "growthMax": 1266, "jinjie_type": 2206, "sjg": 0, "iLockNew": 9}]', 'child_json': '{}', 'child2_json': '{}', 'all_rider_json': '{"1": {"all_skills": {"611": 1}, "iType": 506, "exgrow": 20941, "ExtraGrow": 80, "iGrade": 129, "mattrib": "敏捷"}}', 'ex_avt_json': '{"1": {"wear_pos": 0, "iType": 13116, "effect_pos": [0, 0, 0, 0, 0, 0, 0], "cName": "龙马炫卡", "order": 11, "extra_info": 1}, "2": {"wear_pos": 3, "iTyp ... (1410 characters truncated) ... er": 14, "extra_info": 1}, "14": {"wear_pos": 1, "iType": 42817, "effect_pos": [1, 2, 0, 0, 0, 0, 0], "cName": "翠潋烟云", "order": 10, "extra_info": 1}}', 'huge_horse_json': '{"665": {"iSkillLevel": 0, "iType": 11682, "cName": "碧潮海马", "Color_Str": "", "nosale": 0, "order": 1, "iSkill": 0}, "818": {"iSkillLevel": 1, "iType" ... (60 characters truncated) ... er": 2, "iSkill": 622}, "677": {"iSkillLevel": 0, "iType": 11694, "cName": "双黄月饼", "Color_Str": "104:982:983", "nosale": 0, "order": 3, "iSkill": 0}}', 'fabao_json': '{"11": {"cDesc": "0#Y灵气：#G157#Y 五行：#G土#Y#r修炼境界：第#G15#Y层 #cFF6F28天人合一#Y#r#n#Y最佳五行属性奖励：额外提升1%的概率#c7D7E82（未生效）#Y", "fumo_type": 0, "iType": 6131}, "12": ... (551 characters truncated) ...  "fumo_type": 0, "iType": 6021}, "18": {"cDesc": "0#W【回合限制】10#r#Y#Y灵气：#G50 #Y 五行：#G木#Y#r修炼境界：第#G0#Y层 #c7D7E82元神初具#Y", "fumo_type": 0, "iType": 6030}}', 'lingbao_json': '{}', 'shenqi_json': '{}', 'idbid_desc_json': '[]', 'changesch_json': '[]', 'prop_kept_json': '{"0": {"iSpe": 137, "iMag": 142, "iCor": 144, "iStr": 900, "iRes": 138}}', 'more_attr_json': '{"attrs": [{"lv": 0, "idx": 5}, {"lv": 0, "idx": 9}, {"lv": 0, "idx": 12}, {"lv": 0, "idx": 1}, {"lv": 0, "idx": 7}, {"lv": 0, "idx": 3}, {"lv": 0, " ... (82 characters truncated) ... 0, "idx": 15}, {"lv": 0, "idx": 4}, {"lv": 0, "idx": 2}, {"lv": 171, "idx": 13}, {"lv": 670, "idx": 14}, {"lv": 0, "idx": 16}, {"lv": 0, "idx": 17}]}', 'update_time': '2025-09-15 16:32:13'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-15 16:33:10,402 - ERROR - 插入数据到表 large_equip_desc_data 失败: (pymysql.err.IntegrityError) (1452, 'Cannot add or update a child row: a foreign key constraint fails (`cbg_spider`.`large_equip_desc_data`, CONSTRAINT `large_equip_desc_data_ibfk_1` FOREIGN KEY (`eid`) REFERENCES `roles` (`eid`))')
[SQL: 
                INSERT INTO large_equip_desc_data (time_lock_days, role_name, role_level, role_school, role_icon, user_num, hp_max, mp_max, att_all, def_all, spe_all, mag_all, damage_all, mag_dam_all, mag_def_all, dod_all, cor_all, str_all, res_all, dex_all, up_exp, sum_exp, expt_ski1, expt_ski2, expt_ski3, expt_ski4, expt_ski5, max_expt1, max_expt2, max_expt3, max_expt4, beast_ski1, beast_ski2, beast_ski3, beast_ski4, all_new_point, skill_point, attribute_point, potential, max_potential, cash, saving, learn_cash, zhuan_zhi, three_fly_lv, nine_fight_level, goodness, badness, goodness_sav, role_title, org_name, org_offer, org_position, marry_id, marry2_id, marry_name, community_name, community_gid, achievement_total, hero_score, datang_feat, sword_score, dup_score, shenqi_score, qicai_score, xianyu_score, nuts_num, cg_total_amount, cg_body_amount, cg_box_amount, xianyu_amount, energy_amount, jiyuan_amount, add_point, packet_page, rent_level, outdoor_level, farm_level, house_real_owner, pride, bid_status, ori_race, current_race, sum_amount, version_code, pet, all_skills_json, all_equip_json, all_summon_json, child_json, child2_json, all_rider_json, ex_avt_json, huge_horse_json, fabao_json, lingbao_json, shenqi_json, idbid_desc_json, changesch_json, prop_kept_json, more_attr_json, update_time) 
                VALUES (%(time_lock_days)s, %(role_name)s, %(role_level)s, %(role_school)s, %(role_icon)s, %(user_num)s, %(hp_max)s, %(mp_max)s, %(att_all)s, %(def_all)s, %(spe_all)s, %(mag_all)s, %(damage_all)s, %(mag_dam_all)s, %(mag_def_all)s, %(dod_all)s, %(cor_all)s, %(str_all)s, %(res_all)s, %(dex_all)s, %(up_exp)s, %(sum_exp)s, %(expt_ski1)s, %(expt_ski2)s, %(expt_ski3)s, %(expt_ski4)s, %(expt_ski5)s, %(max_expt1)s, %(max_expt2)s, %(max_expt3)s, %(max_expt4)s, %(beast_ski1)s, %(beast_ski2)s, %(beast_ski3)s, %(beast_ski4)s, %(all_new_point)s, %(skill_point)s, %(attribute_point)s, %(potential)s, %(max_potential)s, %(cash)s, %(saving)s, %(learn_cash)s, %(zhuan_zhi)s, %(three_fly_lv)s, %(nine_fight_level)s, %(goodness)s, %(badness)s, %(goodness_sav)s, %(role_title)s, %(org_name)s, %(org_offer)s, %(org_position)s, %(marry_id)s, %(marry2_id)s, %(marry_name)s, %(community_name)s, %(community_gid)s, %(achievement_total)s, %(hero_score)s, %(datang_feat)s, %(sword_score)s, %(dup_score)s, %(shenqi_score)s, %(qicai_score)s, %(xianyu_score)s, %(nuts_num)s, %(cg_total_amount)s, %(cg_body_amount)s, %(cg_box_amount)s, %(xianyu_amount)s, %(energy_amount)s, %(jiyuan_amount)s, %(add_point)s, %(packet_page)s, %(rent_level)s, %(outdoor_level)s, %(farm_level)s, %(house_real_owner)s, %(pride)s, %(bid_status)s, %(ori_race)s, %(current_race)s, %(sum_amount)s, %(version_code)s, %(pet)s, %(all_skills_json)s, %(all_equip_json)s, %(all_summon_json)s, %(child_json)s, %(child2_json)s, %(all_rider_json)s, %(ex_avt_json)s, %(huge_horse_json)s, %(fabao_json)s, %(lingbao_json)s, %(shenqi_json)s, %(idbid_desc_json)s, %(changesch_json)s, %(prop_kept_json)s, %(more_attr_json)s, %(update_time)s)
                ON DUPLICATE KEY UPDATE time_lock_days = VALUES(time_lock_days), role_name = VALUES(role_name), role_level = VALUES(role_level), role_school = VALUES(role_school), role_icon = VALUES(role_icon), user_num = VALUES(user_num), hp_max = VALUES(hp_max), mp_max = VALUES(mp_max), att_all = VALUES(att_all), def_all = VALUES(def_all), spe_all = VALUES(spe_all), mag_all = VALUES(mag_all), damage_all = VALUES(damage_all), mag_dam_all = VALUES(mag_dam_all), mag_def_all = VALUES(mag_def_all), dod_all = VALUES(dod_all), cor_all = VALUES(cor_all), str_all = VALUES(str_all), res_all = VALUES(res_all), dex_all = VALUES(dex_all), up_exp = VALUES(up_exp), sum_exp = VALUES(sum_exp), expt_ski1 = VALUES(expt_ski1), expt_ski2 = VALUES(expt_ski2), expt_ski3 = VALUES(expt_ski3), expt_ski4 = VALUES(expt_ski4), expt_ski5 = VALUES(expt_ski5), max_expt1 = VALUES(max_expt1), max_expt2 = VALUES(max_expt2), max_expt3 = VALUES(max_expt3), max_expt4 = VALUES(max_expt4), beast_ski1 = VALUES(beast_ski1), beast_ski2 = VALUES(beast_ski2), beast_ski3 = VALUES(beast_ski3), beast_ski4 = VALUES(beast_ski4), all_new_point = VALUES(all_new_point), skill_point = VALUES(skill_point), attribute_point = VALUES(attribute_point), potential = VALUES(potential), max_potential = VALUES(max_potential), cash = VALUES(cash), saving = VALUES(saving), learn_cash = VALUES(learn_cash), zhuan_zhi = VALUES(zhuan_zhi), three_fly_lv = VALUES(three_fly_lv), nine_fight_level = VALUES(nine_fight_level), goodness = VALUES(goodness), badness = VALUES(badness), goodness_sav = VALUES(goodness_sav), role_title = VALUES(role_title), org_name = VALUES(org_name), org_offer = VALUES(org_offer), org_position = VALUES(org_position), marry_id = VALUES(marry_id), marry2_id = VALUES(marry2_id), marry_name = VALUES(marry_name), community_name = VALUES(community_name), community_gid = VALUES(community_gid), achievement_total = VALUES(achievement_total), hero_score = VALUES(hero_score), datang_feat = VALUES(datang_feat), sword_score = VALUES(sword_score), dup_score = VALUES(dup_score), shenqi_score = VALUES(shenqi_score), qicai_score = VALUES(qicai_score), xianyu_score = VALUES(xianyu_score), nuts_num = VALUES(nuts_num), cg_total_amount = VALUES(cg_total_amount), cg_body_amount = VALUES(cg_body_amount), cg_box_amount = VALUES(cg_box_amount), xianyu_amount = VALUES(xianyu_amount), energy_amount = VALUES(energy_amount), jiyuan_amount = VALUES(jiyuan_amount), add_point = VALUES(add_point), packet_page = VALUES(packet_page), rent_level = VALUES(rent_level), outdoor_level = VALUES(outdoor_level), farm_level = VALUES(farm_level), house_real_owner = VALUES(house_real_owner), pride = VALUES(pride), bid_status = VALUES(bid_status), ori_race = VALUES(ori_race), current_race = VALUES(current_race), sum_amount = VALUES(sum_amount), version_code = VALUES(version_code), pet = VALUES(pet), all_skills_json = VALUES(all_skills_json), all_equip_json = VALUES(all_equip_json), all_summon_json = VALUES(all_summon_json), child_json = VALUES(child_json), child2_json = VALUES(child2_json), all_rider_json = VALUES(all_rider_json), ex_avt_json = VALUES(ex_avt_json), huge_horse_json = VALUES(huge_horse_json), fabao_json = VALUES(fabao_json), lingbao_json = VALUES(lingbao_json), shenqi_json = VALUES(shenqi_json), idbid_desc_json = VALUES(idbid_desc_json), changesch_json = VALUES(changesch_json), prop_kept_json = VALUES(prop_kept_json), more_attr_json = VALUES(more_attr_json), update_time = VALUES(update_time)
                ]
[parameters: {'time_lock_days': 0, 'role_name': '夏末的晨曦ˇ', 'role_level': 144, 'role_school': 6, 'role_icon': 223, 'user_num': '38379869', 'hp_max': 2723, 'mp_max': 1210, 'att_all': 295, 'def_all': 469, 'spe_all': 799, 'mag_all': 150, 'damage_all': 453, 'mag_dam_all': 422, 'mag_def_all': 422, 'dod_all': 1110, 'cor_all': 253, 'str_all': 156, 'res_all': 156, 'dex_all': 616, 'up_exp': 30934509, 'sum_exp': 13, 'expt_ski1': 0, 'expt_ski2': 9, 'expt_ski3': 12, 'expt_ski4': 10, 'expt_ski5': 0, 'max_expt1': 20, 'max_expt2': 20, 'max_expt3': 20, 'max_expt4': 20, 'beast_ski1': 2, 'beast_ski2': 0, 'beast_ski3': 9, 'beast_ski4': 0, 'all_new_point': 1, 'skill_point': 0, 'attribute_point': 0, 'potential': 0, 'max_potential': 0, 'cash': 14325, 'saving': 0, 'learn_cash': 644349, 'zhuan_zhi': 0, 'three_fly_lv': 0, 'nine_fight_level': 8, 'goodness': 354, 'badness': 0, 'goodness_sav': 826, 'role_title': '' ... 2 parameters truncated ... 'org_position': '', 'marry_id': '0', 'marry2_id': '0', 'marry_name': '', 'community_name': '', 'community_gid': '0', 'achievement_total': 889, 'hero_score': 0, 'datang_feat': 5201, 'sword_score': 0, 'dup_score': 112, 'shenqi_score': 0, 'qicai_score': 0, 'xianyu_score': 2000, 'nuts_num': 13, 'cg_total_amount': 0, 'cg_body_amount': 0, 'cg_box_amount': 0, 'xianyu_amount': 1077, 'energy_amount': 83, 'jiyuan_amount': 0, 'add_point': 6, 'packet_page': 0, 'rent_level': 1, 'outdoor_level': 1, 'farm_level': 3, 'house_real_owner': 0, 'pride': 800, 'bid_status': 0, 'ori_race': 3, 'current_race': 3, 'sum_amount': 8, 'version_code': '20250226', 'pet': '[]', 'all_skills_json': '{"179": 1, "56": 100, "210": 10, "209": 10, "201": 120, "52042": 1, "169": 1, "52032": 1, "211": 45, "62": 100, "208": 100, "154": 5, "59": 135, "58" ... (83 characters truncated) ...  "170": 1, "202": 100, "52031": 1, "196": 1, "173": 1, "198": 1, "216": 55, "199": 1, "159": 4, "25933": 1, "57": 112, "161": 7, "197": 1, "61": 120}', 'all_equip_json': '{}', 'all_summon_json': '[]', 'child_json': '{}', 'child2_json': '{}', 'all_rider_json': '{"1": {"iGrade": 95, "exgrow": 12708, "iType": 503, "ExtraGrow": 0, "mattrib": "敏捷", "all_skills": {}}}', 'ex_avt_json': '{"1": {"iType": 21506, "extra_info": 1, "effect_pos": [0, 0, 0, 0, 0, 0, 64], "wear_pos": 7, "cName": "雪花飘落", "order": 4}, "3": {"iType": 14408, "ext ... (187 characters truncated) ... cName": "烟柳柔云", "order": 1}, "2": {"iType": 45512, "extra_info": 1, "effect_pos": [0, 0, 4, 0, 0, 0, 0], "wear_pos": 3, "cName": "烟柳柔云", "order": 3}}', 'huge_horse_json': '{"437": {"nosale": 0, "iSkill": 0, "iSkillLevel": 0, "iType": 11420, "Color_Str": "", "cName": "玲珑雪狐", "order": 2}, "661": {"nosale": 0, "iSkill": 622, "iSkillLevel": 1, "iType": 11678, "Color_Str": "", "cName": "碧潮海马", "order": 1}}', 'fabao_json': '{"12": {"iType": 6138, "fumo_type": 0, "cDesc": "0#Y灵气：#G50 #Y 五行：#G水#Y#r修炼境界：第#G0#Y层 #c7D7E82元神初具#Y"}, "4": {"iType": 6082, "fumo_type": 0, "cDesc": "0#Y灵气：#G92 #Y 五行：#G土#Y#r修炼境界：第#G10#Y层 #cFF6F28举世无双#Y#r#n#Y最佳五行属性奖励：额外增加召唤兽等级*3％的物攻和法攻#c7D7E82（未生效）#Y"}}', 'lingbao_json': '{}', 'shenqi_json': '{}', 'idbid_desc_json': '[]', 'changesch_json': '[]', 'prop_kept_json': '{"0": {"iSpe": 777, "iRes": 156, "iMag": 149, "iCor": 251, "iStr": 155}}', 'more_attr_json': '{"attrs": [{"idx": 10, "lv": 0}, {"idx": 15, "lv": 0}, {"idx": 11, "lv": 0}, {"idx": 3, "lv": 0}, {"idx": 1, "lv": 0}, {"idx": 2, "lv": 0}, {"idx": 9 ... (83 characters truncated) ...  5, "lv": 0}, {"idx": 7, "lv": 0}, {"idx": 6, "lv": 0}, {"idx": 13, "lv": 1110}, {"idx": 14, "lv": 422}, {"idx": 16, "lv": 0}, {"idx": 17, "lv": 0}]}', 'update_time': '2025-09-15 16:32:49'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-15 16:33:10,863 - INFO - 角色 202509092000113-132-XFJOB42FWJPK 价格从 76600.0 变更为 75000，已记录到价格历史
2025-09-15 16:39:52,416 - INFO - Spider实例将在需要时延迟创建
2025-09-15 16:39:54,403 - INFO - 成功加载 45 个Cookie
2025-09-15 16:39:54,529 - INFO - 已注入 45 个Cookie到浏览器上下文
2025-09-15 16:39:54,928 - INFO - Playwright浏览器设置完成
2025-09-15 16:39:54,952 - INFO - Playwright网络监听已设置
2025-09-15 16:39:54,953 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-15 16:39:56,852 - INFO - 页面初始加载完成
2025-09-15 16:39:58,516 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1757925596845&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-15 16:39:58,517 - INFO - 开始创建角色spider实例...
2025-09-15 16:40:00,340 - INFO - 装备锚点估价器和特征提取器导入成功
2025-09-15 16:40:00,349 - INFO - 装备特征提取器初始化成功
2025-09-15 16:40:00,357 - INFO - 灵饰特征提取器初始化成功
2025-09-15 16:40:00,357 - INFO - 宠物装备特征提取器初始化成功
2025-09-15 16:40:00,445 - INFO - 装备锚点估价器初始化成功
2025-09-15 16:40:00,468 - INFO - 统一特征提取器初始化成功
2025-09-15 16:40:00,469 - INFO - 异常装备数据库初始化成功
2025-09-15 16:40:00,477 - INFO - 装备特征提取器初始化成功
2025-09-15 16:40:00,487 - INFO - 灵饰特征提取器初始化成功
2025-09-15 16:40:00,487 - INFO - 宠物装备特征提取器初始化成功
2025-09-15 16:40:00,534 - INFO - 装备锚点估价器初始化成功
2025-09-15 16:40:00,609 - INFO - 统一特征提取器初始化成功
2025-09-15 16:40:00,611 - INFO - 异常装备数据库初始化成功
2025-09-15 16:40:00,974 - INFO - 角色特征提取器初始化成功
2025-09-15 16:40:00,977 - INFO - 角色市场锚定估价器初始化成功
2025-09-15 16:40:00,987 - INFO - 宠物特征提取器初始化成功
2025-09-15 16:40:00,987 - INFO - 宠物锚点估价器初始化成功
2025-09-15 16:40:00,992 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-15 16:40:00,992 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-15 16:40:01,105 - INFO - 角色spider实例已创建
2025-09-15 16:40:01,108 - INFO - 开始保存角色数据，数量: 15
2025-09-15 16:40:01,109 - INFO - 检查角色数据库...
2025-09-15 16:40:01,109 - INFO - 检查数据库类型: role
2025-09-15 16:40:01,109 - INFO - 数据库路径: c:\Users\Administrator\Desktop\mh\data\202509\cbg_roles_202509.db
2025-09-15 16:40:01,109 - INFO - 数据库文件是否存在: True
2025-09-15 16:40:01,109 - INFO - 获取角色spider实例...
2025-09-15 16:40:01,110 - INFO - 调用角色spider的save_role_data方法...
2025-09-15 16:40:01,136 - INFO - 成功加载game_auto_config.js配置，包含132个配置项
2025-09-15 16:40:22,782 - WARNING - 角色 202506151100113-132-X9KIERUCNWRF 不存在，跳过详细装备数据保存
2025-09-15 16:41:08,964 - ERROR - 插入数据到表 large_equip_desc_data 失败: (pymysql.err.IntegrityError) (1452, 'Cannot add or update a child row: a foreign key constraint fails (`cbg_spider`.`large_equip_desc_data`, CONSTRAINT `large_equip_desc_data_ibfk_1` FOREIGN KEY (`eid`) REFERENCES `roles` (`eid`))')
[SQL: 
                INSERT INTO large_equip_desc_data (time_lock_days, role_name, role_level, role_school, role_icon, user_num, hp_max, mp_max, att_all, def_all, spe_all, mag_all, damage_all, mag_dam_all, mag_def_all, dod_all, cor_all, str_all, res_all, dex_all, up_exp, sum_exp, expt_ski1, expt_ski2, expt_ski3, expt_ski4, expt_ski5, max_expt1, max_expt2, max_expt3, max_expt4, beast_ski1, beast_ski2, beast_ski3, beast_ski4, all_new_point, skill_point, attribute_point, potential, max_potential, cash, saving, learn_cash, zhuan_zhi, three_fly_lv, nine_fight_level, goodness, badness, goodness_sav, role_title, org_name, org_offer, org_position, marry_id, marry2_id, marry_name, community_name, community_gid, achievement_total, hero_score, datang_feat, sword_score, dup_score, shenqi_score, qicai_score, xianyu_score, nuts_num, cg_total_amount, cg_body_amount, cg_box_amount, xianyu_amount, energy_amount, jiyuan_amount, add_point, packet_page, rent_level, outdoor_level, farm_level, house_real_owner, pride, bid_status, ori_race, current_race, sum_amount, version_code, pet, all_skills_json, all_equip_json, all_summon_json, child_json, child2_json, all_rider_json, ex_avt_json, huge_horse_json, fabao_json, lingbao_json, shenqi_json, idbid_desc_json, changesch_json, prop_kept_json, more_attr_json, update_time) 
                VALUES (%(time_lock_days)s, %(role_name)s, %(role_level)s, %(role_school)s, %(role_icon)s, %(user_num)s, %(hp_max)s, %(mp_max)s, %(att_all)s, %(def_all)s, %(spe_all)s, %(mag_all)s, %(damage_all)s, %(mag_dam_all)s, %(mag_def_all)s, %(dod_all)s, %(cor_all)s, %(str_all)s, %(res_all)s, %(dex_all)s, %(up_exp)s, %(sum_exp)s, %(expt_ski1)s, %(expt_ski2)s, %(expt_ski3)s, %(expt_ski4)s, %(expt_ski5)s, %(max_expt1)s, %(max_expt2)s, %(max_expt3)s, %(max_expt4)s, %(beast_ski1)s, %(beast_ski2)s, %(beast_ski3)s, %(beast_ski4)s, %(all_new_point)s, %(skill_point)s, %(attribute_point)s, %(potential)s, %(max_potential)s, %(cash)s, %(saving)s, %(learn_cash)s, %(zhuan_zhi)s, %(three_fly_lv)s, %(nine_fight_level)s, %(goodness)s, %(badness)s, %(goodness_sav)s, %(role_title)s, %(org_name)s, %(org_offer)s, %(org_position)s, %(marry_id)s, %(marry2_id)s, %(marry_name)s, %(community_name)s, %(community_gid)s, %(achievement_total)s, %(hero_score)s, %(datang_feat)s, %(sword_score)s, %(dup_score)s, %(shenqi_score)s, %(qicai_score)s, %(xianyu_score)s, %(nuts_num)s, %(cg_total_amount)s, %(cg_body_amount)s, %(cg_box_amount)s, %(xianyu_amount)s, %(energy_amount)s, %(jiyuan_amount)s, %(add_point)s, %(packet_page)s, %(rent_level)s, %(outdoor_level)s, %(farm_level)s, %(house_real_owner)s, %(pride)s, %(bid_status)s, %(ori_race)s, %(current_race)s, %(sum_amount)s, %(version_code)s, %(pet)s, %(all_skills_json)s, %(all_equip_json)s, %(all_summon_json)s, %(child_json)s, %(child2_json)s, %(all_rider_json)s, %(ex_avt_json)s, %(huge_horse_json)s, %(fabao_json)s, %(lingbao_json)s, %(shenqi_json)s, %(idbid_desc_json)s, %(changesch_json)s, %(prop_kept_json)s, %(more_attr_json)s, %(update_time)s)
                ON DUPLICATE KEY UPDATE time_lock_days = VALUES(time_lock_days), role_name = VALUES(role_name), role_level = VALUES(role_level), role_school = VALUES(role_school), role_icon = VALUES(role_icon), user_num = VALUES(user_num), hp_max = VALUES(hp_max), mp_max = VALUES(mp_max), att_all = VALUES(att_all), def_all = VALUES(def_all), spe_all = VALUES(spe_all), mag_all = VALUES(mag_all), damage_all = VALUES(damage_all), mag_dam_all = VALUES(mag_dam_all), mag_def_all = VALUES(mag_def_all), dod_all = VALUES(dod_all), cor_all = VALUES(cor_all), str_all = VALUES(str_all), res_all = VALUES(res_all), dex_all = VALUES(dex_all), up_exp = VALUES(up_exp), sum_exp = VALUES(sum_exp), expt_ski1 = VALUES(expt_ski1), expt_ski2 = VALUES(expt_ski2), expt_ski3 = VALUES(expt_ski3), expt_ski4 = VALUES(expt_ski4), expt_ski5 = VALUES(expt_ski5), max_expt1 = VALUES(max_expt1), max_expt2 = VALUES(max_expt2), max_expt3 = VALUES(max_expt3), max_expt4 = VALUES(max_expt4), beast_ski1 = VALUES(beast_ski1), beast_ski2 = VALUES(beast_ski2), beast_ski3 = VALUES(beast_ski3), beast_ski4 = VALUES(beast_ski4), all_new_point = VALUES(all_new_point), skill_point = VALUES(skill_point), attribute_point = VALUES(attribute_point), potential = VALUES(potential), max_potential = VALUES(max_potential), cash = VALUES(cash), saving = VALUES(saving), learn_cash = VALUES(learn_cash), zhuan_zhi = VALUES(zhuan_zhi), three_fly_lv = VALUES(three_fly_lv), nine_fight_level = VALUES(nine_fight_level), goodness = VALUES(goodness), badness = VALUES(badness), goodness_sav = VALUES(goodness_sav), role_title = VALUES(role_title), org_name = VALUES(org_name), org_offer = VALUES(org_offer), org_position = VALUES(org_position), marry_id = VALUES(marry_id), marry2_id = VALUES(marry2_id), marry_name = VALUES(marry_name), community_name = VALUES(community_name), community_gid = VALUES(community_gid), achievement_total = VALUES(achievement_total), hero_score = VALUES(hero_score), datang_feat = VALUES(datang_feat), sword_score = VALUES(sword_score), dup_score = VALUES(dup_score), shenqi_score = VALUES(shenqi_score), qicai_score = VALUES(qicai_score), xianyu_score = VALUES(xianyu_score), nuts_num = VALUES(nuts_num), cg_total_amount = VALUES(cg_total_amount), cg_body_amount = VALUES(cg_body_amount), cg_box_amount = VALUES(cg_box_amount), xianyu_amount = VALUES(xianyu_amount), energy_amount = VALUES(energy_amount), jiyuan_amount = VALUES(jiyuan_amount), add_point = VALUES(add_point), packet_page = VALUES(packet_page), rent_level = VALUES(rent_level), outdoor_level = VALUES(outdoor_level), farm_level = VALUES(farm_level), house_real_owner = VALUES(house_real_owner), pride = VALUES(pride), bid_status = VALUES(bid_status), ori_race = VALUES(ori_race), current_race = VALUES(current_race), sum_amount = VALUES(sum_amount), version_code = VALUES(version_code), pet = VALUES(pet), all_skills_json = VALUES(all_skills_json), all_equip_json = VALUES(all_equip_json), all_summon_json = VALUES(all_summon_json), child_json = VALUES(child_json), child2_json = VALUES(child2_json), all_rider_json = VALUES(all_rider_json), ex_avt_json = VALUES(ex_avt_json), huge_horse_json = VALUES(huge_horse_json), fabao_json = VALUES(fabao_json), lingbao_json = VALUES(lingbao_json), shenqi_json = VALUES(shenqi_json), idbid_desc_json = VALUES(idbid_desc_json), changesch_json = VALUES(changesch_json), prop_kept_json = VALUES(prop_kept_json), more_attr_json = VALUES(more_attr_json), update_time = VALUES(update_time)
                ]
[parameters: {'time_lock_days': 0, 'role_name': '夏末的晨曦ˇ', 'role_level': 144, 'role_school': 6, 'role_icon': 223, 'user_num': '38379869', 'hp_max': 2723, 'mp_max': 1210, 'att_all': 295, 'def_all': 469, 'spe_all': 799, 'mag_all': 150, 'damage_all': 453, 'mag_dam_all': 422, 'mag_def_all': 422, 'dod_all': 1110, 'cor_all': 253, 'str_all': 156, 'res_all': 156, 'dex_all': 616, 'up_exp': 30934509, 'sum_exp': 13, 'expt_ski1': 0, 'expt_ski2': 9, 'expt_ski3': 12, 'expt_ski4': 10, 'expt_ski5': 0, 'max_expt1': 20, 'max_expt2': 20, 'max_expt3': 20, 'max_expt4': 20, 'beast_ski1': 2, 'beast_ski2': 0, 'beast_ski3': 9, 'beast_ski4': 0, 'all_new_point': 1, 'skill_point': 0, 'attribute_point': 0, 'potential': 0, 'max_potential': 0, 'cash': 14325, 'saving': 0, 'learn_cash': 644349, 'zhuan_zhi': 0, 'three_fly_lv': 0, 'nine_fight_level': 8, 'goodness': 354, 'badness': 0, 'goodness_sav': 826, 'role_title': '' ... 2 parameters truncated ... 'org_position': '', 'marry_id': '0', 'marry2_id': '0', 'marry_name': '', 'community_name': '', 'community_gid': '0', 'achievement_total': 889, 'hero_score': 0, 'datang_feat': 5201, 'sword_score': 0, 'dup_score': 112, 'shenqi_score': 0, 'qicai_score': 0, 'xianyu_score': 2000, 'nuts_num': 13, 'cg_total_amount': 0, 'cg_body_amount': 0, 'cg_box_amount': 0, 'xianyu_amount': 1077, 'energy_amount': 83, 'jiyuan_amount': 0, 'add_point': 6, 'packet_page': 0, 'rent_level': 1, 'outdoor_level': 1, 'farm_level': 3, 'house_real_owner': 0, 'pride': 800, 'bid_status': 0, 'ori_race': 3, 'current_race': 3, 'sum_amount': 8, 'version_code': '20250226', 'pet': '[]', 'all_skills_json': '{"179": 1, "56": 100, "210": 10, "209": 10, "201": 120, "52042": 1, "169": 1, "52032": 1, "211": 45, "62": 100, "208": 100, "154": 5, "59": 135, "58" ... (83 characters truncated) ...  "170": 1, "202": 100, "52031": 1, "196": 1, "173": 1, "198": 1, "216": 55, "199": 1, "159": 4, "25933": 1, "57": 112, "161": 7, "197": 1, "61": 120}', 'all_equip_json': '{}', 'all_summon_json': '[]', 'child_json': '{}', 'child2_json': '{}', 'all_rider_json': '{"1": {"iGrade": 95, "exgrow": 12708, "iType": 503, "ExtraGrow": 0, "mattrib": "敏捷", "all_skills": {}}}', 'ex_avt_json': '{"1": {"iType": 21506, "extra_info": 1, "effect_pos": [0, 0, 0, 0, 0, 0, 64], "wear_pos": 7, "cName": "雪花飘落", "order": 4}, "3": {"iType": 14408, "ext ... (187 characters truncated) ... cName": "烟柳柔云", "order": 1}, "2": {"iType": 45512, "extra_info": 1, "effect_pos": [0, 0, 4, 0, 0, 0, 0], "wear_pos": 3, "cName": "烟柳柔云", "order": 3}}', 'huge_horse_json': '{"437": {"nosale": 0, "iSkill": 0, "iSkillLevel": 0, "iType": 11420, "Color_Str": "", "cName": "玲珑雪狐", "order": 2}, "661": {"nosale": 0, "iSkill": 622, "iSkillLevel": 1, "iType": 11678, "Color_Str": "", "cName": "碧潮海马", "order": 1}}', 'fabao_json': '{"12": {"iType": 6138, "fumo_type": 0, "cDesc": "0#Y灵气：#G50 #Y 五行：#G水#Y#r修炼境界：第#G0#Y层 #c7D7E82元神初具#Y"}, "4": {"iType": 6082, "fumo_type": 0, "cDesc": "0#Y灵气：#G92 #Y 五行：#G土#Y#r修炼境界：第#G10#Y层 #cFF6F28举世无双#Y#r#n#Y最佳五行属性奖励：额外增加召唤兽等级*3％的物攻和法攻#c7D7E82（未生效）#Y"}}', 'lingbao_json': '{}', 'shenqi_json': '{}', 'idbid_desc_json': '[]', 'changesch_json': '[]', 'prop_kept_json': '{"0": {"iSpe": 777, "iRes": 156, "iMag": 149, "iCor": 251, "iStr": 155}}', 'more_attr_json': '{"attrs": [{"idx": 10, "lv": 0}, {"idx": 15, "lv": 0}, {"idx": 11, "lv": 0}, {"idx": 3, "lv": 0}, {"idx": 1, "lv": 0}, {"idx": 2, "lv": 0}, {"idx": 9 ... (83 characters truncated) ...  5, "lv": 0}, {"idx": 7, "lv": 0}, {"idx": 6, "lv": 0}, {"idx": 13, "lv": 1110}, {"idx": 14, "lv": 422}, {"idx": 16, "lv": 0}, {"idx": 17, "lv": 0}]}', 'update_time': '2025-09-15 16:40:46'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-15 16:41:09,373 - INFO - 角色 202509092000113-132-XFJOB42FWJPK 价格从 76600.0 变更为 75000，已记录到价格历史
2025-09-15 16:41:48,184 - ERROR - 插入数据到表 large_equip_desc_data 失败: (pymysql.err.IntegrityError) (1452, 'Cannot add or update a child row: a foreign key constraint fails (`cbg_spider`.`large_equip_desc_data`, CONSTRAINT `large_equip_desc_data_ibfk_1` FOREIGN KEY (`eid`) REFERENCES `roles` (`eid`))')
[SQL: 
                INSERT INTO large_equip_desc_data (time_lock_days, role_name, role_level, role_school, role_icon, user_num, hp_max, mp_max, att_all, def_all, spe_all, mag_all, damage_all, mag_dam_all, mag_def_all, dod_all, cor_all, str_all, res_all, dex_all, up_exp, sum_exp, expt_ski1, expt_ski2, expt_ski3, expt_ski4, expt_ski5, max_expt1, max_expt2, max_expt3, max_expt4, beast_ski1, beast_ski2, beast_ski3, beast_ski4, all_new_point, skill_point, attribute_point, potential, max_potential, cash, saving, learn_cash, zhuan_zhi, three_fly_lv, nine_fight_level, goodness, badness, goodness_sav, role_title, org_name, org_offer, org_position, marry_id, marry2_id, marry_name, community_name, community_gid, achievement_total, hero_score, datang_feat, sword_score, dup_score, shenqi_score, qicai_score, xianyu_score, nuts_num, cg_total_amount, cg_body_amount, cg_box_amount, xianyu_amount, energy_amount, jiyuan_amount, add_point, packet_page, rent_level, outdoor_level, farm_level, house_real_owner, pride, bid_status, ori_race, current_race, sum_amount, version_code, pet, all_skills_json, all_equip_json, all_summon_json, child_json, child2_json, all_rider_json, ex_avt_json, huge_horse_json, fabao_json, lingbao_json, shenqi_json, idbid_desc_json, changesch_json, prop_kept_json, more_attr_json, update_time) 
                VALUES (%(time_lock_days)s, %(role_name)s, %(role_level)s, %(role_school)s, %(role_icon)s, %(user_num)s, %(hp_max)s, %(mp_max)s, %(att_all)s, %(def_all)s, %(spe_all)s, %(mag_all)s, %(damage_all)s, %(mag_dam_all)s, %(mag_def_all)s, %(dod_all)s, %(cor_all)s, %(str_all)s, %(res_all)s, %(dex_all)s, %(up_exp)s, %(sum_exp)s, %(expt_ski1)s, %(expt_ski2)s, %(expt_ski3)s, %(expt_ski4)s, %(expt_ski5)s, %(max_expt1)s, %(max_expt2)s, %(max_expt3)s, %(max_expt4)s, %(beast_ski1)s, %(beast_ski2)s, %(beast_ski3)s, %(beast_ski4)s, %(all_new_point)s, %(skill_point)s, %(attribute_point)s, %(potential)s, %(max_potential)s, %(cash)s, %(saving)s, %(learn_cash)s, %(zhuan_zhi)s, %(three_fly_lv)s, %(nine_fight_level)s, %(goodness)s, %(badness)s, %(goodness_sav)s, %(role_title)s, %(org_name)s, %(org_offer)s, %(org_position)s, %(marry_id)s, %(marry2_id)s, %(marry_name)s, %(community_name)s, %(community_gid)s, %(achievement_total)s, %(hero_score)s, %(datang_feat)s, %(sword_score)s, %(dup_score)s, %(shenqi_score)s, %(qicai_score)s, %(xianyu_score)s, %(nuts_num)s, %(cg_total_amount)s, %(cg_body_amount)s, %(cg_box_amount)s, %(xianyu_amount)s, %(energy_amount)s, %(jiyuan_amount)s, %(add_point)s, %(packet_page)s, %(rent_level)s, %(outdoor_level)s, %(farm_level)s, %(house_real_owner)s, %(pride)s, %(bid_status)s, %(ori_race)s, %(current_race)s, %(sum_amount)s, %(version_code)s, %(pet)s, %(all_skills_json)s, %(all_equip_json)s, %(all_summon_json)s, %(child_json)s, %(child2_json)s, %(all_rider_json)s, %(ex_avt_json)s, %(huge_horse_json)s, %(fabao_json)s, %(lingbao_json)s, %(shenqi_json)s, %(idbid_desc_json)s, %(changesch_json)s, %(prop_kept_json)s, %(more_attr_json)s, %(update_time)s)
                ON DUPLICATE KEY UPDATE time_lock_days = VALUES(time_lock_days), role_name = VALUES(role_name), role_level = VALUES(role_level), role_school = VALUES(role_school), role_icon = VALUES(role_icon), user_num = VALUES(user_num), hp_max = VALUES(hp_max), mp_max = VALUES(mp_max), att_all = VALUES(att_all), def_all = VALUES(def_all), spe_all = VALUES(spe_all), mag_all = VALUES(mag_all), damage_all = VALUES(damage_all), mag_dam_all = VALUES(mag_dam_all), mag_def_all = VALUES(mag_def_all), dod_all = VALUES(dod_all), cor_all = VALUES(cor_all), str_all = VALUES(str_all), res_all = VALUES(res_all), dex_all = VALUES(dex_all), up_exp = VALUES(up_exp), sum_exp = VALUES(sum_exp), expt_ski1 = VALUES(expt_ski1), expt_ski2 = VALUES(expt_ski2), expt_ski3 = VALUES(expt_ski3), expt_ski4 = VALUES(expt_ski4), expt_ski5 = VALUES(expt_ski5), max_expt1 = VALUES(max_expt1), max_expt2 = VALUES(max_expt2), max_expt3 = VALUES(max_expt3), max_expt4 = VALUES(max_expt4), beast_ski1 = VALUES(beast_ski1), beast_ski2 = VALUES(beast_ski2), beast_ski3 = VALUES(beast_ski3), beast_ski4 = VALUES(beast_ski4), all_new_point = VALUES(all_new_point), skill_point = VALUES(skill_point), attribute_point = VALUES(attribute_point), potential = VALUES(potential), max_potential = VALUES(max_potential), cash = VALUES(cash), saving = VALUES(saving), learn_cash = VALUES(learn_cash), zhuan_zhi = VALUES(zhuan_zhi), three_fly_lv = VALUES(three_fly_lv), nine_fight_level = VALUES(nine_fight_level), goodness = VALUES(goodness), badness = VALUES(badness), goodness_sav = VALUES(goodness_sav), role_title = VALUES(role_title), org_name = VALUES(org_name), org_offer = VALUES(org_offer), org_position = VALUES(org_position), marry_id = VALUES(marry_id), marry2_id = VALUES(marry2_id), marry_name = VALUES(marry_name), community_name = VALUES(community_name), community_gid = VALUES(community_gid), achievement_total = VALUES(achievement_total), hero_score = VALUES(hero_score), datang_feat = VALUES(datang_feat), sword_score = VALUES(sword_score), dup_score = VALUES(dup_score), shenqi_score = VALUES(shenqi_score), qicai_score = VALUES(qicai_score), xianyu_score = VALUES(xianyu_score), nuts_num = VALUES(nuts_num), cg_total_amount = VALUES(cg_total_amount), cg_body_amount = VALUES(cg_body_amount), cg_box_amount = VALUES(cg_box_amount), xianyu_amount = VALUES(xianyu_amount), energy_amount = VALUES(energy_amount), jiyuan_amount = VALUES(jiyuan_amount), add_point = VALUES(add_point), packet_page = VALUES(packet_page), rent_level = VALUES(rent_level), outdoor_level = VALUES(outdoor_level), farm_level = VALUES(farm_level), house_real_owner = VALUES(house_real_owner), pride = VALUES(pride), bid_status = VALUES(bid_status), ori_race = VALUES(ori_race), current_race = VALUES(current_race), sum_amount = VALUES(sum_amount), version_code = VALUES(version_code), pet = VALUES(pet), all_skills_json = VALUES(all_skills_json), all_equip_json = VALUES(all_equip_json), all_summon_json = VALUES(all_summon_json), child_json = VALUES(child_json), child2_json = VALUES(child2_json), all_rider_json = VALUES(all_rider_json), ex_avt_json = VALUES(ex_avt_json), huge_horse_json = VALUES(huge_horse_json), fabao_json = VALUES(fabao_json), lingbao_json = VALUES(lingbao_json), shenqi_json = VALUES(shenqi_json), idbid_desc_json = VALUES(idbid_desc_json), changesch_json = VALUES(changesch_json), prop_kept_json = VALUES(prop_kept_json), more_attr_json = VALUES(more_attr_json), update_time = VALUES(update_time)
                ]
[parameters: {'time_lock_days': 0, 'role_name': '孤影成叁人', 'role_level': 117, 'role_school': 20, 'role_icon': 220, 'user_num': '42911554', 'hp_max': 2115, 'mp_max': 639, 'att_all': 2034, 'def_all': 410, 'spe_all': 126, 'mag_all': 130, 'damage_all': 1022, 'mag_dam_all': 565, 'mag_def_all': 565, 'dod_all': 160, 'cor_all': 142, 'str_all': 786, 'res_all': 128, 'dex_all': 208, 'up_exp': 4141358, 'sum_exp': 17, 'expt_ski1': 11, 'expt_ski2': 10, 'expt_ski3': 0, 'expt_ski4': 10, 'expt_ski5': 0, 'max_expt1': 20, 'max_expt2': 20, 'max_expt3': 20, 'max_expt4': 20, 'beast_ski1': 10, 'beast_ski2': 0, 'beast_ski3': 10, 'beast_ski4': 0, 'all_new_point': 2, 'skill_point': 0, 'attribute_point': 5, 'potential': 0, 'max_potential': 0, 'cash': 4243, 'saving': 0, 'learn_cash': 1447299, 'zhuan_zhi': 0, 'three_fly_lv': 0, 'nine_fight_level': 0, 'goodness': 0, 'badness': 0, 'goodness_sav': 3500, 'role_title': '' ... 2 parameters truncated ... 'org_position': '', 'marry_id': '0', 'marry2_id': '0', 'marry_name': '', 'community_name': '0', 'community_gid': '0', 'achievement_total': 1171, 'hero_score': 26, 'datang_feat': 2058, 'sword_score': 1000, 'dup_score': 97, 'shenqi_score': 0, 'qicai_score': 0, 'xianyu_score': 988, 'nuts_num': 71, 'cg_total_amount': 0, 'cg_body_amount': 0, 'cg_box_amount': 0, 'xianyu_amount': 218, 'energy_amount': 105, 'jiyuan_amount': 0, 'add_point': 9, 'packet_page': 0, 'rent_level': 0, 'outdoor_level': 0, 'farm_level': 0, 'house_real_owner': 0, 'pride': 800, 'bid_status': 0, 'ori_race': 2, 'current_race': 2, 'sum_amount': 8, 'version_code': '20250226', 'pet': '[]', 'all_skills_json': '{"237": 10, "40201": 1, "179": 1, "198": 1, "40202": 1, "211": 20, "154": 6, "52050": 1, "52032": 1, "144": 99, "160": 2, "199": 1, "146": 80, "39002 ... (170 characters truncated) ... : 1, "208": 20, "212": 30, "40204": 1, "202": 58, "201": 92, "52042": 1, "170": 1, "145": 87, "169": 1, "40203": 1, "52040": 1, "52016": 1, "157": 5}', 'all_equip_json': '{"2": {"equip_sn": "8mI004I8P3M", "cDesc": "#r等级 50  五行 金#r防御 +64#r耐久度 348#r#G#G体质 +12#Y#Y  ", "can_split_agent": 0, "iType": 2615, "obj_level": 50}}', 'all_summon_json': '[{"growthMax": 1256, "iHp": 928, "def": 1265, "grow": 1195, "summon_equip4_desc": "", "iRes_all": 121, "sjg": 0, "att_rate": 0, "iAtt_F": 16, "color_ ... (906 characters truncated) ... "equip_sn": "8mN000ObgtB", "tmp_lingxing": 0, "summon_equip4_type": 0, "carrygradezz": 0, "spe": 1020, "is_super_sum": 0, "dod": 1414, "iBaobao": 0}]', 'child_json': '{}', 'child2_json': '{}', 'all_rider_json': '{"3": {"all_skills": {"600": 3, "611": 1}, "ExtraGrow": 100, "iGrade": 109, "iType": 507, "mattrib": "力量", "exgrow": 23020}}', 'ex_avt_json': '{"11": {"effect_pos": [0, 0, 4, 0, 0, 0, 0], "wear_pos": 3, "order": 3, "cName": "影行束发", "iType": 58264, "extra_info": 0}, "9": {"effect_pos": [0, 0, ... (1039 characters truncated) ... : 14408, "extra_info": 1}, "4": {"effect_pos": [0, 0, 0, 0, 16, 0, 0], "wear_pos": 5, "order": 10, "cName": "糖果武器", "iType": 14406, "extra_info": 1}}', 'huge_horse_json': '{"666": {"cName": "珍宝流萤", "iType": 11683, "order": 2, "Color_Str": "", "iSkill": 0, "nosale": 0, "iSkillLevel": 0}, "254": {"cName": "仙缘战鹿", "iType": 11246, "order": 1, "Color_Str": "", "iSkill": 0, "nosale": 0, "iSkillLevel": 0}}', 'fabao_json': '{"17": {"cDesc": "0#W【回合限制】8#r#Y#Y灵气：#G50 #Y 五行：#G金#Y#r修炼境界：第#G0#Y层 #c7D7E82心法初成#Y#r#n#Y最佳五行属性奖励：额外提升1%的抗封印类法术能力#G（已生效）#Y", "iType": 6130, "fumo_type ... (698 characters truncated) ... #G50 #Y 五行：#G水#Y#r修炼境界：第#G0#Y层 #c7D7E82心法初成#Y", "iType": 6025, "fumo_type": 0}, "20": {"cDesc": "0【专用】修炼境界：第#G16#Y层", "iType": 6116, "fumo_type": 0}}', 'lingbao_json': '{}', 'shenqi_json': '{}', 'idbid_desc_json': '[]', 'changesch_json': '[]', 'prop_kept_json': '{}', 'more_attr_json': '{"attrs": [{"idx": 6, "lv": 0}, {"idx": 10, "lv": 0}, {"idx": 4, "lv": 0}, {"idx": 2, "lv": 0}, {"idx": 8, "lv": 0}, {"idx": 1, "lv": 0}, {"idx": 5,  ... (82 characters truncated) ...  11, "lv": 0}, {"idx": 7, "lv": 0}, {"idx": 9, "lv": 0}, {"idx": 13, "lv": 160}, {"idx": 14, "lv": 565}, {"idx": 16, "lv": 0}, {"idx": 17, "lv": 0}]}', 'update_time': '2025-09-15 16:41:30'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-15 16:42:09,022 - WARNING - 角色 202509151400113-132-AZFIFFMQPEZQ 不存在，跳过详细装备数据保存
2025-09-15 16:42:49,060 - ERROR - 插入数据到表 large_equip_desc_data 失败: (pymysql.err.IntegrityError) (1452, 'Cannot add or update a child row: a foreign key constraint fails (`cbg_spider`.`large_equip_desc_data`, CONSTRAINT `large_equip_desc_data_ibfk_1` FOREIGN KEY (`eid`) REFERENCES `roles` (`eid`))')
[SQL: 
                INSERT INTO large_equip_desc_data (time_lock_days, role_name, role_level, role_school, role_icon, user_num, hp_max, mp_max, att_all, def_all, spe_all, mag_all, damage_all, mag_dam_all, mag_def_all, dod_all, cor_all, str_all, res_all, dex_all, up_exp, sum_exp, expt_ski1, expt_ski2, expt_ski3, expt_ski4, expt_ski5, max_expt1, max_expt2, max_expt3, max_expt4, beast_ski1, beast_ski2, beast_ski3, beast_ski4, all_new_point, skill_point, attribute_point, potential, max_potential, cash, saving, learn_cash, zhuan_zhi, three_fly_lv, nine_fight_level, goodness, badness, goodness_sav, role_title, org_name, org_offer, org_position, marry_id, marry2_id, marry_name, community_name, community_gid, achievement_total, hero_score, datang_feat, sword_score, dup_score, shenqi_score, qicai_score, xianyu_score, nuts_num, cg_total_amount, cg_body_amount, cg_box_amount, xianyu_amount, energy_amount, jiyuan_amount, add_point, packet_page, rent_level, outdoor_level, farm_level, house_real_owner, pride, bid_status, ori_race, current_race, sum_amount, version_code, pet, all_skills_json, all_equip_json, all_summon_json, child_json, child2_json, all_rider_json, ex_avt_json, huge_horse_json, fabao_json, lingbao_json, shenqi_json, idbid_desc_json, changesch_json, prop_kept_json, more_attr_json, update_time) 
                VALUES (%(time_lock_days)s, %(role_name)s, %(role_level)s, %(role_school)s, %(role_icon)s, %(user_num)s, %(hp_max)s, %(mp_max)s, %(att_all)s, %(def_all)s, %(spe_all)s, %(mag_all)s, %(damage_all)s, %(mag_dam_all)s, %(mag_def_all)s, %(dod_all)s, %(cor_all)s, %(str_all)s, %(res_all)s, %(dex_all)s, %(up_exp)s, %(sum_exp)s, %(expt_ski1)s, %(expt_ski2)s, %(expt_ski3)s, %(expt_ski4)s, %(expt_ski5)s, %(max_expt1)s, %(max_expt2)s, %(max_expt3)s, %(max_expt4)s, %(beast_ski1)s, %(beast_ski2)s, %(beast_ski3)s, %(beast_ski4)s, %(all_new_point)s, %(skill_point)s, %(attribute_point)s, %(potential)s, %(max_potential)s, %(cash)s, %(saving)s, %(learn_cash)s, %(zhuan_zhi)s, %(three_fly_lv)s, %(nine_fight_level)s, %(goodness)s, %(badness)s, %(goodness_sav)s, %(role_title)s, %(org_name)s, %(org_offer)s, %(org_position)s, %(marry_id)s, %(marry2_id)s, %(marry_name)s, %(community_name)s, %(community_gid)s, %(achievement_total)s, %(hero_score)s, %(datang_feat)s, %(sword_score)s, %(dup_score)s, %(shenqi_score)s, %(qicai_score)s, %(xianyu_score)s, %(nuts_num)s, %(cg_total_amount)s, %(cg_body_amount)s, %(cg_box_amount)s, %(xianyu_amount)s, %(energy_amount)s, %(jiyuan_amount)s, %(add_point)s, %(packet_page)s, %(rent_level)s, %(outdoor_level)s, %(farm_level)s, %(house_real_owner)s, %(pride)s, %(bid_status)s, %(ori_race)s, %(current_race)s, %(sum_amount)s, %(version_code)s, %(pet)s, %(all_skills_json)s, %(all_equip_json)s, %(all_summon_json)s, %(child_json)s, %(child2_json)s, %(all_rider_json)s, %(ex_avt_json)s, %(huge_horse_json)s, %(fabao_json)s, %(lingbao_json)s, %(shenqi_json)s, %(idbid_desc_json)s, %(changesch_json)s, %(prop_kept_json)s, %(more_attr_json)s, %(update_time)s)
                ON DUPLICATE KEY UPDATE time_lock_days = VALUES(time_lock_days), role_name = VALUES(role_name), role_level = VALUES(role_level), role_school = VALUES(role_school), role_icon = VALUES(role_icon), user_num = VALUES(user_num), hp_max = VALUES(hp_max), mp_max = VALUES(mp_max), att_all = VALUES(att_all), def_all = VALUES(def_all), spe_all = VALUES(spe_all), mag_all = VALUES(mag_all), damage_all = VALUES(damage_all), mag_dam_all = VALUES(mag_dam_all), mag_def_all = VALUES(mag_def_all), dod_all = VALUES(dod_all), cor_all = VALUES(cor_all), str_all = VALUES(str_all), res_all = VALUES(res_all), dex_all = VALUES(dex_all), up_exp = VALUES(up_exp), sum_exp = VALUES(sum_exp), expt_ski1 = VALUES(expt_ski1), expt_ski2 = VALUES(expt_ski2), expt_ski3 = VALUES(expt_ski3), expt_ski4 = VALUES(expt_ski4), expt_ski5 = VALUES(expt_ski5), max_expt1 = VALUES(max_expt1), max_expt2 = VALUES(max_expt2), max_expt3 = VALUES(max_expt3), max_expt4 = VALUES(max_expt4), beast_ski1 = VALUES(beast_ski1), beast_ski2 = VALUES(beast_ski2), beast_ski3 = VALUES(beast_ski3), beast_ski4 = VALUES(beast_ski4), all_new_point = VALUES(all_new_point), skill_point = VALUES(skill_point), attribute_point = VALUES(attribute_point), potential = VALUES(potential), max_potential = VALUES(max_potential), cash = VALUES(cash), saving = VALUES(saving), learn_cash = VALUES(learn_cash), zhuan_zhi = VALUES(zhuan_zhi), three_fly_lv = VALUES(three_fly_lv), nine_fight_level = VALUES(nine_fight_level), goodness = VALUES(goodness), badness = VALUES(badness), goodness_sav = VALUES(goodness_sav), role_title = VALUES(role_title), org_name = VALUES(org_name), org_offer = VALUES(org_offer), org_position = VALUES(org_position), marry_id = VALUES(marry_id), marry2_id = VALUES(marry2_id), marry_name = VALUES(marry_name), community_name = VALUES(community_name), community_gid = VALUES(community_gid), achievement_total = VALUES(achievement_total), hero_score = VALUES(hero_score), datang_feat = VALUES(datang_feat), sword_score = VALUES(sword_score), dup_score = VALUES(dup_score), shenqi_score = VALUES(shenqi_score), qicai_score = VALUES(qicai_score), xianyu_score = VALUES(xianyu_score), nuts_num = VALUES(nuts_num), cg_total_amount = VALUES(cg_total_amount), cg_body_amount = VALUES(cg_body_amount), cg_box_amount = VALUES(cg_box_amount), xianyu_amount = VALUES(xianyu_amount), energy_amount = VALUES(energy_amount), jiyuan_amount = VALUES(jiyuan_amount), add_point = VALUES(add_point), packet_page = VALUES(packet_page), rent_level = VALUES(rent_level), outdoor_level = VALUES(outdoor_level), farm_level = VALUES(farm_level), house_real_owner = VALUES(house_real_owner), pride = VALUES(pride), bid_status = VALUES(bid_status), ori_race = VALUES(ori_race), current_race = VALUES(current_race), sum_amount = VALUES(sum_amount), version_code = VALUES(version_code), pet = VALUES(pet), all_skills_json = VALUES(all_skills_json), all_equip_json = VALUES(all_equip_json), all_summon_json = VALUES(all_summon_json), child_json = VALUES(child_json), child2_json = VALUES(child2_json), all_rider_json = VALUES(all_rider_json), ex_avt_json = VALUES(ex_avt_json), huge_horse_json = VALUES(huge_horse_json), fabao_json = VALUES(fabao_json), lingbao_json = VALUES(lingbao_json), shenqi_json = VALUES(shenqi_json), idbid_desc_json = VALUES(idbid_desc_json), changesch_json = VALUES(changesch_json), prop_kept_json = VALUES(prop_kept_json), more_attr_json = VALUES(more_attr_json), update_time = VALUES(update_time)
                ]
[parameters: {'time_lock_days': 0, 'role_name': '你转身向北ir', 'role_level': 109, 'role_school': 20, 'role_icon': 220, 'user_num': '43575726', 'hp_max': 2180, 'mp_max': 691, 'att_all': 2588, 'def_all': 400, 'spe_all': 117, 'mag_all': 120, 'damage_all': 1739, 'mag_dam_all': 657, 'mag_def_all': 594, 'dod_all': 151, 'cor_all': 142, 'str_all': 734, 'res_all': 131, 'dex_all': 218, 'up_exp': 33521555, 'sum_exp': 16, 'expt_ski1': 13, 'expt_ski2': 11, 'expt_ski3': 0, 'expt_ski4': 10, 'expt_ski5': 0, 'max_expt1': 20, 'max_expt2': 20, 'max_expt3': 20, 'max_expt4': 20, 'beast_ski1': 10, 'beast_ski2': 0, 'beast_ski3': 8, 'beast_ski4': 0, 'all_new_point': 3, 'skill_point': 14, 'attribute_point': 2, 'potential': 0, 'max_potential': 0, 'cash': 108157, 'saving': 0, 'learn_cash': 472820, 'zhuan_zhi': 0, 'three_fly_lv': 0, 'nine_fight_level': 0, 'goodness': 233, 'badness': 0, 'goodness_sav': 784, 'role_title': '' ... 2 parameters truncated ... 'org_position': '', 'marry_id': '0', 'marry2_id': '0', 'marry_name': '', 'community_name': '0', 'community_gid': '0', 'achievement_total': 915, 'hero_score': 164, 'datang_feat': 1460, 'sword_score': 0, 'dup_score': 57, 'shenqi_score': 251, 'qicai_score': 0, 'xianyu_score': 1300, 'nuts_num': 65, 'cg_total_amount': 0, 'cg_body_amount': 0, 'cg_box_amount': 0, 'xianyu_amount': 110, 'energy_amount': 123, 'jiyuan_amount': 0, 'add_point': 3, 'packet_page': 0, 'rent_level': 0, 'outdoor_level': 0, 'farm_level': 0, 'house_real_owner': 0, 'pride': 792, 'bid_status': 0, 'ori_race': 2, 'current_race': 2, 'sum_amount': 8, 'version_code': '20250226', 'pet': '[]', 'all_skills_json': '{"201": 129, "40202": 1, "144": 119, "202": 82, "142": 100, "154": 6, "52040": 1, "141": 119, "211": 12, "208": 30, "197": 1, "196": 1, "40201": 1, " ... (130 characters truncated) ... 73": 1, "143": 119, "52052": 1, "39007": 1, "212": 10, "40204": 1, "52046": 1, "216": 45, "39006": 1, "52050": 1, "52032": 1, "52031": 1, "39002": 1}', 'all_equip_json': '{"6": {"equip_sn": "8mI004QOTEN", "cDesc": "#r等级 100  五行 木#r伤害 +380 命中 +518#r耐久度 323  修理失败 1次#r锻炼等级 4  镶嵌宝石 红玛瑙#Y#r#W制造者：凌凌漆．强化打造#Y#r#c4DBAF4铸斧原始造型：昆 ... (142 characters truncated) ... 久度 380#r锻炼等级 4  镶嵌宝石 太阳石#r#G#G耐力 +14#Y #G体质 +19#Y#Y#r#W制造者：某铁匠－强化打造#Y#r#c4DBAF4铸斧原始造型：玉辉  ", "iType": 31552, "obj_level": 100, "can_split_agent": 1}}', 'all_summon_json': '[{"fin_jinjie": 0, "ori_type": 2085, "summon_equip4_desc": "", "iRes_all": 43, "iRealColor": 0, "iAtt_all": 206, "avt_list": [], "iStr_all": 58, "iAt ... (2142 characters truncated) ...  "carrygradezz": 0, "dod": 1254, "att": 1070, "mp": 2320, "iCor_all": 17, "MS_MAX": 1800, "jinjie_type": 2188, "sjg": 0, "def": 1296, "lianshou": 0}]', 'child_json': '{}', 'child2_json': '{}', 'all_rider_json': '{"1": {"all_skills": {}, "iType": 507, "exgrow": 12720, "ExtraGrow": 0, "iGrade": 125, "mattrib": "力量"}, "4": {"all_skills": {}, "iType": 506, "exgro ... (9 characters truncated) ... , "ExtraGrow": 0, "iGrade": 48, "mattrib": "体质"}, "5": {"all_skills": {}, "iType": 501, "exgrow": 10817, "ExtraGrow": 0, "iGrade": 0, "mattrib": ""}}', 'ex_avt_json': '{"1": {"wear_pos": 3, "iType": 45847, "effect_pos": [0, 0, 4, 0, 0, 0, 0], "cName": "雨中漫步", "order": 4, "extra_info": 1}, "2": {"wear_pos": 6, "iType ... (188 characters truncated) ... rder": 1, "extra_info": 1}, "4": {"wear_pos": 5, "iType": 14406, "effect_pos": [0, 0, 0, 0, 16, 0, 0], "cName": "糖果武器", "order": 3, "extra_info": 1}}', 'huge_horse_json': '{"767": {"iSkillLevel": 1, "iType": 11782, "cName": "软萌海兔", "Color_Str": "", "nosale": 0, "order": 1, "iSkill": 623}}', 'fabao_json': '{"11": {"cDesc": "0#Y灵气：#G50 #Y 五行：#G金#Y#r修炼境界：第#G0#Y层 #c7D7E82心法初成#Y#r#Y镇妖属性：+20点物理伤害#G（仅镇妖除噩生效）#Y", "fumo_type": 0, "iType": 6128}, "12": {"cDesc": "0#W【回合限制】8#r#Y#Y灵气：#G50 #Y 五行：#G水#Y#r修炼境界：第#G0#Y层 #c7D7E82心法初成#Y#r#n#Y最佳五行属性奖励：额外提升1%的抗封印类法术能力#c7D7E82（未生效）#Y", "fumo_type": 0, "iType": 6130}}', 'lingbao_json': '{}', 'shenqi_json': '{"skill": 53201, "full": 0, "power": 250, "suit": [{"max_use_count": 125, "curr_illusion": 0, "my_use_count": 0, "components": [{"unlock": 1, "wuxing ... (2149 characters truncated) ... ": 0}], "active": 1, "my_fu_count": 0, "skill_desc": "每当令目标浮空时，你获得12点狂暴等级并且造成的物理伤害结果提高1%，最多叠加6层，阵亡后清零。", "skill_level": 1, "illusion": 0, "id": 6236}', 'idbid_desc_json': '[]', 'changesch_json': '[]', 'prop_kept_json': '{}', 'more_attr_json': '{"attrs": [{"lv": 0, "idx": 6}, {"lv": 0, "idx": 15}, {"lv": 0, "idx": 3}, {"lv": 0, "idx": 8}, {"lv": 0, "idx": 1}, {"lv": 11, "idx": 12}, {"lv": 0, ... (85 characters truncated) ...  "idx": 4}, {"lv": 0, "idx": 11}, {"lv": 16, "idx": 10}, {"lv": 151, "idx": 13}, {"lv": 540, "idx": 14}, {"lv": 0, "idx": 16}, {"lv": 0, "idx": 17}]}', 'update_time': '2025-09-15 16:42:28'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-15 16:42:49,469 - INFO - 角色 202508091700113-132-CLMAE1PSWAFU 价格从 145700.0 变更为 141200，已记录到价格历史
2025-09-15 16:43:27,153 - ERROR - 插入数据到表 large_equip_desc_data 失败: (pymysql.err.IntegrityError) (1452, 'Cannot add or update a child row: a foreign key constraint fails (`cbg_spider`.`large_equip_desc_data`, CONSTRAINT `large_equip_desc_data_ibfk_1` FOREIGN KEY (`eid`) REFERENCES `roles` (`eid`))')
[SQL: 
                INSERT INTO large_equip_desc_data (time_lock_days, role_name, role_level, role_school, role_icon, user_num, hp_max, mp_max, att_all, def_all, spe_all, mag_all, damage_all, mag_dam_all, mag_def_all, dod_all, cor_all, str_all, res_all, dex_all, up_exp, sum_exp, expt_ski1, expt_ski2, expt_ski3, expt_ski4, expt_ski5, max_expt1, max_expt2, max_expt3, max_expt4, beast_ski1, beast_ski2, beast_ski3, beast_ski4, all_new_point, skill_point, attribute_point, potential, max_potential, cash, saving, learn_cash, zhuan_zhi, three_fly_lv, nine_fight_level, goodness, badness, goodness_sav, role_title, org_name, org_offer, org_position, marry_id, marry2_id, marry_name, community_name, community_gid, achievement_total, hero_score, datang_feat, sword_score, dup_score, shenqi_score, qicai_score, xianyu_score, nuts_num, cg_total_amount, cg_body_amount, cg_box_amount, xianyu_amount, energy_amount, jiyuan_amount, add_point, packet_page, rent_level, outdoor_level, farm_level, house_real_owner, pride, bid_status, ori_race, current_race, sum_amount, version_code, pet, all_skills_json, all_equip_json, all_summon_json, child_json, child2_json, all_rider_json, ex_avt_json, huge_horse_json, fabao_json, lingbao_json, shenqi_json, idbid_desc_json, changesch_json, prop_kept_json, more_attr_json, update_time) 
                VALUES (%(time_lock_days)s, %(role_name)s, %(role_level)s, %(role_school)s, %(role_icon)s, %(user_num)s, %(hp_max)s, %(mp_max)s, %(att_all)s, %(def_all)s, %(spe_all)s, %(mag_all)s, %(damage_all)s, %(mag_dam_all)s, %(mag_def_all)s, %(dod_all)s, %(cor_all)s, %(str_all)s, %(res_all)s, %(dex_all)s, %(up_exp)s, %(sum_exp)s, %(expt_ski1)s, %(expt_ski2)s, %(expt_ski3)s, %(expt_ski4)s, %(expt_ski5)s, %(max_expt1)s, %(max_expt2)s, %(max_expt3)s, %(max_expt4)s, %(beast_ski1)s, %(beast_ski2)s, %(beast_ski3)s, %(beast_ski4)s, %(all_new_point)s, %(skill_point)s, %(attribute_point)s, %(potential)s, %(max_potential)s, %(cash)s, %(saving)s, %(learn_cash)s, %(zhuan_zhi)s, %(three_fly_lv)s, %(nine_fight_level)s, %(goodness)s, %(badness)s, %(goodness_sav)s, %(role_title)s, %(org_name)s, %(org_offer)s, %(org_position)s, %(marry_id)s, %(marry2_id)s, %(marry_name)s, %(community_name)s, %(community_gid)s, %(achievement_total)s, %(hero_score)s, %(datang_feat)s, %(sword_score)s, %(dup_score)s, %(shenqi_score)s, %(qicai_score)s, %(xianyu_score)s, %(nuts_num)s, %(cg_total_amount)s, %(cg_body_amount)s, %(cg_box_amount)s, %(xianyu_amount)s, %(energy_amount)s, %(jiyuan_amount)s, %(add_point)s, %(packet_page)s, %(rent_level)s, %(outdoor_level)s, %(farm_level)s, %(house_real_owner)s, %(pride)s, %(bid_status)s, %(ori_race)s, %(current_race)s, %(sum_amount)s, %(version_code)s, %(pet)s, %(all_skills_json)s, %(all_equip_json)s, %(all_summon_json)s, %(child_json)s, %(child2_json)s, %(all_rider_json)s, %(ex_avt_json)s, %(huge_horse_json)s, %(fabao_json)s, %(lingbao_json)s, %(shenqi_json)s, %(idbid_desc_json)s, %(changesch_json)s, %(prop_kept_json)s, %(more_attr_json)s, %(update_time)s)
                ON DUPLICATE KEY UPDATE time_lock_days = VALUES(time_lock_days), role_name = VALUES(role_name), role_level = VALUES(role_level), role_school = VALUES(role_school), role_icon = VALUES(role_icon), user_num = VALUES(user_num), hp_max = VALUES(hp_max), mp_max = VALUES(mp_max), att_all = VALUES(att_all), def_all = VALUES(def_all), spe_all = VALUES(spe_all), mag_all = VALUES(mag_all), damage_all = VALUES(damage_all), mag_dam_all = VALUES(mag_dam_all), mag_def_all = VALUES(mag_def_all), dod_all = VALUES(dod_all), cor_all = VALUES(cor_all), str_all = VALUES(str_all), res_all = VALUES(res_all), dex_all = VALUES(dex_all), up_exp = VALUES(up_exp), sum_exp = VALUES(sum_exp), expt_ski1 = VALUES(expt_ski1), expt_ski2 = VALUES(expt_ski2), expt_ski3 = VALUES(expt_ski3), expt_ski4 = VALUES(expt_ski4), expt_ski5 = VALUES(expt_ski5), max_expt1 = VALUES(max_expt1), max_expt2 = VALUES(max_expt2), max_expt3 = VALUES(max_expt3), max_expt4 = VALUES(max_expt4), beast_ski1 = VALUES(beast_ski1), beast_ski2 = VALUES(beast_ski2), beast_ski3 = VALUES(beast_ski3), beast_ski4 = VALUES(beast_ski4), all_new_point = VALUES(all_new_point), skill_point = VALUES(skill_point), attribute_point = VALUES(attribute_point), potential = VALUES(potential), max_potential = VALUES(max_potential), cash = VALUES(cash), saving = VALUES(saving), learn_cash = VALUES(learn_cash), zhuan_zhi = VALUES(zhuan_zhi), three_fly_lv = VALUES(three_fly_lv), nine_fight_level = VALUES(nine_fight_level), goodness = VALUES(goodness), badness = VALUES(badness), goodness_sav = VALUES(goodness_sav), role_title = VALUES(role_title), org_name = VALUES(org_name), org_offer = VALUES(org_offer), org_position = VALUES(org_position), marry_id = VALUES(marry_id), marry2_id = VALUES(marry2_id), marry_name = VALUES(marry_name), community_name = VALUES(community_name), community_gid = VALUES(community_gid), achievement_total = VALUES(achievement_total), hero_score = VALUES(hero_score), datang_feat = VALUES(datang_feat), sword_score = VALUES(sword_score), dup_score = VALUES(dup_score), shenqi_score = VALUES(shenqi_score), qicai_score = VALUES(qicai_score), xianyu_score = VALUES(xianyu_score), nuts_num = VALUES(nuts_num), cg_total_amount = VALUES(cg_total_amount), cg_body_amount = VALUES(cg_body_amount), cg_box_amount = VALUES(cg_box_amount), xianyu_amount = VALUES(xianyu_amount), energy_amount = VALUES(energy_amount), jiyuan_amount = VALUES(jiyuan_amount), add_point = VALUES(add_point), packet_page = VALUES(packet_page), rent_level = VALUES(rent_level), outdoor_level = VALUES(outdoor_level), farm_level = VALUES(farm_level), house_real_owner = VALUES(house_real_owner), pride = VALUES(pride), bid_status = VALUES(bid_status), ori_race = VALUES(ori_race), current_race = VALUES(current_race), sum_amount = VALUES(sum_amount), version_code = VALUES(version_code), pet = VALUES(pet), all_skills_json = VALUES(all_skills_json), all_equip_json = VALUES(all_equip_json), all_summon_json = VALUES(all_summon_json), child_json = VALUES(child_json), child2_json = VALUES(child2_json), all_rider_json = VALUES(all_rider_json), ex_avt_json = VALUES(ex_avt_json), huge_horse_json = VALUES(huge_horse_json), fabao_json = VALUES(fabao_json), lingbao_json = VALUES(lingbao_json), shenqi_json = VALUES(shenqi_json), idbid_desc_json = VALUES(idbid_desc_json), changesch_json = VALUES(changesch_json), prop_kept_json = VALUES(prop_kept_json), more_attr_json = VALUES(more_attr_json), update_time = VALUES(update_time)
                ]
[parameters: {'time_lock_days': 0, 'role_name': '红城ぃ', 'role_level': 129, 'role_school': 20, 'role_icon': 220, 'user_num': '43543560', 'hp_max': 2413, 'mp_max': 722, 'att_all': 2261, 'def_all': 410, 'spe_all': 140, 'mag_all': 140, 'damage_all': 1241, 'mag_dam_all': 618, 'mag_def_all': 618, 'dod_all': 157, 'cor_all': 142, 'str_all': 826, 'res_all': 138, 'dex_all': 230, 'up_exp': 503110856, 'sum_exp': 20, 'expt_ski1': 20, 'expt_ski2': 9, 'expt_ski3': 0, 'expt_ski4': 9, 'expt_ski5': 0, 'max_expt1': 20, 'max_expt2': 20, 'max_expt3': 20, 'max_expt4': 20, 'beast_ski1': 3, 'beast_ski2': 0, 'beast_ski3': 10, 'beast_ski4': 0, 'all_new_point': 3, 'skill_point': 8, 'attribute_point': 0, 'potential': 0, 'max_potential': 0, 'cash': 0, 'saving': 0, 'learn_cash': 11320868, 'zhuan_zhi': 0, 'three_fly_lv': 0, 'nine_fight_level': 0, 'goodness': 430, 'badness': 0, 'goodness_sav': 4390, 'role_title': '' ... 2 parameters truncated ... 'org_position': '', 'marry_id': '0', 'marry2_id': '0', 'marry_name': '', 'community_name': '', 'community_gid': '0', 'achievement_total': 741, 'hero_score': 102, 'datang_feat': 5791, 'sword_score': 0, 'dup_score': 240, 'shenqi_score': 36, 'qicai_score': 0, 'xianyu_score': 1400, 'nuts_num': 35, 'cg_total_amount': 0, 'cg_body_amount': 0, 'cg_box_amount': 0, 'xianyu_amount': 317, 'energy_amount': 157, 'jiyuan_amount': 0, 'add_point': 6, 'packet_page': 0, 'rent_level': 3, 'outdoor_level': 1, 'farm_level': 0, 'house_real_owner': 0, 'pride': 800, 'bid_status': 0, 'ori_race': 2, 'current_race': 2, 'sum_amount': 7, 'version_code': '20250226', 'pet': '[]', 'all_skills_json': '{"144": 119, "173": 1, "154": 5, "197": 1, "52031": 1, "40201": 1, "199": 1, "39006": 1, "237": 15, "145": 89, "216": 40, "201": 119, "157": 5, "142" ... (125 characters truncated) ...  1, "39002": 1, "179": 1, "141": 139, "40203": 1, "230": 10, "52032": 1, "146": 26, "208": 20, "211": 5, "40204": 1, "40202": 1, "202": 68, "198": 1}', 'all_equip_json': '{}', 'all_summon_json': '[]', 'child_json': '{}', 'child2_json': '{}', 'all_rider_json': '{"1": {"mattrib": "力量", "exgrow": 20149, "iType": 506, "all_skills": {"611": 2}, "ExtraGrow": 70, "iGrade": 142}}', 'ex_avt_json': '{"12": {"order": 4, "effect_pos": [0, 0, 0, 0, 0, 0, 64], "iType": 21901, "wear_pos": 7, "cName": "相思渡情", "extra_info": 0}, "11": {"order": 5, "effec ... (1166 characters truncated) ... : "糖果武器", "extra_info": 1}, "4": {"order": 7, "effect_pos": [0, 0, 0, 0, 0, 32, 0], "iType": 49122, "wear_pos": 6, "cName": "爱由心生", "extra_info": 0}}', 'huge_horse_json': '{"767": {"order": 2, "iSkill": 0, "iType": 11782, "nosale": 0, "Color_Str": "", "iSkillLevel": 0, "cName": "软萌海兔"}, "438": {"order": 1, "iSkill": 622, "iType": 11421, "nosale": 0, "Color_Str": "", "iSkillLevel": 1, "cName": "玲珑雪狐"}}', 'fabao_json': '{"12": {"fumo_type": 0, "cDesc": "0#W【回合限制】3#r#Y#Y灵气：#G50 #Y 五行：#G金#Y#r修炼境界：第#G0#Y层 #c7D7E82心法初成#Y", "iType": 6014}, "11": {"fumo_type": 0, "cDesc": "0【专用】修炼境界：第#G0#Y层", "iType": 6116}}', 'lingbao_json': '{}', 'shenqi_json': '{"my_fu_count": 0, "active": 1, "id": 6236, "full": 0, "skill_level": 1, "suit": [{"max_use_count": 125, "my_use_count": 0, "curr_illusion": 0, "comp ... (2135 characters truncated) ... d": 4, "disable": 1}], "illusion": 0}], "skill_desc": "每当令目标浮空时，你获得12点狂暴等级并且造成的物理伤害结果提高1%，最多叠加6层，阵亡后清零。", "skill": 53201, "illusion": 0, "power": 60}', 'idbid_desc_json': '[]', 'changesch_json': '[]', 'prop_kept_json': '{}', 'more_attr_json': '{"attrs": [{"lv": 0, "idx": 11}, {"lv": 0, "idx": 10}, {"lv": 0, "idx": 1}, {"lv": 0, "idx": 3}, {"lv": 0, "idx": 9}, {"lv": 0, "idx": 4}, {"lv": 0,  ... (82 characters truncated) ... 0, "idx": 8}, {"lv": 0, "idx": 5}, {"lv": 0, "idx": 15}, {"lv": 157, "idx": 13}, {"lv": 618, "idx": 14}, {"lv": 0, "idx": 16}, {"lv": 0, "idx": 17}]}', 'update_time': '2025-09-15 16:43:09'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-15 16:43:47,325 - WARNING - 角色 202508211600113-132-FKN1SPPTRJRH 不存在，跳过详细装备数据保存
2025-09-15 16:44:09,955 - WARNING - 角色 202505051200113-132-FGA9LCQUYXZW 不存在，跳过详细装备数据保存
2025-09-15 16:44:31,869 - WARNING - 角色 202507292100113-132-DDTGSIQM0SDD 不存在，跳过详细装备数据保存
2025-09-15 16:44:54,652 - WARNING - 角色 202505021700113-132-ZU4ZMIHDL2E3 不存在，跳过详细装备数据保存
2025-09-15 16:45:14,876 - WARNING - 角色 202505021700113-132-NQMVD2DZFTZI 不存在，跳过详细装备数据保存
2025-09-15 16:45:36,278 - WARNING - 角色 202506151000113-132-ISTAOBJ2YVIF 不存在，跳过详细装备数据保存
2025-09-15 16:45:36,688 - INFO - 角色 202507061100113-132-KHETLOP7FV7I 价格从 150010.0 变更为 132010，已记录到价格历史
2025-09-15 16:46:19,798 - ERROR - 插入数据到表 large_equip_desc_data 失败: (pymysql.err.IntegrityError) (1452, 'Cannot add or update a child row: a foreign key constraint fails (`cbg_spider`.`large_equip_desc_data`, CONSTRAINT `large_equip_desc_data_ibfk_1` FOREIGN KEY (`eid`) REFERENCES `roles` (`eid`))')
[SQL: 
                INSERT INTO large_equip_desc_data (time_lock_days, role_name, role_level, role_school, role_icon, user_num, hp_max, mp_max, att_all, def_all, spe_all, mag_all, damage_all, mag_dam_all, mag_def_all, dod_all, cor_all, str_all, res_all, dex_all, up_exp, sum_exp, expt_ski1, expt_ski2, expt_ski3, expt_ski4, expt_ski5, max_expt1, max_expt2, max_expt3, max_expt4, beast_ski1, beast_ski2, beast_ski3, beast_ski4, all_new_point, skill_point, attribute_point, potential, max_potential, cash, saving, learn_cash, zhuan_zhi, three_fly_lv, nine_fight_level, goodness, badness, goodness_sav, role_title, org_name, org_offer, org_position, marry_id, marry2_id, marry_name, community_name, community_gid, achievement_total, hero_score, datang_feat, sword_score, dup_score, shenqi_score, qicai_score, xianyu_score, nuts_num, cg_total_amount, cg_body_amount, cg_box_amount, xianyu_amount, energy_amount, jiyuan_amount, add_point, packet_page, rent_level, outdoor_level, farm_level, house_real_owner, pride, bid_status, ori_race, current_race, sum_amount, version_code, pet, all_skills_json, all_equip_json, all_summon_json, child_json, child2_json, all_rider_json, ex_avt_json, huge_horse_json, fabao_json, lingbao_json, shenqi_json, idbid_desc_json, changesch_json, prop_kept_json, more_attr_json, update_time) 
                VALUES (%(time_lock_days)s, %(role_name)s, %(role_level)s, %(role_school)s, %(role_icon)s, %(user_num)s, %(hp_max)s, %(mp_max)s, %(att_all)s, %(def_all)s, %(spe_all)s, %(mag_all)s, %(damage_all)s, %(mag_dam_all)s, %(mag_def_all)s, %(dod_all)s, %(cor_all)s, %(str_all)s, %(res_all)s, %(dex_all)s, %(up_exp)s, %(sum_exp)s, %(expt_ski1)s, %(expt_ski2)s, %(expt_ski3)s, %(expt_ski4)s, %(expt_ski5)s, %(max_expt1)s, %(max_expt2)s, %(max_expt3)s, %(max_expt4)s, %(beast_ski1)s, %(beast_ski2)s, %(beast_ski3)s, %(beast_ski4)s, %(all_new_point)s, %(skill_point)s, %(attribute_point)s, %(potential)s, %(max_potential)s, %(cash)s, %(saving)s, %(learn_cash)s, %(zhuan_zhi)s, %(three_fly_lv)s, %(nine_fight_level)s, %(goodness)s, %(badness)s, %(goodness_sav)s, %(role_title)s, %(org_name)s, %(org_offer)s, %(org_position)s, %(marry_id)s, %(marry2_id)s, %(marry_name)s, %(community_name)s, %(community_gid)s, %(achievement_total)s, %(hero_score)s, %(datang_feat)s, %(sword_score)s, %(dup_score)s, %(shenqi_score)s, %(qicai_score)s, %(xianyu_score)s, %(nuts_num)s, %(cg_total_amount)s, %(cg_body_amount)s, %(cg_box_amount)s, %(xianyu_amount)s, %(energy_amount)s, %(jiyuan_amount)s, %(add_point)s, %(packet_page)s, %(rent_level)s, %(outdoor_level)s, %(farm_level)s, %(house_real_owner)s, %(pride)s, %(bid_status)s, %(ori_race)s, %(current_race)s, %(sum_amount)s, %(version_code)s, %(pet)s, %(all_skills_json)s, %(all_equip_json)s, %(all_summon_json)s, %(child_json)s, %(child2_json)s, %(all_rider_json)s, %(ex_avt_json)s, %(huge_horse_json)s, %(fabao_json)s, %(lingbao_json)s, %(shenqi_json)s, %(idbid_desc_json)s, %(changesch_json)s, %(prop_kept_json)s, %(more_attr_json)s, %(update_time)s)
                ON DUPLICATE KEY UPDATE time_lock_days = VALUES(time_lock_days), role_name = VALUES(role_name), role_level = VALUES(role_level), role_school = VALUES(role_school), role_icon = VALUES(role_icon), user_num = VALUES(user_num), hp_max = VALUES(hp_max), mp_max = VALUES(mp_max), att_all = VALUES(att_all), def_all = VALUES(def_all), spe_all = VALUES(spe_all), mag_all = VALUES(mag_all), damage_all = VALUES(damage_all), mag_dam_all = VALUES(mag_dam_all), mag_def_all = VALUES(mag_def_all), dod_all = VALUES(dod_all), cor_all = VALUES(cor_all), str_all = VALUES(str_all), res_all = VALUES(res_all), dex_all = VALUES(dex_all), up_exp = VALUES(up_exp), sum_exp = VALUES(sum_exp), expt_ski1 = VALUES(expt_ski1), expt_ski2 = VALUES(expt_ski2), expt_ski3 = VALUES(expt_ski3), expt_ski4 = VALUES(expt_ski4), expt_ski5 = VALUES(expt_ski5), max_expt1 = VALUES(max_expt1), max_expt2 = VALUES(max_expt2), max_expt3 = VALUES(max_expt3), max_expt4 = VALUES(max_expt4), beast_ski1 = VALUES(beast_ski1), beast_ski2 = VALUES(beast_ski2), beast_ski3 = VALUES(beast_ski3), beast_ski4 = VALUES(beast_ski4), all_new_point = VALUES(all_new_point), skill_point = VALUES(skill_point), attribute_point = VALUES(attribute_point), potential = VALUES(potential), max_potential = VALUES(max_potential), cash = VALUES(cash), saving = VALUES(saving), learn_cash = VALUES(learn_cash), zhuan_zhi = VALUES(zhuan_zhi), three_fly_lv = VALUES(three_fly_lv), nine_fight_level = VALUES(nine_fight_level), goodness = VALUES(goodness), badness = VALUES(badness), goodness_sav = VALUES(goodness_sav), role_title = VALUES(role_title), org_name = VALUES(org_name), org_offer = VALUES(org_offer), org_position = VALUES(org_position), marry_id = VALUES(marry_id), marry2_id = VALUES(marry2_id), marry_name = VALUES(marry_name), community_name = VALUES(community_name), community_gid = VALUES(community_gid), achievement_total = VALUES(achievement_total), hero_score = VALUES(hero_score), datang_feat = VALUES(datang_feat), sword_score = VALUES(sword_score), dup_score = VALUES(dup_score), shenqi_score = VALUES(shenqi_score), qicai_score = VALUES(qicai_score), xianyu_score = VALUES(xianyu_score), nuts_num = VALUES(nuts_num), cg_total_amount = VALUES(cg_total_amount), cg_body_amount = VALUES(cg_body_amount), cg_box_amount = VALUES(cg_box_amount), xianyu_amount = VALUES(xianyu_amount), energy_amount = VALUES(energy_amount), jiyuan_amount = VALUES(jiyuan_amount), add_point = VALUES(add_point), packet_page = VALUES(packet_page), rent_level = VALUES(rent_level), outdoor_level = VALUES(outdoor_level), farm_level = VALUES(farm_level), house_real_owner = VALUES(house_real_owner), pride = VALUES(pride), bid_status = VALUES(bid_status), ori_race = VALUES(ori_race), current_race = VALUES(current_race), sum_amount = VALUES(sum_amount), version_code = VALUES(version_code), pet = VALUES(pet), all_skills_json = VALUES(all_skills_json), all_equip_json = VALUES(all_equip_json), all_summon_json = VALUES(all_summon_json), child_json = VALUES(child_json), child2_json = VALUES(child2_json), all_rider_json = VALUES(all_rider_json), ex_avt_json = VALUES(ex_avt_json), huge_horse_json = VALUES(huge_horse_json), fabao_json = VALUES(fabao_json), lingbao_json = VALUES(lingbao_json), shenqi_json = VALUES(shenqi_json), idbid_desc_json = VALUES(idbid_desc_json), changesch_json = VALUES(changesch_json), prop_kept_json = VALUES(prop_kept_json), more_attr_json = VALUES(more_attr_json), update_time = VALUES(update_time)
                ]
[parameters: {'time_lock_days': 0, 'role_name': '好胜心很强', 'role_level': 129, 'role_school': 20, 'role_icon': 220, 'user_num': '43537380', 'hp_max': 1952, 'mp_max': 645, 'att_all': 2159, 'def_all': 362, 'spe_all': 143, 'mag_all': 140, 'damage_all': 1170, 'mag_dam_all': 565, 'mag_def_all': 565, 'dod_all': 169, 'cor_all': 141, 'str_all': 811, 'res_all': 137, 'dex_all': 210, 'up_exp': 291935145, 'sum_exp': 12, 'expt_ski1': 17, 'expt_ski2': 17, 'expt_ski3': 2, 'expt_ski4': 17, 'expt_ski5': 0, 'max_expt1': 20, 'max_expt2': 20, 'max_expt3': 20, 'max_expt4': 20, 'beast_ski1': 9, 'beast_ski2': 0, 'beast_ski3': 4, 'beast_ski4': 0, 'all_new_point': 2, 'skill_point': 2, 'attribute_point': 0, 'potential': 0, 'max_potential': 0, 'cash': 207831, 'saving': 0, 'learn_cash': 715938, 'zhuan_zhi': 0, 'three_fly_lv': 0, 'nine_fight_level': 0, 'goodness': 988, 'badness': 0, 'goodness_sav': 4330, 'role_title': '' ... 2 parameters truncated ... 'org_position': '', 'marry_id': '0', 'marry2_id': '0', 'marry_name': '', 'community_name': '0', 'community_gid': '0', 'achievement_total': 674, 'hero_score': 0, 'datang_feat': 3636, 'sword_score': 0, 'dup_score': 22, 'shenqi_score': 82, 'qicai_score': 0, 'xianyu_score': 100, 'nuts_num': 21, 'cg_total_amount': 0, 'cg_body_amount': 0, 'cg_box_amount': 0, 'xianyu_amount': 401, 'energy_amount': 0, 'jiyuan_amount': 0, 'add_point': 6, 'packet_page': 0, 'rent_level': 0, 'outdoor_level': 0, 'farm_level': 0, 'house_real_owner': 0, 'pride': 800, 'bid_status': 0, 'ori_race': 2, 'current_race': 2, 'sum_amount': 7, 'version_code': '20250226', 'pet': '[]', 'all_skills_json': '{"146": 55, "40203": 1, "144": 101, "145": 110, "212": 7, "198": 1, "140": 131, "211": 10, "208": 26, "197": 1, "196": 1, "40201": 1, "52016": 1, "20 ... (138 characters truncated) ... "173": 1, "143": 120, "141": 130, "40204": 1, "52046": 1, "52050": 1, "52032": 1, "52031": 1, "39002": 1, "160": 3, "199": 1, "52039": 1, "52038": 1}', 'all_equip_json': '{}', 'all_summon_json': '[]', 'child_json': '{}', 'child2_json': '{}', 'all_rider_json': '{"1": {"all_skills": {"600": 1, "611": 1}, "iType": 506, "exgrow": 13069, "ExtraGrow": 0, "iGrade": 81, "mattrib": "力量"}}', 'ex_avt_json': '{"1": {"wear_pos": 3, "iType": 45970, "effect_pos": [0, 0, 4, 0, 0, 0, 0], "cName": "齐天小圣", "order": 1, "extra_info": 0}, "2": {"wear_pos": 1, "iType ... (429 characters truncated) ... rder": 4, "extra_info": 1}, "6": {"wear_pos": 5, "iType": 14404, "effect_pos": [0, 0, 0, 0, 16, 0, 0], "cName": "蓝色妖姬", "order": 3, "extra_info": 1}}', 'huge_horse_json': '{"439": {"iSkillLevel": 0, "iType": 11422, "cName": "玲珑雪狐", "Color_Str": "", "nosale": 0, "order": 1, "iSkill": 0}}', 'fabao_json': '{"11": {"cDesc": "0#W【回合限制】8#r#Y#Y灵气：#G45 #Y 五行：#G水#Y#r修炼境界：第#G8#Y层 #cF8A772随心所欲#Y#r#n#Y最佳五行属性奖励：额外提升1%的抗封印类法术能力#c7D7E82（未生效）#Y", "fumo_type": 0, "iType": 6130}}', 'lingbao_json': '{"1": {"cDesc": "灵气：4 修炼境界：第1层 黯淡无光", "iType": 7532}}', 'shenqi_json': '{"skill": 53201, "full": 0, "power": 90, "skill_level": 1, "active": 1, "my_fu_count": 0, "skill_desc": "每当令目标浮空时，你获得12点狂暴等级并且造成的物理伤害结果提高1%，最多叠加6层，阵亡 ... (2150 characters truncated) ... "id": 16}, {"new_attr": "抵抗封印 +0", "disable": 0, "new_id": 4, "attr": "抵抗封印 +6", "id": 4}], "actived": 1, "illusion": 0}], "illusion": 0, "id": 6236}', 'idbid_desc_json': '[]', 'changesch_json': '[]', 'prop_kept_json': '{}', 'more_attr_json': '{"attrs": [{"lv": 0, "idx": 12}, {"lv": 0, "idx": 1}, {"lv": 0, "idx": 7}, {"lv": 0, "idx": 9}, {"lv": 0, "idx": 6}, {"lv": 0, "idx": 4}, {"lv": 0, " ... (82 characters truncated) ... , "idx": 15}, {"lv": 0, "idx": 11}, {"lv": 0, "idx": 3}, {"lv": 169, "idx": 13}, {"lv": 565, "idx": 14}, {"lv": 0, "idx": 16}, {"lv": 0, "idx": 17}]}', 'update_time': '2025-09-15 16:45:59'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-15 16:46:48,314 - WARNING - 角色 202503031000113-132-F1YFTNI5RG4N 不存在，跳过详细装备数据保存
2025-09-15 16:47:10,357 - WARNING - 角色 202508191400113-132-FON93FOJRIW7 不存在，跳过详细装备数据保存
2025-09-15 16:47:10,357 - INFO - 角色数据已保存: 15 条
2025-09-15 16:47:10,357 - INFO - 响应数据已保存: role - 15 条记录
2025-09-15 16:47:10,358 - INFO - 检测到已登录状态，当前URL: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-15 16:47:10,359 - INFO - 登录状态检查: {'isLoggedIn': True, 'currentUrl': 'https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1', 'message': '已登录'}
2025-09-15 16:47:10,359 - INFO - 检测到已登录状态，更新Cookie...
2025-09-15 16:47:10,477 - INFO - Cookie已更新并保存到 c:\Users\Administrator\Desktop\mh\config\cookies.txt
2025-09-15 16:47:10,478 - INFO - 数据收集已开始，请在浏览器中正常操作...
2025-09-15 16:47:10,478 - INFO - 所有对 recommend.py 的请求将被自动捕获和保存
2025-09-15 16:47:10,491 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1757925625042&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=2&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-15 16:47:10,493 - INFO - 开始保存角色数据，数量: 15
2025-09-15 16:47:10,494 - INFO - 检查角色数据库...
2025-09-15 16:47:10,494 - INFO - 检查数据库类型: role
2025-09-15 16:47:10,494 - INFO - 数据库路径: c:\Users\Administrator\Desktop\mh\data\202509\cbg_roles_202509.db
2025-09-15 16:47:10,494 - INFO - 数据库文件是否存在: True
2025-09-15 16:47:10,494 - INFO - 获取角色spider实例...
2025-09-15 16:47:10,495 - INFO - 调用角色spider的save_role_data方法...
2025-09-15 16:47:38,493 - WARNING - 角色 202507021000113-132-ZQXFYDAIJWYQ 不存在，跳过详细装备数据保存
2025-09-15 16:48:08,087 - WARNING - 角色 202509011500113-132-LFDNLUNDG4RZ 不存在，跳过详细装备数据保存
2025-09-15 16:50:27,119 - INFO - Spider实例将在需要时延迟创建
2025-09-15 16:50:28,751 - INFO - 成功加载 45 个Cookie
2025-09-15 16:50:28,799 - INFO - 已注入 45 个Cookie到浏览器上下文
2025-09-15 16:50:29,151 - INFO - Playwright浏览器设置完成
2025-09-15 16:50:29,174 - INFO - Playwright网络监听已设置
2025-09-15 16:50:29,175 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-15 16:50:32,899 - INFO - 页面初始加载完成
2025-09-15 16:50:34,880 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1757926232893&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-15 16:50:34,881 - INFO - 开始创建角色spider实例...
2025-09-15 16:50:36,538 - INFO - 装备锚点估价器和特征提取器导入成功
2025-09-15 16:50:36,546 - INFO - 装备特征提取器初始化成功
2025-09-15 16:50:36,554 - INFO - 灵饰特征提取器初始化成功
2025-09-15 16:50:36,554 - INFO - 宠物装备特征提取器初始化成功
2025-09-15 16:50:36,694 - INFO - 装备锚点估价器初始化成功
2025-09-15 16:50:36,752 - INFO - 统一特征提取器初始化成功
2025-09-15 16:50:36,754 - INFO - 异常装备数据库初始化成功
2025-09-15 16:50:36,792 - INFO - 装备特征提取器初始化成功
2025-09-15 16:50:36,845 - INFO - 灵饰特征提取器初始化成功
2025-09-15 16:50:36,847 - INFO - 宠物装备特征提取器初始化成功
2025-09-15 16:50:36,953 - INFO - 装备锚点估价器初始化成功
2025-09-15 16:50:37,048 - INFO - 统一特征提取器初始化成功
2025-09-15 16:50:37,050 - INFO - 异常装备数据库初始化成功
2025-09-15 16:50:37,534 - INFO - 角色特征提取器初始化成功
2025-09-15 16:50:37,538 - INFO - 角色市场锚定估价器初始化成功
2025-09-15 16:50:37,548 - INFO - 宠物特征提取器初始化成功
2025-09-15 16:50:37,549 - INFO - 宠物锚点估价器初始化成功
2025-09-15 16:50:37,556 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-15 16:50:37,556 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-15 16:50:37,676 - INFO - 角色spider实例已创建
2025-09-15 16:50:37,679 - INFO - 开始保存角色数据，数量: 15
2025-09-15 16:50:37,680 - INFO - 检查角色数据库...
2025-09-15 16:50:37,680 - INFO - 检查数据库类型: role
2025-09-15 16:50:37,680 - INFO - 数据库路径: c:\Users\Administrator\Desktop\mh\data\202509\cbg_roles_202509.db
2025-09-15 16:50:37,680 - INFO - 数据库文件是否存在: True
2025-09-15 16:50:37,683 - INFO - 获取角色spider实例...
2025-09-15 16:50:37,683 - INFO - 调用角色spider的save_role_data方法...
2025-09-15 16:50:37,709 - INFO - 成功加载game_auto_config.js配置，包含132个配置项
2025-09-15 16:51:19,263 - ERROR - 插入数据到表 large_equip_desc_data 失败: (pymysql.err.IntegrityError) (1452, 'Cannot add or update a child row: a foreign key constraint fails (`cbg_spider`.`large_equip_desc_data`, CONSTRAINT `large_equip_desc_data_ibfk_1` FOREIGN KEY (`eid`) REFERENCES `roles` (`eid`))')
[SQL: 
                INSERT INTO large_equip_desc_data (time_lock_days, role_name, role_level, role_school, role_icon, user_num, hp_max, mp_max, att_all, def_all, spe_all, mag_all, damage_all, mag_dam_all, mag_def_all, dod_all, cor_all, str_all, res_all, dex_all, up_exp, sum_exp, expt_ski1, expt_ski2, expt_ski3, expt_ski4, expt_ski5, max_expt1, max_expt2, max_expt3, max_expt4, beast_ski1, beast_ski2, beast_ski3, beast_ski4, all_new_point, skill_point, attribute_point, potential, max_potential, cash, saving, learn_cash, zhuan_zhi, three_fly_lv, nine_fight_level, goodness, badness, goodness_sav, role_title, org_name, org_offer, org_position, marry_id, marry2_id, marry_name, community_name, community_gid, achievement_total, hero_score, datang_feat, sword_score, dup_score, shenqi_score, qicai_score, xianyu_score, nuts_num, cg_total_amount, cg_body_amount, cg_box_amount, xianyu_amount, energy_amount, jiyuan_amount, add_point, packet_page, rent_level, outdoor_level, farm_level, house_real_owner, pride, bid_status, ori_race, current_race, sum_amount, version_code, pet, all_skills_json, all_equip_json, all_summon_json, child_json, child2_json, all_rider_json, ex_avt_json, huge_horse_json, fabao_json, lingbao_json, shenqi_json, idbid_desc_json, changesch_json, prop_kept_json, more_attr_json, update_time) 
                VALUES (%(time_lock_days)s, %(role_name)s, %(role_level)s, %(role_school)s, %(role_icon)s, %(user_num)s, %(hp_max)s, %(mp_max)s, %(att_all)s, %(def_all)s, %(spe_all)s, %(mag_all)s, %(damage_all)s, %(mag_dam_all)s, %(mag_def_all)s, %(dod_all)s, %(cor_all)s, %(str_all)s, %(res_all)s, %(dex_all)s, %(up_exp)s, %(sum_exp)s, %(expt_ski1)s, %(expt_ski2)s, %(expt_ski3)s, %(expt_ski4)s, %(expt_ski5)s, %(max_expt1)s, %(max_expt2)s, %(max_expt3)s, %(max_expt4)s, %(beast_ski1)s, %(beast_ski2)s, %(beast_ski3)s, %(beast_ski4)s, %(all_new_point)s, %(skill_point)s, %(attribute_point)s, %(potential)s, %(max_potential)s, %(cash)s, %(saving)s, %(learn_cash)s, %(zhuan_zhi)s, %(three_fly_lv)s, %(nine_fight_level)s, %(goodness)s, %(badness)s, %(goodness_sav)s, %(role_title)s, %(org_name)s, %(org_offer)s, %(org_position)s, %(marry_id)s, %(marry2_id)s, %(marry_name)s, %(community_name)s, %(community_gid)s, %(achievement_total)s, %(hero_score)s, %(datang_feat)s, %(sword_score)s, %(dup_score)s, %(shenqi_score)s, %(qicai_score)s, %(xianyu_score)s, %(nuts_num)s, %(cg_total_amount)s, %(cg_body_amount)s, %(cg_box_amount)s, %(xianyu_amount)s, %(energy_amount)s, %(jiyuan_amount)s, %(add_point)s, %(packet_page)s, %(rent_level)s, %(outdoor_level)s, %(farm_level)s, %(house_real_owner)s, %(pride)s, %(bid_status)s, %(ori_race)s, %(current_race)s, %(sum_amount)s, %(version_code)s, %(pet)s, %(all_skills_json)s, %(all_equip_json)s, %(all_summon_json)s, %(child_json)s, %(child2_json)s, %(all_rider_json)s, %(ex_avt_json)s, %(huge_horse_json)s, %(fabao_json)s, %(lingbao_json)s, %(shenqi_json)s, %(idbid_desc_json)s, %(changesch_json)s, %(prop_kept_json)s, %(more_attr_json)s, %(update_time)s)
                ON DUPLICATE KEY UPDATE time_lock_days = VALUES(time_lock_days), role_name = VALUES(role_name), role_level = VALUES(role_level), role_school = VALUES(role_school), role_icon = VALUES(role_icon), user_num = VALUES(user_num), hp_max = VALUES(hp_max), mp_max = VALUES(mp_max), att_all = VALUES(att_all), def_all = VALUES(def_all), spe_all = VALUES(spe_all), mag_all = VALUES(mag_all), damage_all = VALUES(damage_all), mag_dam_all = VALUES(mag_dam_all), mag_def_all = VALUES(mag_def_all), dod_all = VALUES(dod_all), cor_all = VALUES(cor_all), str_all = VALUES(str_all), res_all = VALUES(res_all), dex_all = VALUES(dex_all), up_exp = VALUES(up_exp), sum_exp = VALUES(sum_exp), expt_ski1 = VALUES(expt_ski1), expt_ski2 = VALUES(expt_ski2), expt_ski3 = VALUES(expt_ski3), expt_ski4 = VALUES(expt_ski4), expt_ski5 = VALUES(expt_ski5), max_expt1 = VALUES(max_expt1), max_expt2 = VALUES(max_expt2), max_expt3 = VALUES(max_expt3), max_expt4 = VALUES(max_expt4), beast_ski1 = VALUES(beast_ski1), beast_ski2 = VALUES(beast_ski2), beast_ski3 = VALUES(beast_ski3), beast_ski4 = VALUES(beast_ski4), all_new_point = VALUES(all_new_point), skill_point = VALUES(skill_point), attribute_point = VALUES(attribute_point), potential = VALUES(potential), max_potential = VALUES(max_potential), cash = VALUES(cash), saving = VALUES(saving), learn_cash = VALUES(learn_cash), zhuan_zhi = VALUES(zhuan_zhi), three_fly_lv = VALUES(three_fly_lv), nine_fight_level = VALUES(nine_fight_level), goodness = VALUES(goodness), badness = VALUES(badness), goodness_sav = VALUES(goodness_sav), role_title = VALUES(role_title), org_name = VALUES(org_name), org_offer = VALUES(org_offer), org_position = VALUES(org_position), marry_id = VALUES(marry_id), marry2_id = VALUES(marry2_id), marry_name = VALUES(marry_name), community_name = VALUES(community_name), community_gid = VALUES(community_gid), achievement_total = VALUES(achievement_total), hero_score = VALUES(hero_score), datang_feat = VALUES(datang_feat), sword_score = VALUES(sword_score), dup_score = VALUES(dup_score), shenqi_score = VALUES(shenqi_score), qicai_score = VALUES(qicai_score), xianyu_score = VALUES(xianyu_score), nuts_num = VALUES(nuts_num), cg_total_amount = VALUES(cg_total_amount), cg_body_amount = VALUES(cg_body_amount), cg_box_amount = VALUES(cg_box_amount), xianyu_amount = VALUES(xianyu_amount), energy_amount = VALUES(energy_amount), jiyuan_amount = VALUES(jiyuan_amount), add_point = VALUES(add_point), packet_page = VALUES(packet_page), rent_level = VALUES(rent_level), outdoor_level = VALUES(outdoor_level), farm_level = VALUES(farm_level), house_real_owner = VALUES(house_real_owner), pride = VALUES(pride), bid_status = VALUES(bid_status), ori_race = VALUES(ori_race), current_race = VALUES(current_race), sum_amount = VALUES(sum_amount), version_code = VALUES(version_code), pet = VALUES(pet), all_skills_json = VALUES(all_skills_json), all_equip_json = VALUES(all_equip_json), all_summon_json = VALUES(all_summon_json), child_json = VALUES(child_json), child2_json = VALUES(child2_json), all_rider_json = VALUES(all_rider_json), ex_avt_json = VALUES(ex_avt_json), huge_horse_json = VALUES(huge_horse_json), fabao_json = VALUES(fabao_json), lingbao_json = VALUES(lingbao_json), shenqi_json = VALUES(shenqi_json), idbid_desc_json = VALUES(idbid_desc_json), changesch_json = VALUES(changesch_json), prop_kept_json = VALUES(prop_kept_json), more_attr_json = VALUES(more_attr_json), update_time = VALUES(update_time)
                ]
[parameters: {'time_lock_days': 0, 'role_name': '天·力劈苍穹', 'role_level': 129, 'role_school': 20, 'role_icon': 220, 'user_num': '43770078', 'hp_max': 1980, 'mp_max': 774, 'att_all': 2436, 'def_all': 440, 'spe_all': 137, 'mag_all': 142, 'damage_all': 1348, 'mag_dam_all': 670, 'mag_def_all': 670, 'dod_all': 171, 'cor_all': 142, 'str_all': 902, 'res_all': 138, 'dex_all': 214, 'up_exp': 49669073, 'sum_exp': 37, 'expt_ski1': 21, 'expt_ski2': 5, 'expt_ski3': 0, 'expt_ski4': 6, 'expt_ski5': 0, 'max_expt1': 21, 'max_expt2': 20, 'max_expt3': 20, 'max_expt4': 20, 'beast_ski1': 10, 'beast_ski2': 0, 'beast_ski3': 10, 'beast_ski4': 10, 'all_new_point': 3, 'skill_point': 2, 'attribute_point': 0, 'potential': 0, 'max_potential': 0, 'cash': 141212, 'saving': 0, 'learn_cash': 5707181, 'zhuan_zhi': 1, 'three_fly_lv': 0, 'nine_fight_level': 8, 'goodness': 1956, 'badness': 0, 'goodness_sav': 2128, 'role_title': '' ... 2 parameters truncated ... 'org_position': '', 'marry_id': '0', 'marry2_id': '0', 'marry_name': '', 'community_name': '0', 'community_gid': '0', 'achievement_total': 1006, 'hero_score': 230, 'datang_feat': 4565, 'sword_score': 0, 'dup_score': 372, 'shenqi_score': 910, 'qicai_score': 0, 'xianyu_score': 1550, 'nuts_num': 100, 'cg_total_amount': 0, 'cg_body_amount': 0, 'cg_box_amount': 0, 'xianyu_amount': 26, 'energy_amount': 0, 'jiyuan_amount': 0, 'add_point': 6, 'packet_page': 0, 'rent_level': 0, 'outdoor_level': 0, 'farm_level': 0, 'house_real_owner': 0, 'pride': 800, 'bid_status': 0, 'ori_race': 2, 'current_race': 2, 'sum_amount': 8, 'version_code': '20250226', 'pet': '[]', 'all_skills_json': '{"216": 45, "52046": 1, "212": 40, "210": 10, "211": 40, "179": 1, "52042": 1, "174": 1, "173": 1, "198": 1, "52032": 1, "52031": 1, "52039": 1, "520 ... (197 characters truncated) ... 39004": 1, "39002": 1, "170": 2, "39008": 1, "146": 80, "144": 130, "202": 78, "142": 130, "143": 139, "140": 150, "141": 150, "208": 10, "51053": 1}', 'all_equip_json': '{"9": {"equip_sn": "8mI003yGN6Q", "cDesc": "#r等级 60  #r灵力 +56#r耐久度 179#Y#r#c4DBAF4特效：#c4DBAF4专注#Y  ", "iType": 2810, "obj_level": 60, "can_split_agen ... (315 characters truncated) ... 宝石 红宝石、 蓝宝石#r#G#G法术吸收率 火+8%、 水+8%#Y#Y#r#c4DBAF4套装效果：变身术之狂豹（人型）#Y#Y  ", "is_split_sale": 1, "iType": 2814, "eid": "202506151100113-132-HN1HHT1ZTR7Z"}}', 'all_summon_json': '[{"fin_jinjie": 1, "ori_type": 2078, "summon_equip1": {"cDesc": " #r等级 115  #r命中率 +13%#r耐久度 637#r#G#G敏捷 +16#Y#Y#r#c4DBAF4套装效果：附加状态#c4DBAF4高级否定信仰#Y#Y# ... (1586 characters truncated) ... dezz": 0, "dod": 1280, "att": 1161, "MS_MAX": 1800, "yuanxiao": 0, "iCor_all": 582, "growthMax": 1266, "jinjie_type": 2206, "sjg": 0, "iLockNew": 9}]', 'child_json': '{}', 'child2_json': '{}', 'all_rider_json': '{"1": {"all_skills": {"611": 1}, "iType": 506, "exgrow": 20941, "ExtraGrow": 80, "iGrade": 129, "mattrib": "敏捷"}}', 'ex_avt_json': '{"1": {"wear_pos": 0, "iType": 13116, "effect_pos": [0, 0, 0, 0, 0, 0, 0], "cName": "龙马炫卡", "order": 11, "extra_info": 1}, "2": {"wear_pos": 3, "iTyp ... (1410 characters truncated) ... er": 14, "extra_info": 1}, "14": {"wear_pos": 1, "iType": 42817, "effect_pos": [1, 2, 0, 0, 0, 0, 0], "cName": "翠潋烟云", "order": 10, "extra_info": 1}}', 'huge_horse_json': '{"665": {"iSkillLevel": 0, "iType": 11682, "cName": "碧潮海马", "Color_Str": "", "nosale": 0, "order": 1, "iSkill": 0}, "818": {"iSkillLevel": 1, "iType" ... (60 characters truncated) ... er": 2, "iSkill": 622}, "677": {"iSkillLevel": 0, "iType": 11694, "cName": "双黄月饼", "Color_Str": "104:982:983", "nosale": 0, "order": 3, "iSkill": 0}}', 'fabao_json': '{"11": {"cDesc": "0#Y灵气：#G157#Y 五行：#G土#Y#r修炼境界：第#G15#Y层 #cFF6F28天人合一#Y#r#n#Y最佳五行属性奖励：额外提升1%的概率#c7D7E82（未生效）#Y", "fumo_type": 0, "iType": 6131}, "12": ... (551 characters truncated) ...  "fumo_type": 0, "iType": 6021}, "18": {"cDesc": "0#W【回合限制】10#r#Y#Y灵气：#G50 #Y 五行：#G木#Y#r修炼境界：第#G0#Y层 #c7D7E82元神初具#Y", "fumo_type": 0, "iType": 6030}}', 'lingbao_json': '{}', 'shenqi_json': '{}', 'idbid_desc_json': '[]', 'changesch_json': '[]', 'prop_kept_json': '{"0": {"iSpe": 137, "iMag": 142, "iCor": 144, "iStr": 900, "iRes": 138}}', 'more_attr_json': '{"attrs": [{"lv": 0, "idx": 5}, {"lv": 0, "idx": 9}, {"lv": 0, "idx": 12}, {"lv": 0, "idx": 1}, {"lv": 0, "idx": 7}, {"lv": 0, "idx": 3}, {"lv": 0, " ... (82 characters truncated) ... 0, "idx": 15}, {"lv": 0, "idx": 4}, {"lv": 0, "idx": 2}, {"lv": 171, "idx": 13}, {"lv": 670, "idx": 14}, {"lv": 0, "idx": 16}, {"lv": 0, "idx": 17}]}', 'update_time': '2025-09-15 16:51:01'}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-09-15 17:15:00,037 - INFO - Spider实例将在需要时延迟创建
2025-09-15 17:15:01,651 - INFO - 成功加载 41 个Cookie
2025-09-15 17:15:01,741 - INFO - 已注入 41 个Cookie到浏览器上下文
2025-09-15 17:15:02,154 - INFO - Playwright浏览器设置完成
2025-09-15 17:15:02,170 - INFO - Playwright网络监听已设置
2025-09-15 17:15:02,171 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-15 17:15:03,978 - INFO - 页面初始加载完成
2025-09-15 17:15:06,491 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1757927703971&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-15 17:15:06,491 - INFO - 开始创建角色spider实例...
2025-09-15 17:15:07,752 - INFO - 装备锚点估价器和特征提取器导入成功
2025-09-15 17:15:07,765 - INFO - 装备特征提取器初始化成功
2025-09-15 17:15:07,774 - INFO - 灵饰特征提取器初始化成功
2025-09-15 17:15:07,774 - INFO - 宠物装备特征提取器初始化成功
2025-09-15 17:15:07,897 - INFO - 装备锚点估价器初始化成功
2025-09-15 17:15:07,919 - INFO - 统一特征提取器初始化成功
2025-09-15 17:15:07,921 - INFO - 异常装备数据库初始化成功
2025-09-15 17:15:07,944 - INFO - 装备特征提取器初始化成功
2025-09-15 17:15:07,973 - INFO - 灵饰特征提取器初始化成功
2025-09-15 17:15:07,974 - INFO - 宠物装备特征提取器初始化成功
2025-09-15 17:15:08,095 - INFO - 装备锚点估价器初始化成功
2025-09-15 17:15:08,191 - INFO - 统一特征提取器初始化成功
2025-09-15 17:15:08,192 - INFO - 异常装备数据库初始化成功
2025-09-15 17:15:08,621 - INFO - 角色特征提取器初始化成功
2025-09-15 17:15:08,624 - INFO - 角色市场锚定估价器初始化成功
2025-09-15 17:15:08,634 - INFO - 宠物特征提取器初始化成功
2025-09-15 17:15:08,634 - INFO - 宠物锚点估价器初始化成功
2025-09-15 17:15:08,640 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-15 17:15:08,640 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-15 17:15:08,746 - INFO - 角色spider实例已创建
2025-09-15 17:15:08,750 - INFO - 开始保存角色数据，数量: 15
2025-09-15 17:15:08,750 - INFO - 检查角色数据库...
2025-09-15 17:15:08,750 - INFO - 检查数据库类型: role
2025-09-15 17:15:08,750 - INFO - 数据库路径: c:\Users\Administrator\Desktop\mh\data\202509\cbg_roles_202509.db
2025-09-15 17:15:08,751 - INFO - 数据库文件是否存在: True
2025-09-15 17:15:08,751 - INFO - 获取角色spider实例...
2025-09-15 17:15:08,751 - INFO - 调用角色spider的save_role_data方法...
2025-09-15 17:15:08,774 - INFO - 成功加载game_auto_config.js配置，包含132个配置项
2025-09-15 17:16:19,921 - INFO - 角色 202509092000113-132-XFJOB42FWJPK 价格从 76600.0 变更为 75000，已记录到价格历史
2025-09-15 17:17:29,460 - INFO - 角色 202508091700113-132-CLMAE1PSWAFU 价格从 145700.0 变更为 141200，已记录到价格历史
2025-09-15 17:21:53,181 - INFO - 角色 202507061100113-132-KHETLOP7FV7I 价格从 150010.0 变更为 132010，已记录到价格历史
2025-09-15 17:24:23,655 - INFO - 角色数据已保存: 15 条
2025-09-15 17:24:23,655 - INFO - 响应数据已保存: role - 15 条记录
2025-09-15 17:24:23,656 - INFO - 检测到已登录状态，当前URL: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-15 17:24:23,656 - INFO - 登录状态检查: {'isLoggedIn': True, 'currentUrl': 'https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1', 'message': '已登录'}
2025-09-15 17:24:23,656 - INFO - 检测到已登录状态，更新Cookie...
2025-09-15 17:24:23,709 - INFO - 检测到页面关闭，停止数据收集服务
2025-09-15 17:24:23,724 - INFO - Cookie已更新并保存到 c:\Users\Administrator\Desktop\mh\config\cookies.txt
2025-09-15 17:24:23,725 - INFO - 数据收集已开始，请在浏览器中正常操作...
2025-09-15 17:24:23,725 - INFO - 所有对 recommend.py 的请求将被自动捕获和保存
2025-09-15 17:24:23,763 - INFO - 检测到浏览器上下文关闭，停止数据收集服务
2025-09-15 17:24:24,155 - INFO - 数据收集已停止
2025-09-15 17:24:24,213 - ERROR - Future exception was never retrieved
future: <Future finished exception=TargetClosedError('Target page, context or browser has been closed')>
playwright._impl._errors.TargetClosedError: Target page, context or browser has been closed
2025-09-15 17:24:24,214 - ERROR - Future exception was never retrieved
future: <Future finished exception=TargetClosedError('Target page, context or browser has been closed')>
playwright._impl._errors.TargetClosedError: Target page, context or browser has been closed
2025-09-15 18:00:37,062 - INFO - Spider实例将在需要时延迟创建
2025-09-15 18:00:38,761 - INFO - 成功加载 41 个Cookie
2025-09-15 18:00:38,842 - INFO - 已注入 41 个Cookie到浏览器上下文
2025-09-15 18:00:39,168 - INFO - Playwright浏览器设置完成
2025-09-15 18:00:39,187 - INFO - Playwright网络监听已设置
2025-09-15 18:00:39,187 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-15 18:00:40,929 - INFO - 页面初始加载完成
2025-09-15 18:00:42,530 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1757930440916&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-15 18:00:42,531 - INFO - 开始创建角色spider实例...
2025-09-15 18:00:44,942 - INFO - 装备锚点估价器和特征提取器导入成功
2025-09-15 18:00:44,950 - INFO - 装备特征提取器初始化成功
2025-09-15 18:00:44,958 - INFO - 灵饰特征提取器初始化成功
2025-09-15 18:00:44,958 - INFO - 宠物装备特征提取器初始化成功
2025-09-15 18:00:45,017 - INFO - 装备锚点估价器初始化成功
2025-09-15 18:00:45,033 - INFO - 统一特征提取器初始化成功
2025-09-15 18:00:45,034 - INFO - 异常装备数据库初始化成功
2025-09-15 18:00:45,043 - INFO - 装备特征提取器初始化成功
2025-09-15 18:00:45,051 - INFO - 灵饰特征提取器初始化成功
2025-09-15 18:00:45,051 - INFO - 宠物装备特征提取器初始化成功
2025-09-15 18:00:45,082 - INFO - 装备锚点估价器初始化成功
2025-09-15 18:00:45,134 - INFO - 统一特征提取器初始化成功
2025-09-15 18:00:45,136 - INFO - 异常装备数据库初始化成功
2025-09-15 18:00:45,507 - INFO - 角色特征提取器初始化成功
2025-09-15 18:00:45,510 - INFO - 角色市场锚定估价器初始化成功
2025-09-15 18:00:45,519 - INFO - 宠物特征提取器初始化成功
2025-09-15 18:00:45,520 - INFO - 宠物锚点估价器初始化成功
2025-09-15 18:00:45,525 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-15 18:00:45,525 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-15 18:00:46,363 - INFO - 角色spider实例已创建
2025-09-15 18:00:46,366 - INFO - 开始保存角色数据，数量: 15
2025-09-15 18:00:46,366 - INFO - 检查角色数据库...
2025-09-15 18:00:46,366 - INFO - 检查数据库类型: role
2025-09-15 18:00:46,366 - INFO - 数据库路径: C:\Users\Administrator\Desktop\mh\data\202509\cbg_roles_202509.db
2025-09-15 18:00:46,366 - INFO - 数据库文件是否存在: True
2025-09-15 18:00:46,367 - INFO - 获取角色spider实例...
2025-09-15 18:00:46,367 - INFO - 调用角色spider的save_role_data方法...
2025-09-15 18:00:46,388 - INFO - 成功加载game_auto_config.js配置，包含132个配置项
2025-09-15 18:02:20,660 - INFO - 角色 202509092000113-132-XFJOB42FWJPK 价格从 76600.0 变更为 75000，已记录到价格历史
2025-09-15 18:03:35,045 - INFO - 角色 202508091700113-132-CLMAE1PSWAFU 价格从 145700.0 变更为 141200，已记录到价格历史
2025-09-15 18:07:39,895 - INFO - 角色 202507061100113-132-KHETLOP7FV7I 价格从 150010.0 变更为 132010，已记录到价格历史
2025-09-15 18:10:55,999 - INFO - 角色数据已保存: 15 条
2025-09-15 18:10:55,999 - INFO - 响应数据已保存: role - 15 条记录
2025-09-15 18:10:55,999 - INFO - 检测到已登录状态，当前URL: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-15 18:10:55,999 - INFO - 登录状态检查: {'isLoggedIn': True, 'currentUrl': 'https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1', 'message': '已登录'}
2025-09-15 18:10:55,999 - INFO - 检测到已登录状态，更新Cookie...
2025-09-15 18:10:56,050 - INFO - 检测到页面关闭，停止数据收集服务
2025-09-15 18:10:56,066 - INFO - Cookie已更新并保存到 C:\Users\Administrator\Desktop\mh\config\cookies.txt
2025-09-15 18:10:56,066 - INFO - 数据收集已开始，请在浏览器中正常操作...
2025-09-15 18:10:56,066 - INFO - 所有对 recommend.py 的请求将被自动捕获和保存
2025-09-15 18:10:56,105 - INFO - 检测到浏览器上下文关闭，停止数据收集服务
2025-09-15 18:10:56,590 - INFO - 数据收集已停止
2025-09-15 18:10:56,690 - ERROR - Future exception was never retrieved
future: <Future finished exception=TargetClosedError('Target page, context or browser has been closed')>
playwright._impl._errors.TargetClosedError: Target page, context or browser has been closed
2025-09-15 18:10:56,691 - ERROR - Future exception was never retrieved
future: <Future finished exception=TargetClosedError('Target page, context or browser has been closed')>
playwright._impl._errors.TargetClosedError: Target page, context or browser has been closed
2025-09-15 18:25:37,446 - INFO - Spider实例将在需要时延迟创建
2025-09-15 18:25:39,052 - INFO - 成功加载 45 个Cookie
2025-09-15 18:25:39,126 - INFO - 已注入 45 个Cookie到浏览器上下文
2025-09-15 18:25:39,398 - INFO - Playwright浏览器设置完成
2025-09-15 18:25:39,414 - INFO - Playwright网络监听已设置
2025-09-15 18:25:39,414 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-15 18:25:41,752 - INFO - 页面初始加载完成
2025-09-15 18:25:43,364 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1757931941742&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-15 18:25:43,365 - INFO - 开始创建角色spider实例...
2025-09-15 18:25:45,140 - INFO - 装备锚点估价器和特征提取器导入成功
2025-09-15 18:25:45,151 - INFO - 装备特征提取器初始化成功
2025-09-15 18:25:45,162 - INFO - 灵饰特征提取器初始化成功
2025-09-15 18:25:45,162 - INFO - 宠物装备特征提取器初始化成功
2025-09-15 18:25:45,238 - INFO - 装备锚点估价器初始化成功
2025-09-15 18:25:45,259 - INFO - 统一特征提取器初始化成功
2025-09-15 18:25:45,261 - INFO - 异常装备数据库初始化成功
2025-09-15 18:25:45,274 - INFO - 装备特征提取器初始化成功
2025-09-15 18:25:45,283 - INFO - 灵饰特征提取器初始化成功
2025-09-15 18:25:45,283 - INFO - 宠物装备特征提取器初始化成功
2025-09-15 18:25:45,328 - INFO - 装备锚点估价器初始化成功
2025-09-15 18:25:45,391 - INFO - 统一特征提取器初始化成功
2025-09-15 18:25:45,392 - INFO - 异常装备数据库初始化成功
2025-09-15 18:25:45,816 - INFO - 角色特征提取器初始化成功
2025-09-15 18:25:45,818 - INFO - 角色市场锚定估价器初始化成功
2025-09-15 18:25:45,828 - INFO - 宠物特征提取器初始化成功
2025-09-15 18:25:45,829 - INFO - 宠物锚点估价器初始化成功
2025-09-15 18:25:45,834 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-15 18:25:45,835 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-15 18:25:46,657 - INFO - 角色spider实例已创建
2025-09-15 18:25:46,661 - INFO - 开始保存角色数据，数量: 15
2025-09-15 18:25:46,661 - INFO - 检查角色数据库...
2025-09-15 18:25:46,662 - INFO - 检查数据库类型: role
2025-09-15 18:25:46,662 - INFO - 数据库路径: C:\Users\Administrator\Desktop\mh\data\202509\cbg_roles_202509.db
2025-09-15 18:25:46,662 - INFO - 数据库文件是否存在: True
2025-09-15 18:25:46,663 - INFO - 获取角色spider实例...
2025-09-15 18:25:46,663 - INFO - 调用角色spider的save_role_data方法...
2025-09-15 18:25:46,688 - INFO - 成功加载game_auto_config.js配置，包含132个配置项
2025-09-15 18:27:01,313 - INFO - 角色 202509092000113-132-XFJOB42FWJPK 价格从 76600.0 变更为 75000，已记录到价格历史
2025-09-15 18:28:16,403 - INFO - 角色 202508091700113-132-CLMAE1PSWAFU 价格从 145700.0 变更为 141200，已记录到价格历史
2025-09-15 22:02:49,260 - INFO - Spider实例将在需要时延迟创建
2025-09-15 22:02:51,084 - INFO - 成功加载 41 个Cookie
2025-09-15 22:02:51,331 - INFO - 已注入 41 个Cookie到浏览器上下文
2025-09-15 22:02:51,833 - INFO - Playwright浏览器设置完成
2025-09-15 22:02:51,838 - INFO - Playwright网络监听已设置
2025-09-15 22:02:51,838 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-15 22:02:53,092 - INFO - 页面初始加载完成
2025-09-15 22:02:54,349 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1757944973038&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-15 22:02:54,350 - INFO - 开始创建角色spider实例...
2025-09-15 22:02:55,861 - INFO - 装备锚点估价器和特征提取器导入成功
2025-09-15 22:02:55,873 - INFO - 装备特征提取器初始化成功
2025-09-15 22:02:55,887 - INFO - 灵饰特征提取器初始化成功
2025-09-15 22:02:55,887 - INFO - 宠物装备特征提取器初始化成功
2025-09-15 22:02:55,956 - INFO - 装备锚点估价器初始化成功
2025-09-15 22:02:55,977 - INFO - 统一特征提取器初始化成功
2025-09-15 22:02:55,978 - INFO - 异常装备数据库初始化成功
2025-09-15 22:02:55,989 - INFO - 装备特征提取器初始化成功
2025-09-15 22:02:56,000 - INFO - 灵饰特征提取器初始化成功
2025-09-15 22:02:56,000 - INFO - 宠物装备特征提取器初始化成功
2025-09-15 22:02:56,039 - INFO - 装备锚点估价器初始化成功
2025-09-15 22:02:56,059 - INFO - 统一特征提取器初始化成功
2025-09-15 22:02:56,059 - INFO - 异常装备数据库初始化成功
2025-09-15 22:02:56,602 - INFO - 角色特征提取器初始化成功
2025-09-15 22:02:56,606 - INFO - 角色市场锚定估价器初始化成功
2025-09-15 22:02:56,618 - INFO - 宠物特征提取器初始化成功
2025-09-15 22:02:56,619 - INFO - 宠物锚点估价器初始化成功
2025-09-15 22:02:56,626 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-15 22:02:56,626 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-15 22:02:57,035 - INFO - 角色spider实例已创建
2025-09-15 22:02:57,038 - INFO - 开始保存角色数据，数量: 15
2025-09-15 22:02:57,038 - INFO - 检查角色数据库...
2025-09-15 22:02:57,039 - INFO - 检查数据库类型: role
2025-09-15 22:02:57,039 - INFO - 数据库路径: E:\workspace\mh\data\202509\cbg_roles_202509.db
2025-09-15 22:02:57,039 - INFO - 数据库文件是否存在: True
2025-09-15 22:02:57,039 - INFO - 获取角色spider实例...
2025-09-15 22:02:57,039 - INFO - 调用角色spider的save_role_data方法...
2025-09-15 22:02:57,063 - INFO - 成功加载game_auto_config.js配置，包含132个配置项
2025-09-15 22:05:57,036 - INFO - 角色 202507061100113-132-KHETLOP7FV7I 价格从 150010.0 变更为 132010，已记录到价格历史
2025-09-15 22:06:42,109 - INFO - 角色数据已保存: 15 条
2025-09-15 22:06:42,110 - INFO - 响应数据已保存: role - 15 条记录
2025-09-15 22:06:42,111 - INFO - 检测到已登录状态，当前URL: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-15 22:06:42,111 - INFO - 登录状态检查: {'isLoggedIn': True, 'currentUrl': 'https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1', 'message': '已登录'}
2025-09-15 22:06:42,112 - INFO - 检测到已登录状态，更新Cookie...
2025-09-15 22:06:42,175 - INFO - Cookie已更新并保存到 E:\workspace\mh\config\cookies.txt
2025-09-15 22:06:42,175 - INFO - 数据收集已开始，请在浏览器中正常操作...
2025-09-15 22:06:42,175 - INFO - 所有对 recommend.py 的请求将被自动捕获和保存
2025-09-15 22:08:41,153 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1757945319215&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=2&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-15 22:08:41,157 - INFO - 开始保存角色数据，数量: 15
2025-09-15 22:08:41,157 - INFO - 检查角色数据库...
2025-09-15 22:08:41,157 - INFO - 检查数据库类型: role
2025-09-15 22:08:41,157 - INFO - 数据库路径: E:\workspace\mh\data\202509\cbg_roles_202509.db
2025-09-15 22:08:41,158 - INFO - 数据库文件是否存在: True
2025-09-15 22:08:41,158 - INFO - 获取角色spider实例...
2025-09-15 22:08:41,158 - INFO - 调用角色spider的save_role_data方法...
2025-09-15 22:09:40,433 - INFO - 角色 202508241400113-132-HNLQNNGN9CGV 价格从 89300.0 变更为 88400，已记录到价格历史
2025-09-15 22:12:34,690 - INFO - 角色数据已保存: 15 条
2025-09-15 22:12:34,690 - INFO - 响应数据已保存: role - 15 条记录
2025-09-15 22:46:32,416 - INFO - 检测到页面关闭，停止数据收集服务
2025-09-15 22:46:32,478 - INFO - 检测到浏览器上下文关闭，停止数据收集服务
2025-09-15 22:46:32,885 - INFO - 数据收集已停止
2025-09-15 22:46:32,885 - INFO - 数据收集已停止
2025-09-15 22:46:33,196 - INFO - 数据收集已停止
2025-09-16 00:02:12,979 - INFO - Spider实例将在需要时延迟创建
2025-09-16 00:02:14,697 - INFO - 成功加载 41 个Cookie
2025-09-16 00:02:14,858 - INFO - 已注入 41 个Cookie到浏览器上下文
2025-09-16 00:02:15,252 - INFO - Playwright浏览器设置完成
2025-09-16 00:02:15,259 - INFO - Playwright网络监听已设置
2025-09-16 00:02:15,259 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-16 00:02:16,366 - INFO - 页面初始加载完成
2025-09-16 00:02:17,790 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1757952136342&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-16 00:02:17,790 - INFO - 开始创建角色spider实例...
2025-09-16 00:02:19,466 - INFO - 装备锚点估价器和特征提取器导入成功
2025-09-16 00:02:19,478 - INFO - 装备特征提取器初始化成功
2025-09-16 00:02:19,491 - INFO - 灵饰特征提取器初始化成功
2025-09-16 00:02:19,491 - INFO - 宠物装备特征提取器初始化成功
2025-09-16 00:02:19,624 - INFO - 装备锚点估价器初始化成功
2025-09-16 00:02:19,665 - INFO - 统一特征提取器初始化成功
2025-09-16 00:02:19,666 - INFO - 异常装备数据库初始化成功
2025-09-16 00:02:19,680 - INFO - 装备特征提取器初始化成功
2025-09-16 00:02:19,698 - INFO - 灵饰特征提取器初始化成功
2025-09-16 00:02:19,700 - INFO - 宠物装备特征提取器初始化成功
2025-09-16 00:02:19,764 - INFO - 装备锚点估价器初始化成功
2025-09-16 00:02:19,799 - INFO - 统一特征提取器初始化成功
2025-09-16 00:02:19,802 - INFO - 异常装备数据库初始化成功
2025-09-16 00:02:20,485 - INFO - 角色特征提取器初始化成功
2025-09-16 00:02:20,492 - INFO - 角色市场锚定估价器初始化成功
2025-09-16 00:02:20,500 - INFO - 宠物特征提取器初始化成功
2025-09-16 00:02:20,500 - INFO - 宠物锚点估价器初始化成功
2025-09-16 00:02:20,508 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-16 00:02:20,509 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-16 00:02:20,931 - INFO - 角色spider实例已创建
2025-09-16 00:02:20,935 - INFO - 开始保存角色数据，数量: 15
2025-09-16 00:02:20,936 - INFO - 检查角色数据库...
2025-09-16 00:02:20,936 - INFO - 检查数据库类型: role
2025-09-16 00:02:20,936 - INFO - 数据库路径: E:\workspace\mh\data\202509\cbg_roles_202509.db
2025-09-16 00:02:20,936 - INFO - 数据库文件是否存在: True
2025-09-16 00:02:20,937 - INFO - 获取角色spider实例...
2025-09-16 00:02:20,937 - INFO - 调用角色spider的save_role_data方法...
2025-09-16 00:02:20,965 - INFO - 成功加载game_auto_config.js配置，包含132个配置项
2025-09-16 00:07:38,618 - INFO - Spider实例将在需要时延迟创建
2025-09-16 00:07:40,405 - INFO - 成功加载 41 个Cookie
2025-09-16 00:07:40,600 - INFO - 已注入 41 个Cookie到浏览器上下文
2025-09-16 00:07:41,010 - INFO - Playwright浏览器设置完成
2025-09-16 00:07:41,016 - INFO - Playwright网络监听已设置
2025-09-16 00:07:41,016 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-16 00:07:42,051 - INFO - 页面初始加载完成
2025-09-16 00:07:43,973 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1757952462030&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-16 00:07:43,973 - INFO - 开始创建角色spider实例...
2025-09-16 00:07:45,706 - INFO - 装备锚点估价器和特征提取器导入成功
2025-09-16 00:07:45,718 - INFO - 装备特征提取器初始化成功
2025-09-16 00:07:45,726 - INFO - 灵饰特征提取器初始化成功
2025-09-16 00:07:45,726 - INFO - 宠物装备特征提取器初始化成功
2025-09-16 00:07:45,802 - INFO - 装备锚点估价器初始化成功
2025-09-16 00:07:45,823 - INFO - 统一特征提取器初始化成功
2025-09-16 00:07:45,824 - INFO - 异常装备数据库初始化成功
2025-09-16 00:07:45,834 - INFO - 装备特征提取器初始化成功
2025-09-16 00:07:45,844 - INFO - 灵饰特征提取器初始化成功
2025-09-16 00:07:45,844 - INFO - 宠物装备特征提取器初始化成功
2025-09-16 00:07:45,887 - INFO - 装备锚点估价器初始化成功
2025-09-16 00:07:45,906 - INFO - 统一特征提取器初始化成功
2025-09-16 00:07:45,907 - INFO - 异常装备数据库初始化成功
2025-09-16 00:07:46,492 - INFO - 角色特征提取器初始化成功
2025-09-16 00:07:46,494 - INFO - 角色市场锚定估价器初始化成功
2025-09-16 00:07:46,505 - INFO - 宠物特征提取器初始化成功
2025-09-16 00:07:46,505 - INFO - 宠物锚点估价器初始化成功
2025-09-16 00:07:46,510 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-16 00:07:46,510 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-16 00:07:47,084 - INFO - 角色spider实例已创建
2025-09-16 00:07:47,087 - INFO - 开始保存角色数据，数量: 15
2025-09-16 00:07:47,087 - INFO - 检查角色数据库...
2025-09-16 00:07:47,088 - INFO - 检查数据库类型: role
2025-09-16 00:07:47,088 - INFO - 数据库路径: E:\workspace\mh\data\202509\cbg_roles_202509.db
2025-09-16 00:07:47,088 - INFO - 数据库文件是否存在: True
2025-09-16 00:07:47,088 - INFO - 获取角色spider实例...
2025-09-16 00:07:47,088 - INFO - 调用角色spider的save_role_data方法...
2025-09-16 00:07:47,115 - INFO - 成功加载game_auto_config.js配置，包含132个配置项
2025-09-16 00:07:55,626 - INFO - 角色数据已保存: 15 条
2025-09-16 00:07:55,626 - INFO - 响应数据已保存: role - 15 条记录
2025-09-16 00:07:55,627 - INFO - 检测到已登录状态，当前URL: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-16 00:07:55,627 - INFO - 登录状态检查: {'isLoggedIn': True, 'currentUrl': 'https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1', 'message': '已登录'}
2025-09-16 00:07:55,627 - INFO - 检测到已登录状态，更新Cookie...
2025-09-16 00:07:55,659 - INFO - 新页面创建，已附加监听器: 
2025-09-16 00:07:55,660 - INFO - 检测到页面关闭，停止数据收集服务
2025-09-16 00:07:55,677 - INFO - Cookie已更新并保存到 E:\workspace\mh\config\cookies.txt
2025-09-16 00:07:55,677 - INFO - 数据收集已开始，请在浏览器中正常操作...
2025-09-16 00:07:55,677 - INFO - 所有对 recommend.py 的请求将被自动捕获和保存
2025-09-16 00:07:55,694 - INFO - 检测到浏览器上下文关闭，停止数据收集服务
2025-09-16 00:07:56,065 - INFO - 数据收集已停止
2025-09-16 00:07:56,065 - INFO - 数据收集已停止
2025-09-16 00:07:56,065 - INFO - 数据收集已停止
2025-09-16 00:11:35,084 - INFO - Spider实例将在需要时延迟创建
2025-09-16 00:11:36,730 - INFO - 成功加载 45 个Cookie
2025-09-16 00:11:36,913 - INFO - 已注入 45 个Cookie到浏览器上下文
2025-09-16 00:11:37,342 - INFO - Playwright浏览器设置完成
2025-09-16 00:11:37,347 - INFO - Playwright网络监听已设置
2025-09-16 00:11:37,348 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-16 00:11:38,481 - INFO - 页面初始加载完成
2025-09-16 00:11:40,133 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1757952698471&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-16 00:11:40,133 - INFO - 开始创建角色spider实例...
2025-09-16 00:11:41,582 - INFO - 装备锚点估价器和特征提取器导入成功
2025-09-16 00:11:41,593 - INFO - 装备特征提取器初始化成功
2025-09-16 00:11:41,606 - INFO - 灵饰特征提取器初始化成功
2025-09-16 00:11:41,606 - INFO - 宠物装备特征提取器初始化成功
2025-09-16 00:11:41,678 - INFO - 装备锚点估价器初始化成功
2025-09-16 00:11:41,700 - INFO - 统一特征提取器初始化成功
2025-09-16 00:11:41,702 - INFO - 异常装备数据库初始化成功
2025-09-16 00:11:41,711 - INFO - 装备特征提取器初始化成功
2025-09-16 00:11:41,723 - INFO - 灵饰特征提取器初始化成功
2025-09-16 00:11:41,723 - INFO - 宠物装备特征提取器初始化成功
2025-09-16 00:11:41,765 - INFO - 装备锚点估价器初始化成功
2025-09-16 00:11:41,786 - INFO - 统一特征提取器初始化成功
2025-09-16 00:11:41,787 - INFO - 异常装备数据库初始化成功
2025-09-16 00:11:42,333 - INFO - 角色特征提取器初始化成功
2025-09-16 00:11:42,336 - INFO - 角色市场锚定估价器初始化成功
2025-09-16 00:11:42,345 - INFO - 宠物特征提取器初始化成功
2025-09-16 00:11:42,347 - INFO - 宠物锚点估价器初始化成功
2025-09-16 00:11:42,352 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-16 00:11:42,353 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-16 00:11:42,756 - INFO - 角色spider实例已创建
2025-09-16 00:11:42,760 - INFO - 开始保存角色数据，数量: 15
2025-09-16 00:11:42,760 - INFO - 检查角色数据库...
2025-09-16 00:11:42,760 - INFO - 检查数据库类型: role
2025-09-16 00:11:42,760 - INFO - 数据库路径: E:\workspace\mh\data\202509\cbg_roles_202509.db
2025-09-16 00:11:42,761 - INFO - 数据库文件是否存在: True
2025-09-16 00:11:42,761 - INFO - 获取角色spider实例...
2025-09-16 00:11:42,761 - INFO - 调用角色spider的save_role_data方法...
2025-09-16 00:11:42,789 - INFO - 成功加载game_auto_config.js配置，包含132个配置项
2025-09-16 00:13:18,789 - INFO - 角色数据已保存: 15 条
2025-09-16 00:13:18,789 - INFO - 响应数据已保存: role - 15 条记录
2025-09-16 00:13:18,790 - INFO - 检测到已登录状态，当前URL: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-16 00:13:18,790 - INFO - 登录状态检查: {'isLoggedIn': True, 'currentUrl': 'https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1', 'message': '已登录'}
2025-09-16 00:13:18,790 - INFO - 检测到已登录状态，更新Cookie...
2025-09-16 00:13:18,813 - INFO - 新页面创建，已附加监听器: 
2025-09-16 00:13:18,814 - INFO - 检测到页面关闭，停止数据收集服务
2025-09-16 00:13:19,298 - INFO - Cookie已更新并保存到 E:\workspace\mh\config\cookies.txt
2025-09-16 00:13:19,298 - INFO - 数据收集已开始，请在浏览器中正常操作...
2025-09-16 00:13:19,298 - INFO - 所有对 recommend.py 的请求将被自动捕获和保存
2025-09-16 00:13:19,336 - INFO - 检测到浏览器上下文关闭，停止数据收集服务
2025-09-16 00:13:19,724 - INFO - 数据收集已停止
2025-09-16 00:13:19,725 - INFO - 数据收集已停止
2025-09-16 00:13:19,725 - INFO - 数据收集已停止
2025-09-16 00:15:41,017 - INFO - Spider实例将在需要时延迟创建
2025-09-16 00:15:42,653 - INFO - 成功加载 45 个Cookie
2025-09-16 00:15:42,812 - INFO - 已注入 45 个Cookie到浏览器上下文
2025-09-16 00:15:43,196 - INFO - Playwright浏览器设置完成
2025-09-16 00:15:43,203 - INFO - Playwright网络监听已设置
2025-09-16 00:15:43,203 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-16 00:15:44,242 - INFO - 页面初始加载完成
2025-09-16 00:15:45,751 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1757952944178&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-16 00:15:45,751 - INFO - 开始创建角色spider实例...
2025-09-16 00:15:47,259 - INFO - 装备锚点估价器和特征提取器导入成功
2025-09-16 00:15:47,271 - INFO - 装备特征提取器初始化成功
2025-09-16 00:15:47,279 - INFO - 灵饰特征提取器初始化成功
2025-09-16 00:15:47,280 - INFO - 宠物装备特征提取器初始化成功
2025-09-16 00:15:47,352 - INFO - 装备锚点估价器初始化成功
2025-09-16 00:15:47,373 - INFO - 统一特征提取器初始化成功
2025-09-16 00:15:47,374 - INFO - 异常装备数据库初始化成功
2025-09-16 00:15:47,386 - INFO - 装备特征提取器初始化成功
2025-09-16 00:15:47,395 - INFO - 灵饰特征提取器初始化成功
2025-09-16 00:15:47,395 - INFO - 宠物装备特征提取器初始化成功
2025-09-16 00:15:47,440 - INFO - 装备锚点估价器初始化成功
2025-09-16 00:15:47,460 - INFO - 统一特征提取器初始化成功
2025-09-16 00:15:47,461 - INFO - 异常装备数据库初始化成功
2025-09-16 00:15:48,046 - INFO - 角色特征提取器初始化成功
2025-09-16 00:15:48,050 - INFO - 角色市场锚定估价器初始化成功
2025-09-16 00:15:48,058 - INFO - 宠物特征提取器初始化成功
2025-09-16 00:15:48,058 - INFO - 宠物锚点估价器初始化成功
2025-09-16 00:15:48,068 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-16 00:15:48,068 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-16 00:15:48,691 - INFO - 角色spider实例已创建
2025-09-16 00:15:48,695 - INFO - 开始保存角色数据，数量: 15
2025-09-16 00:15:48,695 - INFO - 检查角色数据库...
2025-09-16 00:15:48,695 - INFO - 检查数据库类型: role
2025-09-16 00:15:48,695 - INFO - 数据库路径: E:\workspace\mh\data\202509\cbg_roles_202509.db
2025-09-16 00:15:48,695 - INFO - 数据库文件是否存在: True
2025-09-16 00:15:48,696 - INFO - 获取角色spider实例...
2025-09-16 00:15:48,696 - INFO - 调用角色spider的save_role_data方法...
2025-09-16 00:15:48,719 - INFO - 成功加载game_auto_config.js配置，包含132个配置项
2025-09-16 00:17:05,459 - INFO - 角色数据已保存: 15 条
2025-09-16 00:17:05,459 - INFO - 响应数据已保存: role - 15 条记录
2025-09-16 00:17:05,461 - INFO - 检测到已登录状态，当前URL: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-16 00:17:05,461 - INFO - 登录状态检查: {'isLoggedIn': True, 'currentUrl': 'https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1', 'message': '已登录'}
2025-09-16 00:17:05,461 - INFO - 检测到已登录状态，更新Cookie...
2025-09-16 00:17:05,474 - INFO - 检测到页面关闭，停止数据收集服务
2025-09-16 00:17:05,479 - INFO - Cookie已更新并保存到 E:\workspace\mh\config\cookies.txt
2025-09-16 00:17:05,479 - INFO - 数据收集已开始，请在浏览器中正常操作...
2025-09-16 00:17:05,479 - INFO - 所有对 recommend.py 的请求将被自动捕获和保存
2025-09-16 00:17:05,513 - INFO - 检测到浏览器上下文关闭，停止数据收集服务
2025-09-16 00:17:05,859 - INFO - 数据收集已停止
2025-09-16 00:17:05,929 - ERROR - Future exception was never retrieved
future: <Future finished exception=TargetClosedError('Target page, context or browser has been closed')>
playwright._impl._errors.TargetClosedError: Target page, context or browser has been closed
2025-09-16 00:17:05,930 - ERROR - Future exception was never retrieved
future: <Future finished exception=TargetClosedError('Target page, context or browser has been closed')>
playwright._impl._errors.TargetClosedError: Target page, context or browser has been closed
2025-09-16 00:21:01,886 - INFO - 角色数据已保存: 15 条
2025-09-16 00:21:01,886 - INFO - 响应数据已保存: role - 15 条记录
2025-09-16 00:21:01,887 - INFO - 检测到已登录状态，当前URL: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-16 00:21:01,887 - INFO - 登录状态检查: {'isLoggedIn': True, 'currentUrl': 'https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1', 'message': '已登录'}
2025-09-16 00:21:01,888 - INFO - 检测到已登录状态，更新Cookie...
2025-09-16 00:21:01,988 - INFO - Cookie已更新并保存到 E:\workspace\mh\config\cookies.txt
2025-09-16 00:21:01,988 - INFO - 数据收集已开始，请在浏览器中正常操作...
2025-09-16 00:21:01,988 - INFO - 所有对 recommend.py 的请求将被自动捕获和保存
2025-09-16 00:21:02,044 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1757953093249&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=100&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-16 00:21:02,051 - INFO - 开始保存角色数据，数量: 15
2025-09-16 00:21:02,051 - INFO - 检查角色数据库...
2025-09-16 00:21:02,051 - INFO - 检查数据库类型: role
2025-09-16 00:21:02,051 - INFO - 数据库路径: E:\workspace\mh\data\202509\cbg_roles_202509.db
2025-09-16 00:21:02,051 - INFO - 数据库文件是否存在: True
2025-09-16 00:21:02,051 - INFO - 获取角色spider实例...
2025-09-16 00:21:02,052 - INFO - 调用角色spider的save_role_data方法...
2025-09-16 00:22:09,819 - INFO - 角色 202509091500113-132-HIIZ5WRO0VR1 价格从 99800.0 变更为 97800，已记录到价格历史
2025-09-16 00:22:23,717 - INFO - Spider实例将在需要时延迟创建
2025-09-16 00:22:25,442 - INFO - 成功加载 45 个Cookie
2025-09-16 00:22:25,689 - INFO - 已注入 45 个Cookie到浏览器上下文
2025-09-16 00:22:26,185 - INFO - Playwright浏览器设置完成
2025-09-16 00:22:26,190 - INFO - Playwright网络监听已设置
2025-09-16 00:22:26,190 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-16 00:22:27,193 - INFO - 页面初始加载完成
2025-09-16 00:22:28,672 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1757953347133&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-16 00:22:28,672 - INFO - 开始创建角色spider实例...
2025-09-16 00:22:30,172 - INFO - 装备锚点估价器和特征提取器导入成功
2025-09-16 00:22:30,184 - INFO - 装备特征提取器初始化成功
2025-09-16 00:22:30,196 - INFO - 灵饰特征提取器初始化成功
2025-09-16 00:22:30,196 - INFO - 宠物装备特征提取器初始化成功
2025-09-16 00:22:30,268 - INFO - 装备锚点估价器初始化成功
2025-09-16 00:22:30,287 - INFO - 统一特征提取器初始化成功
2025-09-16 00:22:30,288 - INFO - 异常装备数据库初始化成功
2025-09-16 00:22:30,300 - INFO - 装备特征提取器初始化成功
2025-09-16 00:22:30,309 - INFO - 灵饰特征提取器初始化成功
2025-09-16 00:22:30,310 - INFO - 宠物装备特征提取器初始化成功
2025-09-16 00:22:30,351 - INFO - 装备锚点估价器初始化成功
2025-09-16 00:22:30,370 - INFO - 统一特征提取器初始化成功
2025-09-16 00:22:30,371 - INFO - 异常装备数据库初始化成功
2025-09-16 00:22:30,934 - INFO - 角色特征提取器初始化成功
2025-09-16 00:22:30,937 - INFO - 角色市场锚定估价器初始化成功
2025-09-16 00:22:30,951 - INFO - 宠物特征提取器初始化成功
2025-09-16 00:22:30,951 - INFO - 宠物锚点估价器初始化成功
2025-09-16 00:22:30,963 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-16 00:22:30,963 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-16 00:22:31,397 - INFO - 角色spider实例已创建
2025-09-16 00:22:31,401 - INFO - 开始保存角色数据，数量: 15
2025-09-16 00:22:31,401 - INFO - 检查角色数据库...
2025-09-16 00:22:31,401 - INFO - 检查数据库类型: role
2025-09-16 00:22:31,401 - INFO - 数据库路径: E:\workspace\mh\data\202509\cbg_roles_202509.db
2025-09-16 00:22:31,401 - INFO - 数据库文件是否存在: True
2025-09-16 00:22:31,401 - INFO - 获取角色spider实例...
2025-09-16 00:22:31,402 - INFO - 调用角色spider的save_role_data方法...
2025-09-16 00:22:31,427 - INFO - 成功加载game_auto_config.js配置，包含132个配置项
2025-09-16 00:23:09,367 - INFO - 角色 202312231500113-132-OCM1GQ3H7KJ7 价格从 2666600.0 变更为 2499900，已记录到价格历史
2025-09-16 00:25:29,785 - INFO - 角色 202508160300113-132-57JQH1LN06BW 价格从 1376410.0 变更为 1333300，已记录到价格历史
2025-09-16 00:25:50,695 - INFO - 角色 202508160300113-132-YFVYXUJCEL7C 价格从 888808.0 变更为 888800，已记录到价格历史
2025-09-16 00:26:09,505 - INFO - 角色数据已保存: 15 条
2025-09-16 00:26:09,505 - INFO - 响应数据已保存: role - 15 条记录
2025-09-16 00:26:09,506 - INFO - 检测到页面关闭，停止数据收集服务
2025-09-16 00:26:09,539 - INFO - 检测到浏览器上下文关闭，停止数据收集服务
2025-09-16 00:26:09,941 - INFO - 数据收集已停止
2025-09-16 00:26:09,941 - INFO - 数据收集已停止
2025-09-16 00:26:10,513 - INFO - 数据收集已停止
2025-09-16 00:27:56,394 - INFO - 角色数据已保存: 15 条
2025-09-16 00:27:56,394 - INFO - 响应数据已保存: role - 15 条记录
2025-09-16 00:27:56,395 - INFO - 检测到已登录状态，当前URL: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-16 00:27:56,396 - INFO - 登录状态检查: {'isLoggedIn': True, 'currentUrl': 'https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1', 'message': '已登录'}
2025-09-16 00:27:56,396 - INFO - 检测到已登录状态，更新Cookie...
2025-09-16 00:27:56,500 - INFO - Cookie已更新并保存到 E:\workspace\mh\config\cookies.txt
2025-09-16 00:27:56,500 - INFO - 数据收集已开始，请在浏览器中正常操作...
2025-09-16 00:27:56,500 - INFO - 所有对 recommend.py 的请求将被自动捕获和保存
2025-09-16 00:27:56,524 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1757953484346&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=3&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-16 00:27:56,527 - INFO - 开始保存角色数据，数量: 15
2025-09-16 00:27:56,528 - INFO - 检查角色数据库...
2025-09-16 00:27:56,528 - INFO - 检查数据库类型: role
2025-09-16 00:27:56,528 - INFO - 数据库路径: E:\workspace\mh\data\202509\cbg_roles_202509.db
2025-09-16 00:27:56,528 - INFO - 数据库文件是否存在: True
2025-09-16 00:27:56,528 - INFO - 获取角色spider实例...
2025-09-16 00:27:56,528 - INFO - 调用角色spider的save_role_data方法...
2025-09-16 00:28:38,852 - INFO - 角色 202509020900113-132-OZYHABFNWRGE 价格从 261700.0 变更为 253800，已记录到价格历史
2025-09-16 00:29:17,860 - INFO - 角色 202508181100113-132-BREXKJJQYB0M 价格从 61900.0 变更为 60500，已记录到价格历史
2025-09-16 00:33:33,652 - INFO - 角色数据已保存: 15 条
2025-09-16 00:33:33,653 - INFO - 响应数据已保存: role - 15 条记录
2025-09-16 00:35:34,599 - INFO - 检测到页面关闭，停止数据收集服务
2025-09-16 00:35:34,668 - INFO - 检测到浏览器上下文关闭，停止数据收集服务
2025-09-16 00:35:35,131 - INFO - 数据收集已停止
2025-09-16 00:35:35,131 - INFO - 数据收集已停止
2025-09-16 00:35:35,131 - INFO - 数据收集已停止
2025-09-25 18:12:09,772 - INFO - Spider实例将在需要时延迟创建
2025-09-25 18:12:11,763 - INFO - 成功加载 41 个Cookie
2025-09-25 18:12:11,827 - INFO - 已注入 41 个Cookie到浏览器上下文
2025-09-25 18:12:12,090 - INFO - Playwright浏览器设置完成
2025-09-25 18:12:12,112 - INFO - Playwright网络监听已设置
2025-09-25 18:12:12,112 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-25 18:12:13,845 - INFO - 页面初始加载完成
2025-09-25 18:12:16,380 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1758795133835&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-25 18:12:16,380 - INFO - 开始创建角色spider实例...
2025-09-25 18:12:18,071 - INFO - 装备特征提取器初始化成功
2025-09-25 18:12:18,079 - INFO - 灵饰特征提取器初始化成功
2025-09-25 18:12:18,079 - INFO - 宠物装备特征提取器初始化成功
2025-09-25 18:12:18,087 - INFO - Redis配置: host=47.86.33.98, port=6379, db=0, password=447363121
2025-09-25 18:12:18,557 - INFO - Redis连接成功: 47.86.33.98:6379/0
2025-09-25 18:12:18,627 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-25 18:12:18,635 - WARNING - 获取装备数据采集器实例失败: 'gbk' codec can't encode character '\u2705' in position 0: illegal multibyte sequence
2025-09-25 18:12:18,635 - ERROR - 装备锚点估价器初始化失败: 'gbk' codec can't encode character '\u26a0' in position 0: illegal multibyte sequence
2025-09-25 18:12:18,651 - INFO - 统一特征提取器初始化成功
2025-09-25 18:12:18,660 - INFO - 装备特征提取器初始化成功
2025-09-25 18:12:18,667 - INFO - 灵饰特征提取器初始化成功
2025-09-25 18:12:18,667 - INFO - 宠物装备特征提取器初始化成功
2025-09-25 18:12:18,731 - WARNING - 获取装备数据采集器实例失败: 'gbk' codec can't encode character '\u2705' in position 0: illegal multibyte sequence
2025-09-25 18:12:18,731 - ERROR - 装备锚点估价器初始化失败: 'gbk' codec can't encode character '\u26a0' in position 0: illegal multibyte sequence
2025-09-25 18:12:18,758 - INFO - 统一特征提取器初始化成功
2025-09-25 18:12:19,130 - INFO - 角色特征提取器初始化成功
2025-09-25 18:12:19,135 - ERROR - 角色市场锚定估价器初始化失败: 'gbk' codec can't encode character '\U0001f4be' in position 0: illegal multibyte sequence
2025-09-25 18:12:19,164 - INFO - 宠物特征提取器初始化成功
2025-09-25 18:12:19,237 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-25 18:12:19,238 - INFO - 宠物锚点估价器初始化成功
2025-09-25 18:12:19,251 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-25 18:12:19,251 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-25 21:59:48,222 - INFO - Spider实例将在需要时延迟创建
2025-09-25 21:59:50,127 - INFO - 成功加载 41 个Cookie
2025-09-25 21:59:50,318 - INFO - 已注入 41 个Cookie到浏览器上下文
2025-09-25 21:59:50,660 - INFO - Playwright浏览器设置完成
2025-09-25 21:59:50,666 - INFO - Playwright网络监听已设置
2025-09-25 21:59:50,667 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-25 21:59:51,663 - INFO - 页面初始加载完成
2025-09-25 21:59:53,147 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1758808791649&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-25 21:59:53,147 - INFO - 开始创建角色spider实例...
2025-09-25 21:59:55,280 - INFO - 装备特征提取器初始化成功
2025-09-25 21:59:55,293 - INFO - 灵饰特征提取器初始化成功
2025-09-25 21:59:55,293 - INFO - 宠物装备特征提取器初始化成功
2025-09-25 21:59:55,303 - INFO - Redis配置: host=47.86.33.98, port=6379, db=0, password=447363121
2025-09-25 21:59:55,399 - INFO - Redis连接成功: 47.86.33.98:6379/0
2025-09-25 21:59:55,636 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-25 21:59:55,646 - WARNING - 获取装备数据采集器实例失败: 'gbk' codec can't encode character '\u2705' in position 0: illegal multibyte sequence
2025-09-25 21:59:55,646 - ERROR - 装备锚点估价器初始化失败: 'gbk' codec can't encode character '\u26a0' in position 0: illegal multibyte sequence
2025-09-25 21:59:55,664 - INFO - 统一特征提取器初始化成功
2025-09-25 21:59:55,673 - INFO - 装备特征提取器初始化成功
2025-09-25 21:59:55,684 - INFO - 灵饰特征提取器初始化成功
2025-09-25 21:59:55,684 - INFO - 宠物装备特征提取器初始化成功
2025-09-25 21:59:55,694 - WARNING - 获取装备数据采集器实例失败: 'gbk' codec can't encode character '\u2705' in position 0: illegal multibyte sequence
2025-09-25 21:59:55,694 - ERROR - 装备锚点估价器初始化失败: 'gbk' codec can't encode character '\u26a0' in position 0: illegal multibyte sequence
2025-09-25 21:59:55,716 - INFO - 统一特征提取器初始化成功
2025-09-25 21:59:56,177 - INFO - 角色特征提取器初始化成功
2025-09-25 21:59:56,183 - ERROR - 角色市场锚定估价器初始化失败: 'gbk' codec can't encode character '\U0001f4be' in position 0: illegal multibyte sequence
2025-09-25 21:59:56,200 - INFO - 宠物特征提取器初始化成功
2025-09-25 21:59:56,218 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-25 21:59:56,218 - INFO - 宠物锚点估价器初始化成功
2025-09-25 21:59:56,223 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-25 21:59:56,224 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-25 22:19:43,225 - INFO - Spider实例将在需要时延迟创建
2025-09-25 22:19:44,794 - INFO - 成功加载 45 个Cookie
2025-09-25 22:19:46,388 - INFO - 已注入 45 个Cookie到浏览器上下文
2025-09-25 22:19:46,808 - INFO - Playwright浏览器设置完成
2025-09-25 22:19:46,812 - INFO - Playwright网络监听已设置
2025-09-25 22:19:46,812 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-25 22:19:48,183 - INFO - 页面初始加载完成
2025-09-25 22:19:50,142 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1758809988126&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-25 22:19:50,143 - INFO - 开始创建角色spider实例...
2025-09-25 22:19:51,939 - INFO - 装备特征提取器初始化成功
2025-09-25 22:19:51,955 - INFO - 灵饰特征提取器初始化成功
2025-09-25 22:19:51,955 - INFO - 宠物装备特征提取器初始化成功
2025-09-25 22:19:51,964 - INFO - Redis配置: host=47.86.33.98, port=6379, db=0, password=447363121
2025-09-25 22:19:52,091 - INFO - Redis连接成功: 47.86.33.98:6379/0
2025-09-25 22:19:52,111 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-25 22:19:52,147 - INFO - 装备锚点估价器初始化成功
2025-09-25 22:19:52,170 - INFO - 统一特征提取器初始化成功
2025-09-25 22:19:52,178 - INFO - 装备特征提取器初始化成功
2025-09-25 22:19:52,190 - INFO - 灵饰特征提取器初始化成功
2025-09-25 22:19:52,190 - INFO - 宠物装备特征提取器初始化成功
2025-09-25 22:19:52,221 - INFO - 装备锚点估价器初始化成功
2025-09-25 22:19:52,310 - INFO - 统一特征提取器初始化成功
2025-09-25 22:19:52,668 - INFO - 角色特征提取器初始化成功
2025-09-25 22:19:52,671 - ERROR - 角色市场锚定估价器初始化失败: 'gbk' codec can't encode character '\U0001f4be' in position 0: illegal multibyte sequence
2025-09-25 22:19:52,686 - INFO - 宠物特征提取器初始化成功
2025-09-25 22:19:52,712 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-25 22:19:52,712 - INFO - 宠物锚点估价器初始化成功
2025-09-25 22:19:52,720 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-25 22:19:52,720 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-25 22:31:48,093 - INFO - Spider实例将在需要时延迟创建
2025-09-25 22:31:49,711 - INFO - 成功加载 45 个Cookie
2025-09-25 22:31:49,897 - INFO - 已注入 45 个Cookie到浏览器上下文
2025-09-25 22:31:50,316 - INFO - Playwright浏览器设置完成
2025-09-25 22:31:50,321 - INFO - Playwright网络监听已设置
2025-09-25 22:31:50,321 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-25 22:31:51,348 - INFO - 页面初始加载完成
2025-09-25 22:31:52,702 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1758810711324&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-25 22:31:52,702 - INFO - 开始创建角色spider实例...
2025-09-25 22:31:54,341 - INFO - 装备特征提取器初始化成功
2025-09-25 22:31:54,370 - INFO - 灵饰特征提取器初始化成功
2025-09-25 22:31:54,370 - INFO - 宠物装备特征提取器初始化成功
2025-09-25 22:31:54,382 - INFO - Redis配置: host=47.86.33.98, port=6379, db=0, password=447363121
2025-09-25 22:31:55,025 - INFO - Redis连接成功: 47.86.33.98:6379/0
2025-09-25 22:31:55,051 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-25 22:31:55,088 - INFO - 装备锚点估价器初始化成功
2025-09-25 22:31:55,106 - INFO - 统一特征提取器初始化成功
2025-09-25 22:31:55,114 - INFO - 装备特征提取器初始化成功
2025-09-25 22:31:55,125 - INFO - 灵饰特征提取器初始化成功
2025-09-25 22:31:55,126 - INFO - 宠物装备特征提取器初始化成功
2025-09-25 22:31:55,155 - INFO - 装备锚点估价器初始化成功
2025-09-25 22:31:55,239 - INFO - 统一特征提取器初始化成功
2025-09-25 22:31:55,550 - INFO - 角色特征提取器初始化成功
2025-09-25 22:31:55,555 - ERROR - 角色市场锚定估价器初始化失败: 'gbk' codec can't encode character '\U0001f4be' in position 0: illegal multibyte sequence
2025-09-25 22:31:55,566 - INFO - 宠物特征提取器初始化成功
2025-09-25 22:31:55,839 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-25 22:31:55,839 - INFO - 宠物锚点估价器初始化成功
2025-09-25 22:31:55,844 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-25 22:31:55,844 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-25 22:35:59,861 - INFO - Spider实例将在需要时延迟创建
2025-09-25 22:36:01,564 - INFO - 成功加载 45 个Cookie
2025-09-25 22:36:01,741 - INFO - 已注入 45 个Cookie到浏览器上下文
2025-09-25 22:36:02,160 - INFO - Playwright浏览器设置完成
2025-09-25 22:36:02,164 - INFO - Playwright网络监听已设置
2025-09-25 22:36:02,164 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-25 22:36:03,324 - INFO - 页面初始加载完成
2025-09-25 22:36:04,611 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1758810963229&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-25 22:36:04,611 - INFO - 开始创建角色spider实例...
2025-09-25 22:36:06,795 - INFO - 装备特征提取器初始化成功
2025-09-25 22:36:06,812 - INFO - 灵饰特征提取器初始化成功
2025-09-25 22:36:06,812 - INFO - 宠物装备特征提取器初始化成功
2025-09-25 22:36:06,823 - INFO - Redis配置: host=47.86.33.98, port=6379, db=0, password=447363121
2025-09-25 22:36:06,908 - INFO - Redis连接成功: 47.86.33.98:6379/0
2025-09-25 22:36:06,924 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-25 22:36:06,960 - INFO - 装备锚点估价器初始化成功
2025-09-25 22:36:06,980 - INFO - 统一特征提取器初始化成功
2025-09-25 22:36:06,990 - INFO - 装备特征提取器初始化成功
2025-09-25 22:36:06,999 - INFO - 灵饰特征提取器初始化成功
2025-09-25 22:36:06,999 - INFO - 宠物装备特征提取器初始化成功
2025-09-25 22:36:07,030 - INFO - 装备锚点估价器初始化成功
2025-09-25 22:36:07,109 - INFO - 统一特征提取器初始化成功
2025-09-25 22:36:07,416 - INFO - 角色特征提取器初始化成功
2025-09-25 22:36:07,419 - ERROR - 角色市场锚定估价器初始化失败: 'gbk' codec can't encode character '\U0001f4be' in position 0: illegal multibyte sequence
2025-09-25 22:36:07,431 - INFO - 宠物特征提取器初始化成功
2025-09-25 22:36:07,449 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-25 22:36:07,449 - INFO - 宠物锚点估价器初始化成功
2025-09-25 22:36:07,455 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-25 22:36:07,455 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-25 22:38:34,987 - INFO - Spider实例将在需要时延迟创建
2025-09-25 22:38:36,590 - INFO - 成功加载 45 个Cookie
2025-09-25 22:38:36,723 - INFO - 已注入 45 个Cookie到浏览器上下文
2025-09-25 22:38:37,268 - INFO - Playwright浏览器设置完成
2025-09-25 22:38:37,272 - INFO - Playwright网络监听已设置
2025-09-25 22:38:37,272 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-25 22:38:38,259 - INFO - 页面初始加载完成
2025-09-25 22:38:39,654 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1758811118249&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-25 22:38:39,654 - INFO - 开始创建角色spider实例...
2025-09-25 22:38:41,143 - INFO - 装备特征提取器初始化成功
2025-09-25 22:38:41,157 - INFO - 灵饰特征提取器初始化成功
2025-09-25 22:38:41,157 - INFO - 宠物装备特征提取器初始化成功
2025-09-25 22:38:41,167 - INFO - Redis配置: host=47.86.33.98, port=6379, db=0, password=447363121
2025-09-25 22:38:42,266 - INFO - Redis连接成功: 47.86.33.98:6379/0
2025-09-25 22:38:42,284 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-25 22:38:42,318 - INFO - 装备锚点估价器初始化成功
2025-09-25 22:38:42,336 - INFO - 统一特征提取器初始化成功
2025-09-25 22:38:42,344 - INFO - 装备特征提取器初始化成功
2025-09-25 22:38:42,355 - INFO - 灵饰特征提取器初始化成功
2025-09-25 22:38:42,355 - INFO - 宠物装备特征提取器初始化成功
2025-09-25 22:38:42,384 - INFO - 装备锚点估价器初始化成功
2025-09-25 22:38:42,463 - INFO - 统一特征提取器初始化成功
2025-09-25 22:38:42,803 - INFO - 角色特征提取器初始化成功
2025-09-25 22:38:42,806 - ERROR - 角色市场锚定估价器初始化失败: 'gbk' codec can't encode character '\U0001f4be' in position 0: illegal multibyte sequence
2025-09-25 22:38:42,818 - INFO - 宠物特征提取器初始化成功
2025-09-25 22:38:42,835 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-25 22:38:42,835 - INFO - 宠物锚点估价器初始化成功
2025-09-25 22:38:42,840 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-25 22:38:42,840 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-25 22:41:36,385 - INFO - Spider实例将在需要时延迟创建
2025-09-25 22:41:38,065 - INFO - 成功加载 45 个Cookie
2025-09-25 22:41:38,247 - INFO - 已注入 45 个Cookie到浏览器上下文
2025-09-25 22:41:38,633 - INFO - Playwright浏览器设置完成
2025-09-25 22:41:38,636 - INFO - Playwright网络监听已设置
2025-09-25 22:41:38,637 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-25 22:41:39,591 - INFO - 页面初始加载完成
2025-09-25 22:41:41,549 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1758811299583&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-25 22:41:41,550 - INFO - 开始创建角色spider实例...
2025-09-25 22:41:43,143 - INFO - 装备特征提取器初始化成功
2025-09-25 22:41:43,158 - INFO - 灵饰特征提取器初始化成功
2025-09-25 22:41:43,158 - INFO - 宠物装备特征提取器初始化成功
2025-09-25 22:41:43,171 - INFO - Redis配置: host=47.86.33.98, port=6379, db=0, password=447363121
2025-09-25 22:41:43,271 - INFO - Redis连接成功: 47.86.33.98:6379/0
2025-09-25 22:41:43,291 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-25 22:41:43,329 - INFO - 装备锚点估价器初始化成功
2025-09-25 22:41:43,347 - INFO - 统一特征提取器初始化成功
2025-09-25 22:41:43,355 - INFO - 装备特征提取器初始化成功
2025-09-25 22:41:43,365 - INFO - 灵饰特征提取器初始化成功
2025-09-25 22:41:43,365 - INFO - 宠物装备特征提取器初始化成功
2025-09-25 22:41:43,391 - INFO - 装备锚点估价器初始化成功
2025-09-25 22:41:43,488 - INFO - 统一特征提取器初始化成功
2025-09-25 22:41:43,790 - INFO - 角色特征提取器初始化成功
2025-09-25 22:41:43,792 - ERROR - 角色市场锚定估价器初始化失败: 'gbk' codec can't encode character '\U0001f4be' in position 0: illegal multibyte sequence
2025-09-25 22:41:43,805 - INFO - 宠物特征提取器初始化成功
2025-09-25 22:41:43,824 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-25 22:41:43,824 - INFO - 宠物锚点估价器初始化成功
2025-09-25 22:41:43,831 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-25 22:41:43,831 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-25 22:43:17,353 - INFO - Spider实例将在需要时延迟创建
2025-09-25 22:43:18,931 - INFO - 成功加载 45 个Cookie
2025-09-25 22:43:19,328 - INFO - 已注入 45 个Cookie到浏览器上下文
2025-09-25 22:43:20,022 - INFO - Playwright浏览器设置完成
2025-09-25 22:43:20,027 - INFO - Playwright网络监听已设置
2025-09-25 22:43:20,027 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-25 22:43:21,278 - INFO - 页面初始加载完成
2025-09-25 22:43:22,602 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1758811401214&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-25 22:43:22,602 - INFO - 开始创建角色spider实例...
2025-09-25 22:43:24,416 - INFO - 装备特征提取器初始化成功
2025-09-25 22:43:24,428 - INFO - 灵饰特征提取器初始化成功
2025-09-25 22:43:24,428 - INFO - 宠物装备特征提取器初始化成功
2025-09-25 22:43:24,439 - INFO - Redis配置: host=47.86.33.98, port=6379, db=0, password=447363121
2025-09-25 22:43:24,526 - INFO - Redis连接成功: 47.86.33.98:6379/0
2025-09-25 22:43:24,543 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-25 22:43:24,579 - INFO - 装备锚点估价器初始化成功
2025-09-25 22:43:24,598 - INFO - 统一特征提取器初始化成功
2025-09-25 22:43:24,608 - INFO - 装备特征提取器初始化成功
2025-09-25 22:43:24,617 - INFO - 灵饰特征提取器初始化成功
2025-09-25 22:43:24,617 - INFO - 宠物装备特征提取器初始化成功
2025-09-25 22:43:24,647 - INFO - 装备锚点估价器初始化成功
2025-09-25 22:43:24,727 - INFO - 统一特征提取器初始化成功
2025-09-25 22:43:25,063 - INFO - 角色特征提取器初始化成功
2025-09-25 22:43:25,066 - ERROR - 角色市场锚定估价器初始化失败: 'gbk' codec can't encode character '\U0001f4be' in position 0: illegal multibyte sequence
2025-09-25 22:43:25,078 - INFO - 宠物特征提取器初始化成功
2025-09-25 22:43:25,096 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-25 22:43:25,096 - INFO - 宠物锚点估价器初始化成功
2025-09-25 22:43:25,100 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-25 22:43:25,100 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-25 23:08:44,901 - INFO - Spider实例将在需要时延迟创建
2025-09-25 23:08:46,602 - INFO - 成功加载 45 个Cookie
2025-09-25 23:08:46,778 - INFO - 已注入 45 个Cookie到浏览器上下文
2025-09-25 23:08:47,298 - INFO - Playwright浏览器设置完成
2025-09-25 23:08:47,303 - INFO - Playwright网络监听已设置
2025-09-25 23:08:47,303 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-25 23:08:48,658 - INFO - 页面初始加载完成
2025-09-25 23:08:50,320 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1758812928559&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-25 23:08:50,320 - INFO - 开始创建角色spider实例...
2025-09-25 23:08:52,923 - INFO - 装备特征提取器初始化成功
2025-09-25 23:08:52,943 - INFO - 灵饰特征提取器初始化成功
2025-09-25 23:08:52,943 - INFO - 宠物装备特征提取器初始化成功
2025-09-25 23:08:52,959 - INFO - Redis配置: host=47.86.33.98, port=6379, db=0, password=447363121
2025-09-25 23:08:53,111 - INFO - Redis连接成功: 47.86.33.98:6379/0
2025-09-25 23:08:53,143 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-25 23:08:53,183 - INFO - 装备锚点估价器初始化成功
2025-09-25 23:08:53,204 - INFO - 统一特征提取器初始化成功
2025-09-25 23:08:53,216 - INFO - 装备特征提取器初始化成功
2025-09-25 23:08:53,226 - INFO - 灵饰特征提取器初始化成功
2025-09-25 23:08:53,226 - INFO - 宠物装备特征提取器初始化成功
2025-09-25 23:08:53,259 - INFO - 装备锚点估价器初始化成功
2025-09-25 23:08:53,357 - INFO - 统一特征提取器初始化成功
2025-09-25 23:08:53,724 - INFO - 角色特征提取器初始化成功
2025-09-25 23:08:53,727 - ERROR - 角色市场锚定估价器初始化失败: 'gbk' codec can't encode character '\U0001f4be' in position 0: illegal multibyte sequence
2025-09-25 23:08:53,742 - INFO - 宠物特征提取器初始化成功
2025-09-25 23:08:53,769 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-25 23:08:53,769 - INFO - 宠物锚点估价器初始化成功
2025-09-25 23:08:53,773 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-25 23:08:53,774 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-25 23:11:37,049 - INFO - Spider实例将在需要时延迟创建
2025-09-25 23:11:38,687 - INFO - 成功加载 45 个Cookie
2025-09-25 23:11:38,843 - INFO - 已注入 45 个Cookie到浏览器上下文
2025-09-25 23:11:39,152 - INFO - Playwright浏览器设置完成
2025-09-25 23:11:39,156 - INFO - Playwright网络监听已设置
2025-09-25 23:11:39,156 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-25 23:11:40,305 - INFO - 页面初始加载完成
2025-09-25 23:11:41,715 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1758813100245&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-25 23:11:41,715 - INFO - 开始创建角色spider实例...
2025-09-25 23:11:43,450 - INFO - 装备特征提取器初始化成功
2025-09-25 23:11:43,465 - INFO - 灵饰特征提取器初始化成功
2025-09-25 23:11:43,465 - INFO - 宠物装备特征提取器初始化成功
2025-09-25 23:11:43,474 - INFO - Redis配置: host=47.86.33.98, port=6379, db=0, password=447363121
2025-09-25 23:11:43,628 - INFO - Redis连接成功: 47.86.33.98:6379/0
2025-09-25 23:11:43,654 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-25 23:11:43,689 - INFO - 装备锚点估价器初始化成功
2025-09-25 23:11:43,711 - INFO - 统一特征提取器初始化成功
2025-09-25 23:11:43,719 - INFO - 装备特征提取器初始化成功
2025-09-25 23:11:43,733 - INFO - 灵饰特征提取器初始化成功
2025-09-25 23:11:43,733 - INFO - 宠物装备特征提取器初始化成功
2025-09-25 23:11:43,765 - INFO - 装备锚点估价器初始化成功
2025-09-25 23:11:43,847 - INFO - 统一特征提取器初始化成功
2025-09-25 23:11:44,187 - INFO - 角色特征提取器初始化成功
2025-09-25 23:11:44,204 - ERROR - 角色市场锚定估价器初始化失败: 'gbk' codec can't encode character '\U0001f4be' in position 0: illegal multibyte sequence
2025-09-25 23:11:44,224 - INFO - 宠物特征提取器初始化成功
2025-09-25 23:11:44,257 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-25 23:11:44,257 - INFO - 宠物锚点估价器初始化成功
2025-09-25 23:11:44,262 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-25 23:11:44,262 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-25 23:14:03,482 - INFO - Spider实例将在需要时延迟创建
2025-09-25 23:14:05,042 - INFO - 成功加载 45 个Cookie
2025-09-25 23:14:05,205 - INFO - 已注入 45 个Cookie到浏览器上下文
2025-09-25 23:14:05,632 - INFO - Playwright浏览器设置完成
2025-09-25 23:14:05,636 - INFO - Playwright网络监听已设置
2025-09-25 23:14:05,637 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-25 23:14:06,643 - INFO - 页面初始加载完成
2025-09-25 23:14:09,032 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1758813246629&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-25 23:14:09,032 - INFO - 开始创建角色spider实例...
2025-09-25 23:14:10,722 - INFO - 装备特征提取器初始化成功
2025-09-25 23:14:10,737 - INFO - 灵饰特征提取器初始化成功
2025-09-25 23:14:10,738 - INFO - 宠物装备特征提取器初始化成功
2025-09-25 23:14:10,746 - INFO - Redis配置: host=47.86.33.98, port=6379, db=0, password=447363121
2025-09-25 23:14:11,393 - INFO - Redis连接成功: 47.86.33.98:6379/0
2025-09-25 23:14:11,428 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-25 23:14:11,461 - INFO - 装备锚点估价器初始化成功
2025-09-25 23:14:11,480 - INFO - 统一特征提取器初始化成功
2025-09-25 23:14:11,490 - INFO - 装备特征提取器初始化成功
2025-09-25 23:14:11,498 - INFO - 灵饰特征提取器初始化成功
2025-09-25 23:14:11,498 - INFO - 宠物装备特征提取器初始化成功
2025-09-25 23:14:11,526 - INFO - 装备锚点估价器初始化成功
2025-09-25 23:14:11,605 - INFO - 统一特征提取器初始化成功
2025-09-25 23:14:11,909 - INFO - 角色特征提取器初始化成功
2025-09-25 23:14:11,911 - ERROR - 角色市场锚定估价器初始化失败: 'gbk' codec can't encode character '\U0001f4be' in position 0: illegal multibyte sequence
2025-09-25 23:14:11,924 - INFO - 宠物特征提取器初始化成功
2025-09-25 23:14:11,951 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-25 23:14:11,952 - INFO - 宠物锚点估价器初始化成功
2025-09-25 23:14:11,957 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-25 23:14:11,958 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-25 23:18:13,395 - INFO - Spider实例将在需要时延迟创建
2025-09-25 23:18:15,209 - INFO - 成功加载 45 个Cookie
2025-09-25 23:18:15,343 - INFO - 已注入 45 个Cookie到浏览器上下文
2025-09-25 23:18:15,794 - INFO - Playwright浏览器设置完成
2025-09-25 23:18:15,798 - INFO - Playwright网络监听已设置
2025-09-25 23:18:15,798 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-25 23:18:17,169 - INFO - 页面初始加载完成
2025-09-25 23:18:18,671 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1758813497076&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-25 23:18:18,671 - INFO - 开始创建角色spider实例...
2025-09-25 23:18:20,502 - INFO - 装备特征提取器初始化成功
2025-09-25 23:18:20,522 - INFO - 灵饰特征提取器初始化成功
2025-09-25 23:18:20,522 - INFO - 宠物装备特征提取器初始化成功
2025-09-25 23:18:20,531 - INFO - Redis配置: host=47.86.33.98, port=6379, db=0, password=447363121
2025-09-25 23:18:20,924 - INFO - Redis连接成功: 47.86.33.98:6379/0
2025-09-25 23:18:20,962 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-25 23:18:20,996 - INFO - 装备锚点估价器初始化成功
2025-09-25 23:18:21,015 - INFO - 统一特征提取器初始化成功
2025-09-25 23:18:21,025 - INFO - 装备特征提取器初始化成功
2025-09-25 23:18:21,033 - INFO - 灵饰特征提取器初始化成功
2025-09-25 23:18:21,033 - INFO - 宠物装备特征提取器初始化成功
2025-09-25 23:18:21,062 - INFO - 装备锚点估价器初始化成功
2025-09-25 23:18:21,144 - INFO - 统一特征提取器初始化成功
2025-09-25 23:18:21,448 - INFO - 角色特征提取器初始化成功
2025-09-25 23:18:21,451 - ERROR - 角色市场锚定估价器初始化失败: 'gbk' codec can't encode character '\U0001f4be' in position 0: illegal multibyte sequence
2025-09-25 23:18:21,463 - INFO - 宠物特征提取器初始化成功
2025-09-25 23:18:21,492 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-25 23:18:21,492 - INFO - 宠物锚点估价器初始化成功
2025-09-25 23:18:21,497 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-25 23:18:21,497 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-25 23:22:57,204 - INFO - Spider实例将在需要时延迟创建
2025-09-25 23:22:58,660 - INFO - 成功加载 45 个Cookie
2025-09-25 23:22:58,844 - INFO - 已注入 45 个Cookie到浏览器上下文
2025-09-25 23:22:59,240 - INFO - Playwright浏览器设置完成
2025-09-25 23:22:59,245 - INFO - Playwright网络监听已设置
2025-09-25 23:22:59,245 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-25 23:23:00,529 - INFO - 页面初始加载完成
2025-09-25 23:23:02,044 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1758813780516&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-25 23:23:02,044 - INFO - 开始创建角色spider实例...
2025-09-25 23:23:03,852 - INFO - 装备特征提取器初始化成功
2025-09-25 23:23:03,865 - INFO - 灵饰特征提取器初始化成功
2025-09-25 23:23:03,865 - INFO - 宠物装备特征提取器初始化成功
2025-09-25 23:23:03,873 - INFO - Redis配置: host=47.86.33.98, port=6379, db=0, password=447363121
2025-09-25 23:23:04,006 - INFO - Redis连接成功: 47.86.33.98:6379/0
2025-09-25 23:23:04,027 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-25 23:23:04,062 - INFO - 装备锚点估价器初始化成功
2025-09-25 23:23:04,080 - INFO - 统一特征提取器初始化成功
2025-09-25 23:23:04,088 - INFO - 装备特征提取器初始化成功
2025-09-25 23:23:04,098 - INFO - 灵饰特征提取器初始化成功
2025-09-25 23:23:04,098 - INFO - 宠物装备特征提取器初始化成功
2025-09-25 23:23:04,128 - INFO - 装备锚点估价器初始化成功
2025-09-25 23:23:04,227 - INFO - 统一特征提取器初始化成功
2025-09-25 23:23:04,656 - INFO - 角色特征提取器初始化成功
2025-09-25 23:23:04,663 - INFO - 角色市场锚定估价器初始化成功
2025-09-25 23:23:04,674 - INFO - 宠物特征提取器初始化成功
2025-09-25 23:23:04,707 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-25 23:23:04,707 - INFO - 宠物锚点估价器初始化成功
2025-09-25 23:23:04,713 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-25 23:23:04,713 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-26 10:53:43,297 - INFO - Spider实例将在需要时延迟创建
2025-09-26 10:53:44,660 - INFO - 成功加载 41 个Cookie
2025-09-26 10:53:44,733 - INFO - 已注入 41 个Cookie到浏览器上下文
2025-09-26 10:53:44,992 - INFO - Playwright浏览器设置完成
2025-09-26 10:53:45,021 - INFO - Playwright网络监听已设置
2025-09-26 10:53:45,021 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-26 10:53:46,520 - INFO - 页面初始加载完成
2025-09-26 10:53:48,580 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1758855226514&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-26 10:53:48,580 - INFO - 开始创建角色spider实例...
2025-09-26 10:53:50,152 - INFO - 装备特征提取器初始化成功
2025-09-26 10:53:50,161 - INFO - 灵饰特征提取器初始化成功
2025-09-26 10:53:50,162 - INFO - 宠物装备特征提取器初始化成功
2025-09-26 10:53:50,169 - INFO - Redis配置: host=47.86.33.98, port=6379, db=0, password=447363121
2025-09-26 10:53:50,534 - INFO - Redis连接成功: 47.86.33.98:6379/0
2025-09-26 10:53:50,600 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-26 10:53:50,634 - INFO - 装备锚点估价器初始化成功
2025-09-26 10:53:50,733 - INFO - 统一特征提取器初始化成功
2025-09-26 10:53:50,740 - INFO - 装备特征提取器初始化成功
2025-09-26 10:53:50,751 - INFO - 灵饰特征提取器初始化成功
2025-09-26 10:53:50,751 - INFO - 宠物装备特征提取器初始化成功
2025-09-26 10:53:50,783 - INFO - 装备锚点估价器初始化成功
2025-09-26 10:53:50,822 - INFO - 统一特征提取器初始化成功
2025-09-26 10:53:51,245 - INFO - 角色特征提取器初始化成功
2025-09-26 10:53:51,248 - INFO - 角色市场锚定估价器初始化成功
2025-09-26 10:53:51,311 - INFO - 宠物特征提取器初始化成功
2025-09-26 10:53:51,398 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-26 10:53:51,399 - INFO - 宠物锚点估价器初始化成功
2025-09-26 10:53:51,408 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-26 10:53:51,409 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-26 10:59:10,265 - INFO - Spider实例将在需要时延迟创建
2025-09-26 10:59:11,697 - INFO - 成功加载 45 个Cookie
2025-09-26 10:59:11,775 - INFO - 已注入 45 个Cookie到浏览器上下文
2025-09-26 10:59:12,219 - INFO - Playwright浏览器设置完成
2025-09-26 10:59:12,235 - INFO - Playwright网络监听已设置
2025-09-26 10:59:12,235 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-26 10:59:13,808 - INFO - 页面初始加载完成
2025-09-26 10:59:15,985 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1758855553799&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-26 10:59:15,986 - INFO - 开始创建角色spider实例...
2025-09-26 10:59:18,079 - INFO - 装备特征提取器初始化成功
2025-09-26 10:59:18,088 - INFO - 灵饰特征提取器初始化成功
2025-09-26 10:59:18,088 - INFO - 宠物装备特征提取器初始化成功
2025-09-26 10:59:18,100 - INFO - Redis配置: host=47.86.33.98, port=6379, db=0, password=447363121
2025-09-26 10:59:18,489 - INFO - Redis连接成功: 47.86.33.98:6379/0
2025-09-26 10:59:18,545 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-26 10:59:18,579 - INFO - 装备锚点估价器初始化成功
2025-09-26 10:59:18,639 - INFO - 统一特征提取器初始化成功
2025-09-26 10:59:18,650 - INFO - 装备特征提取器初始化成功
2025-09-26 10:59:18,667 - INFO - 灵饰特征提取器初始化成功
2025-09-26 10:59:18,667 - INFO - 宠物装备特征提取器初始化成功
2025-09-26 10:59:18,690 - INFO - 装备锚点估价器初始化成功
2025-09-26 10:59:18,705 - INFO - 统一特征提取器初始化成功
2025-09-26 10:59:19,044 - INFO - 角色特征提取器初始化成功
2025-09-26 10:59:19,046 - INFO - 角色市场锚定估价器初始化成功
2025-09-26 10:59:19,060 - INFO - 宠物特征提取器初始化成功
2025-09-26 10:59:19,154 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-26 10:59:19,154 - INFO - 宠物锚点估价器初始化成功
2025-09-26 10:59:19,159 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-26 10:59:19,160 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-26 11:29:20,098 - INFO - Spider实例将在需要时延迟创建
2025-09-26 11:29:21,608 - INFO - 成功加载 45 个Cookie
2025-09-26 11:29:21,688 - INFO - 已注入 45 个Cookie到浏览器上下文
2025-09-26 11:29:21,973 - INFO - Playwright浏览器设置完成
2025-09-26 11:29:22,022 - INFO - Playwright网络监听已设置
2025-09-26 11:29:22,022 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-26 11:29:24,277 - INFO - 页面初始加载完成
2025-09-26 11:29:25,735 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1758857364266&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-26 11:29:25,735 - INFO - 开始创建角色spider实例...
2025-09-26 11:29:27,121 - INFO - 装备特征提取器初始化成功
2025-09-26 11:29:27,129 - INFO - 灵饰特征提取器初始化成功
2025-09-26 11:29:27,129 - INFO - 宠物装备特征提取器初始化成功
2025-09-26 11:29:27,137 - INFO - Redis配置: host=47.86.33.98, port=6379, db=0, password=447363121
2025-09-26 11:29:27,559 - INFO - Redis连接成功: 47.86.33.98:6379/0
2025-09-26 11:29:27,651 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-26 11:29:27,698 - INFO - 装备锚点估价器初始化成功
2025-09-26 11:29:27,780 - INFO - 统一特征提取器初始化成功
2025-09-26 11:29:27,787 - INFO - 装备特征提取器初始化成功
2025-09-26 11:29:27,797 - INFO - 灵饰特征提取器初始化成功
2025-09-26 11:29:27,797 - INFO - 宠物装备特征提取器初始化成功
2025-09-26 11:29:27,826 - INFO - 装备锚点估价器初始化成功
2025-09-26 11:29:27,845 - INFO - 统一特征提取器初始化成功
2025-09-26 11:29:28,212 - INFO - 角色特征提取器初始化成功
2025-09-26 11:29:28,215 - INFO - 角色市场锚定估价器初始化成功
2025-09-26 11:29:28,230 - INFO - 宠物特征提取器初始化成功
2025-09-26 11:29:28,315 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-26 11:29:28,315 - INFO - 宠物锚点估价器初始化成功
2025-09-26 11:29:28,319 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-26 11:29:28,320 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-26 12:42:32,033 - INFO - Spider实例将在需要时延迟创建
2025-09-26 12:42:34,089 - INFO - 成功加载 45 个Cookie
2025-09-26 12:42:34,168 - INFO - 已注入 45 个Cookie到浏览器上下文
2025-09-26 12:42:34,510 - INFO - Playwright浏览器设置完成
2025-09-26 12:42:34,527 - INFO - Playwright网络监听已设置
2025-09-26 12:42:34,527 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-26 12:42:36,592 - INFO - 页面初始加载完成
2025-09-26 12:42:38,040 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1758861756511&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-26 12:42:38,040 - INFO - 开始创建角色spider实例...
2025-09-26 12:42:39,627 - INFO - 装备特征提取器初始化成功
2025-09-26 12:42:39,637 - INFO - 灵饰特征提取器初始化成功
2025-09-26 12:42:39,637 - INFO - 宠物装备特征提取器初始化成功
2025-09-26 12:42:39,647 - INFO - Redis配置: host=47.86.33.98, port=6379, db=0, password=447363121
2025-09-26 12:42:40,079 - INFO - Redis连接成功: 47.86.33.98:6379/0
2025-09-26 12:42:40,144 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-26 12:42:40,179 - INFO - 装备锚点估价器初始化成功
2025-09-26 12:42:40,239 - INFO - 统一特征提取器初始化成功
2025-09-26 12:42:40,247 - INFO - 装备特征提取器初始化成功
2025-09-26 12:42:40,255 - INFO - 灵饰特征提取器初始化成功
2025-09-26 12:42:40,255 - INFO - 宠物装备特征提取器初始化成功
2025-09-26 12:42:40,281 - INFO - 装备锚点估价器初始化成功
2025-09-26 12:42:40,297 - INFO - 统一特征提取器初始化成功
2025-09-26 12:42:40,626 - INFO - 角色特征提取器初始化成功
2025-09-26 12:42:40,629 - INFO - 角色市场锚定估价器初始化成功
2025-09-26 12:42:40,645 - INFO - 宠物特征提取器初始化成功
2025-09-26 12:42:40,717 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-26 12:42:40,717 - INFO - 宠物锚点估价器初始化成功
2025-09-26 12:42:40,723 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-26 12:42:40,723 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-26 12:49:19,703 - INFO - Spider实例将在需要时延迟创建
2025-09-26 12:49:21,332 - INFO - 成功加载 45 个Cookie
2025-09-26 12:49:21,379 - INFO - 已注入 45 个Cookie到浏览器上下文
2025-09-26 12:49:21,843 - INFO - Playwright浏览器设置完成
2025-09-26 12:49:21,862 - INFO - Playwright网络监听已设置
2025-09-26 12:49:21,862 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-26 12:49:24,591 - INFO - 页面初始加载完成
2025-09-26 12:49:26,161 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1758862164582&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-26 12:49:26,161 - INFO - 开始创建角色spider实例...
2025-09-26 12:49:28,244 - INFO - 装备特征提取器初始化成功
2025-09-26 12:49:28,252 - INFO - 灵饰特征提取器初始化成功
2025-09-26 12:49:28,252 - INFO - 宠物装备特征提取器初始化成功
2025-09-26 12:49:28,259 - INFO - Redis配置: host=47.86.33.98, port=6379, db=0, password=447363121
2025-09-26 12:49:28,664 - INFO - Redis连接成功: 47.86.33.98:6379/0
2025-09-26 12:49:28,730 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-26 12:49:28,760 - INFO - 装备锚点估价器初始化成功
2025-09-26 12:49:28,813 - INFO - 统一特征提取器初始化成功
2025-09-26 12:49:28,822 - INFO - 装备特征提取器初始化成功
2025-09-26 12:49:28,829 - INFO - 灵饰特征提取器初始化成功
2025-09-26 12:49:28,829 - INFO - 宠物装备特征提取器初始化成功
2025-09-26 12:49:28,851 - INFO - 装备锚点估价器初始化成功
2025-09-26 12:49:28,864 - INFO - 统一特征提取器初始化成功
2025-09-26 12:49:29,192 - INFO - 角色特征提取器初始化成功
2025-09-26 12:49:29,195 - INFO - 角色市场锚定估价器初始化成功
2025-09-26 12:49:29,211 - INFO - 宠物特征提取器初始化成功
2025-09-26 12:49:29,275 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-26 12:49:29,275 - INFO - 宠物锚点估价器初始化成功
2025-09-26 12:49:29,281 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-26 12:49:29,282 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-26 16:12:01,183 - INFO - Spider实例将在需要时延迟创建
2025-09-26 16:12:02,794 - INFO - 成功加载 41 个Cookie
2025-09-26 16:12:02,864 - INFO - 已注入 41 个Cookie到浏览器上下文
2025-09-26 16:12:03,156 - INFO - Playwright浏览器设置完成
2025-09-26 16:12:03,175 - INFO - Playwright网络监听已设置
2025-09-26 16:12:03,176 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-26 16:12:03,935 - INFO - 页面初始加载完成
2025-09-26 16:12:05,592 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1758874325380&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-26 16:12:05,592 - INFO - 开始创建角色spider实例...
2025-09-26 16:12:07,125 - INFO - 装备特征提取器初始化成功
2025-09-26 16:12:07,135 - INFO - 灵饰特征提取器初始化成功
2025-09-26 16:12:07,135 - INFO - 宠物装备特征提取器初始化成功
2025-09-26 16:12:07,142 - INFO - Redis配置: host=47.86.33.98, port=6379, db=0, password=447363121
2025-09-26 16:12:07,560 - INFO - Redis连接成功: 47.86.33.98:6379/0
2025-09-26 16:12:07,624 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-26 16:12:07,925 - INFO - 📡 订阅频道: equipment_updates
2025-09-26 16:12:07,926 - INFO - 📡 启动Redis订阅线程
2025-09-26 16:12:07,926 - INFO - ✅ Redis发布/订阅初始化成功，已订阅装备数据更新频道
2025-09-26 16:12:07,957 - INFO - 装备锚点估价器初始化成功
2025-09-26 16:12:07,971 - INFO - 统一特征提取器初始化成功
2025-09-26 16:12:08,028 - INFO - 装备特征提取器初始化成功
2025-09-26 16:12:08,040 - INFO - 灵饰特征提取器初始化成功
2025-09-26 16:12:08,040 - INFO - 宠物装备特征提取器初始化成功
2025-09-26 16:12:08,071 - INFO - 装备锚点估价器初始化成功
2025-09-26 16:12:08,110 - INFO - 统一特征提取器初始化成功
2025-09-26 16:12:08,571 - INFO - 角色特征提取器初始化成功
2025-09-26 16:12:08,574 - INFO - 角色市场锚定估价器初始化成功
2025-09-26 16:12:08,592 - INFO - 宠物特征提取器初始化成功
2025-09-26 16:12:08,678 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-26 16:12:08,678 - INFO - 宠物锚点估价器初始化成功
2025-09-26 16:12:08,686 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-26 16:12:08,686 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-26 17:32:33,916 - INFO - Spider实例将在需要时延迟创建
2025-09-26 17:32:35,439 - INFO - 成功加载 41 个Cookie
2025-09-26 17:32:35,521 - INFO - 已注入 41 个Cookie到浏览器上下文
2025-09-26 17:32:35,847 - INFO - Playwright浏览器设置完成
2025-09-26 17:32:35,866 - INFO - Playwright网络监听已设置
2025-09-26 17:32:35,866 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-26 17:32:37,693 - INFO - 页面初始加载完成
2025-09-26 17:32:39,271 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1758879157682&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-26 17:32:39,271 - INFO - 开始创建角色spider实例...
2025-09-26 17:32:40,955 - INFO - 装备特征提取器初始化成功
2025-09-26 17:32:40,962 - INFO - 灵饰特征提取器初始化成功
2025-09-26 17:32:40,962 - INFO - 宠物装备特征提取器初始化成功
2025-09-26 17:32:40,972 - INFO - Redis配置: host=47.86.33.98, port=6379, db=0, password=447363121
2025-09-26 17:32:41,099 - INFO - Redis连接成功: 47.86.33.98:6379/0
2025-09-26 17:32:41,119 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-26 17:32:41,208 - INFO - 📡 订阅频道: equipment_updates
2025-09-26 17:32:41,210 - INFO - 📡 启动Redis订阅线程
2025-09-26 17:32:41,210 - INFO - ✅ Redis发布/订阅初始化成功，已订阅装备数据更新频道
2025-09-26 17:32:41,241 - INFO - 装备锚点估价器初始化成功
2025-09-26 17:32:41,294 - INFO - 统一特征提取器初始化成功
2025-09-26 17:32:41,305 - INFO - 装备特征提取器初始化成功
2025-09-26 17:32:41,312 - INFO - 灵饰特征提取器初始化成功
2025-09-26 17:32:41,312 - INFO - 宠物装备特征提取器初始化成功
2025-09-26 17:32:41,338 - INFO - 装备锚点估价器初始化成功
2025-09-26 17:32:41,351 - INFO - 统一特征提取器初始化成功
2025-09-26 17:32:41,667 - INFO - 角色特征提取器初始化成功
2025-09-26 17:32:41,672 - INFO - 角色市场锚定估价器初始化成功
2025-09-26 17:32:41,686 - INFO - 宠物特征提取器初始化成功
2025-09-26 17:32:41,712 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-26 17:32:41,712 - INFO - 宠物锚点估价器初始化成功
2025-09-26 17:32:41,719 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-26 17:32:41,719 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-26 17:40:57,721 - INFO - Spider实例将在需要时延迟创建
2025-09-26 17:40:59,367 - INFO - 成功加载 45 个Cookie
2025-09-26 17:40:59,445 - INFO - 已注入 45 个Cookie到浏览器上下文
2025-09-26 17:40:59,761 - INFO - Playwright浏览器设置完成
2025-09-26 17:40:59,779 - INFO - Playwright网络监听已设置
2025-09-26 17:40:59,779 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-26 17:41:01,617 - INFO - 页面初始加载完成
2025-09-26 17:41:03,045 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1758879661610&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-26 17:41:03,045 - INFO - 开始创建角色spider实例...
2025-09-26 17:41:04,766 - INFO - 装备特征提取器初始化成功
2025-09-26 17:41:04,777 - INFO - 灵饰特征提取器初始化成功
2025-09-26 17:41:04,777 - INFO - 宠物装备特征提取器初始化成功
2025-09-26 17:41:04,786 - INFO - Redis配置: host=47.86.33.98, port=6379, db=0, password=447363121
2025-09-26 17:41:04,925 - INFO - Redis连接成功: 47.86.33.98:6379/0
2025-09-26 17:41:04,950 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-26 17:41:05,058 - INFO - 📡 订阅频道: equipment_updates
2025-09-26 17:41:05,064 - INFO - 📡 启动Redis订阅线程
2025-09-26 17:41:05,064 - INFO - ✅ Redis发布/订阅初始化成功，已订阅装备数据更新频道
2025-09-26 17:41:05,124 - INFO - 装备锚点估价器初始化成功
2025-09-26 17:41:05,227 - INFO - 统一特征提取器初始化成功
2025-09-26 17:41:05,237 - INFO - 装备特征提取器初始化成功
2025-09-26 17:41:05,245 - INFO - 灵饰特征提取器初始化成功
2025-09-26 17:41:05,245 - INFO - 宠物装备特征提取器初始化成功
2025-09-26 17:41:05,277 - INFO - 装备锚点估价器初始化成功
2025-09-26 17:41:05,300 - INFO - 统一特征提取器初始化成功
2025-09-26 17:41:05,706 - INFO - 角色特征提取器初始化成功
2025-09-26 17:41:05,710 - INFO - 角色市场锚定估价器初始化成功
2025-09-26 17:41:05,728 - INFO - 宠物特征提取器初始化成功
2025-09-26 17:41:05,778 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-26 17:41:05,778 - INFO - 宠物锚点估价器初始化成功
2025-09-26 17:41:05,783 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-26 17:41:05,784 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-26 17:42:34,446 - INFO - Spider实例将在需要时延迟创建
2025-09-26 17:42:35,941 - INFO - 成功加载 45 个Cookie
2025-09-26 17:42:36,007 - INFO - 已注入 45 个Cookie到浏览器上下文
2025-09-26 17:42:36,263 - INFO - Playwright浏览器设置完成
2025-09-26 17:42:36,280 - INFO - Playwright网络监听已设置
2025-09-26 17:42:36,280 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-26 17:42:37,991 - INFO - 页面初始加载完成
2025-09-26 17:42:39,490 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1758879757979&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-26 17:42:39,491 - INFO - 开始创建角色spider实例...
2025-09-26 17:42:40,974 - INFO - 装备特征提取器初始化成功
2025-09-26 17:42:40,981 - INFO - 灵饰特征提取器初始化成功
2025-09-26 17:42:40,981 - INFO - 宠物装备特征提取器初始化成功
2025-09-26 17:42:40,992 - INFO - Redis配置: host=47.86.33.98, port=6379, db=0, password=447363121
2025-09-26 17:42:41,124 - INFO - Redis连接成功: 47.86.33.98:6379/0
2025-09-26 17:42:41,159 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-26 17:42:41,304 - INFO - 📡 订阅频道: equipment_updates
2025-09-26 17:42:41,306 - INFO - 📡 启动Redis订阅线程
2025-09-26 17:42:41,306 - INFO - ✅ Redis发布/订阅初始化成功，已订阅装备数据更新频道
2025-09-26 17:42:41,342 - INFO - 装备锚点估价器初始化成功
2025-09-26 17:42:41,403 - INFO - 统一特征提取器初始化成功
2025-09-26 17:42:41,411 - INFO - 装备特征提取器初始化成功
2025-09-26 17:42:41,420 - INFO - 灵饰特征提取器初始化成功
2025-09-26 17:42:41,421 - INFO - 宠物装备特征提取器初始化成功
2025-09-26 17:42:41,447 - INFO - 装备锚点估价器初始化成功
2025-09-26 17:42:41,463 - INFO - 统一特征提取器初始化成功
2025-09-26 17:42:41,788 - INFO - 角色特征提取器初始化成功
2025-09-26 17:42:41,790 - INFO - 角色市场锚定估价器初始化成功
2025-09-26 17:42:41,807 - INFO - 宠物特征提取器初始化成功
2025-09-26 17:42:41,833 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-26 17:42:41,833 - INFO - 宠物锚点估价器初始化成功
2025-09-26 17:42:41,840 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-26 17:42:41,841 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-26 17:57:45,389 - INFO - Spider实例将在需要时延迟创建
2025-09-26 17:57:47,050 - INFO - 成功加载 45 个Cookie
2025-09-26 17:57:47,131 - INFO - 已注入 45 个Cookie到浏览器上下文
2025-09-26 17:57:47,413 - INFO - Playwright浏览器设置完成
2025-09-26 17:57:47,429 - INFO - Playwright网络监听已设置
2025-09-26 17:57:47,429 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-26 17:57:48,644 - INFO - 页面初始加载完成
2025-09-26 17:57:50,488 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1758880668635&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-26 17:57:50,488 - INFO - 开始创建角色spider实例...
2025-09-26 17:57:52,033 - INFO - 装备特征提取器初始化成功
2025-09-26 17:57:52,043 - INFO - 灵饰特征提取器初始化成功
2025-09-26 17:57:52,043 - INFO - 宠物装备特征提取器初始化成功
2025-09-26 17:57:52,054 - INFO - Redis配置: host=47.86.33.98, port=6379, db=0, password=447363121
2025-09-26 17:57:52,159 - INFO - Redis连接成功: 47.86.33.98:6379/0
2025-09-26 17:57:52,183 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-26 17:57:52,296 - INFO - 📡 订阅频道: equipment_updates
2025-09-26 17:57:52,313 - INFO - 📡 启动Redis订阅线程
2025-09-26 17:57:52,313 - INFO - ✅ Redis发布/订阅初始化成功，已订阅装备数据更新频道
2025-09-26 17:57:52,374 - INFO - 装备锚点估价器初始化成功
2025-09-26 17:57:52,493 - INFO - 统一特征提取器初始化成功
2025-09-26 17:57:52,507 - INFO - 装备特征提取器初始化成功
2025-09-26 17:57:52,522 - INFO - 灵饰特征提取器初始化成功
2025-09-26 17:57:52,522 - INFO - 宠物装备特征提取器初始化成功
2025-09-26 17:57:52,574 - INFO - 装备锚点估价器初始化成功
2025-09-26 17:57:52,618 - INFO - 统一特征提取器初始化成功
2025-09-26 17:57:53,013 - INFO - 角色特征提取器初始化成功
2025-09-26 17:57:53,016 - INFO - 角色市场锚定估价器初始化成功
2025-09-26 17:57:53,032 - INFO - 宠物特征提取器初始化成功
2025-09-26 17:57:53,051 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-26 17:57:53,051 - INFO - 宠物锚点估价器初始化成功
2025-09-26 17:57:53,059 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-26 17:57:53,059 - INFO - 成功从config/cookies.txt加载Cookie
2025-09-27 07:58:39,085 - INFO - Spider实例将在需要时延迟创建
2025-09-27 07:58:41,011 - INFO - 成功加载 41 个Cookie
2025-09-27 07:58:41,200 - INFO - 已注入 41 个Cookie到浏览器上下文
2025-09-27 07:58:41,679 - INFO - Playwright浏览器设置完成
2025-09-27 07:58:41,685 - INFO - Playwright网络监听已设置
2025-09-27 07:58:41,685 - INFO - 正在访问: https://xyq.cbg.163.com/cgi-bin/query.py?act=recommend_search&recommend_type=1
2025-09-27 07:58:44,441 - INFO - 页面初始加载完成
2025-09-27 07:58:45,764 - INFO - 捕获到类型（role）的响应: https://xyq.cbg.163.com/cgi-bin/recommend.py?callback=Request.JSONP.request_map.request_0&_=1758931124427&act=recommd_by_role&server_id=132&areaid=54&server_name=%E8%A5%BF%E6%A0%85%E8%80%81%E8%A1%97&page=1&kindid=27&recommend_type=1&view_loc=reco_left&count=15 
2025-09-27 07:58:45,764 - INFO - 开始创建角色spider实例...
2025-09-27 07:58:47,794 - INFO - 装备特征提取器初始化成功
2025-09-27 07:58:47,808 - INFO - 灵饰特征提取器初始化成功
2025-09-27 07:58:47,808 - INFO - 宠物装备特征提取器初始化成功
2025-09-27 07:58:47,820 - INFO - Redis配置: host=47.86.33.98, port=6379, db=0, password=447363121
2025-09-27 07:58:47,903 - INFO - Redis连接成功: 47.86.33.98:6379/0
2025-09-27 07:58:47,919 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-27 07:58:47,920 - WARNING - ⚠️ Redis发布/订阅初始化失败: name 'pd' is not defined
2025-09-27 07:58:47,961 - INFO - 装备锚点估价器初始化成功
2025-09-27 07:58:47,980 - INFO - 统一特征提取器初始化成功
2025-09-27 07:58:47,991 - INFO - 装备特征提取器初始化成功
2025-09-27 07:58:48,001 - INFO - 灵饰特征提取器初始化成功
2025-09-27 07:58:48,002 - INFO - 宠物装备特征提取器初始化成功
2025-09-27 07:58:48,029 - INFO - 装备锚点估价器初始化成功
2025-09-27 07:58:48,111 - INFO - 统一特征提取器初始化成功
2025-09-27 07:58:48,494 - INFO - 角色特征提取器初始化成功
2025-09-27 07:58:48,497 - INFO - 角色市场锚定估价器初始化成功
2025-09-27 07:58:48,510 - INFO - 宠物特征提取器初始化成功
2025-09-27 07:58:48,526 - INFO - Redis缓存初始化成功，将使用Redis全量缓存模式
2025-09-27 07:58:48,526 - INFO - 宠物锚点估价器初始化成功
2025-09-27 07:58:48,530 - INFO - CBGSpider模块导入成功，开始实例化...
2025-09-27 07:58:48,531 - INFO - 成功从config/cookies.txt加载Cookie
