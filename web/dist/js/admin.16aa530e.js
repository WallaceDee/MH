(function(){var e={54:function(e){"use strict";e.exports="data:image/webp;base64,UklGRmgBAABXRUJQVlA4WAoAAAAQAAAAEgAAEgAAQUxQSF0AAAABcBrJtlSdEJE3hJsJMTyJolBIJIU88kqiWe/CXwKIiAmAK8dTkFRbHTMNpv2IbXIGHlkbAKgdeSpgR9UgLI1y/HthqRfUFkBZmBVAY2pteDYm2ODrRoebItk5HVwAVlA4IOQAAADQBACdASoTABMAPpFAmkolo6IhqAgAsBIJbAC/7dwLdpI1c3paX9GCTKQFH0AW4AD+U7bhM8os8I1k77uom/0LW/HKsA75VzAhQeBpEFrKtSH/hRQ4QursgbUUgs8g2A00YpUqvAyFKe82Vml2rf1LIryYWX8dmsXT/EKYbRstNdvcqZYzIBqtvg8Rwh9htZzZC3YHAfsCfNRZW5Ibm7sh1FjEmqefCGUrTG/M1J1wwYHoy1wynpPwvnxUkz/HzMia/rdZFRX1+kpT/v+B0ON8TGZgaIyU0vETlLqUiB7/xKK6AAA="},1264:function(e,t,s){"use strict";var i=s(2856),a=s(5179),r=(s(8111),s(3579),s(1594)),n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"home"},[t("AutoParams",{attrs:{isRunning:e.isRunning,log:!1},on:{"update:isRunning":function(t){e.isRunning=t},"update:is-running":function(t){e.isRunning=t}}}),t("LogMonitor",{attrs:{isRunning:e.isRunning}})],1)},l=[],o=s(3014),c=s(7889),_={name:"HomeView",components:{AutoParams:o.A,LogMonitor:c.A},data(){return{isRunning:!1,cacheCleanupTimer:null}},mounted(){this.$nextTick(()=>{this.$store.dispatch("cookie/cleanExpiredCache"),this.cacheCleanupTimer=setInterval(()=>{this.$store.dispatch("cookie/cleanExpiredCache")},6e4)})},beforeDestroy(){this.cacheCleanupTimer&&clearInterval(this.cacheCleanupTimer)}},p=_,u=s(1656),d=(0,u.A)(p,n,l,!1,null,"a333e914",null),h=d.exports;i["default"].use(r.Ay);const m=[{path:"/",name:"Home",component:h,meta:{showHeader:!0,requiresAuth:!0}},{path:"/auto-params",name:"AutoParams",component:o.A,meta:{title:"",requiresAuth:!0}},{path:"/roles/:type/:levelRange/:page?",name:"RoleList",component:()=>Promise.all([s.e(414),s.e(427),s.e(127)]).then(s.bind(s,9322)),meta:{title:"è§’è‰²åˆ—è¡¨",showHeader:!0,requiresAuth:!0}},{path:"/equipments",name:"EquipmentList",component:()=>Promise.all([s.e(414),s.e(924)]).then(s.bind(s,1986)),meta:{title:"è£…å¤‡åˆ—è¡¨",showHeader:!0,requiresAuth:!0}},{path:"/equipments/:equip_sn",name:"EquipmentDetail",component:()=>s.e(480).then(s.bind(s,4480)),meta:{title:"è£…å¤‡è¯¦æƒ…",showHeader:!0,requiresAuth:!0}},{path:"/pets",name:"PetList",component:()=>Promise.all([s.e(414),s.e(427),s.e(635)]).then(s.bind(s,2726)),meta:{title:"å¬å”¤å…½åˆ—è¡¨",showHeader:!0,requiresAuth:!0}},{path:"/equipment-desc-creator",name:"EquipmentDescCreator",component:()=>Promise.all([s.e(414),s.e(518)]).then(s.bind(s,2740)),meta:{title:"è£…å¤‡æ¨¡æ‹Ÿ",showHeader:!0,requiresAuth:!0}},{path:"/market-data-status",name:"MarketDataStatus",component:()=>s.e(826).then(s.bind(s,8826)),meta:{title:"å¸‚åœºæ•°æ®çŠ¶æ€",showHeader:!0,requiresAuth:!0}},{path:"/admin/users",name:"UserManagement",component:()=>s.e(818).then(s.bind(s,818)),meta:{title:"ç”¨æˆ·ç®¡ç†",showHeader:!0,requiresAuth:!0}},{path:"/login",name:"Login",component:()=>s.e(927).then(s.bind(s,3927)),meta:{title:"ç™»å½•",showHeader:!1}}],g=new r.Ay({base:"",routes:m});g.beforeEach((e,t,s)=>{if(document.title=e.meta.title||"ğŸ‘ï¸æ¢¦å¹»çµç³",e.matched.some(e=>e.meta.requiresAuth)){const t=localStorage.getItem("auth_token"),a=localStorage.getItem("user_info");if(t&&a)try{const t=JSON.parse(a);if(t&&t.username){if(!t.is_admin)return console.warn("éç®¡ç†å‘˜ç”¨æˆ·ï¼Œæ— æ³•è®¿é—®åå°ç®¡ç†"),localStorage.removeItem("auth_token"),localStorage.removeItem("user_info"),void s({path:"/login",query:{redirect:e.fullPath}});s()}else console.warn("ç”¨æˆ·ä¿¡æ¯æ— æ•ˆï¼Œæ¸…é™¤å¹¶é‡å®šå‘åˆ°ç™»å½•é¡µ"),localStorage.removeItem("auth_token"),localStorage.removeItem("user_info"),s({path:"/login",query:{redirect:e.fullPath}})}catch(i){console.error("è§£æç”¨æˆ·ä¿¡æ¯å¤±è´¥:",i),localStorage.removeItem("auth_token"),localStorage.removeItem("user_info"),s({path:"/login",query:{redirect:e.fullPath}})}else console.log("æœªç™»å½•ï¼Œé‡å®šå‘åˆ°ç™»å½•é¡µ:",e.fullPath),s({path:"/login",query:{redirect:e.fullPath}})}else s()});var v=g,f=s(1153),y=s(4927),w=s.n(y),b=s(9105),S=s(7385);i["default"].config.productionTip=!1,i["default"].use(w(),{size:"mini"}),i["default"].use(S.A),i["default"].prototype.$api=b.Ay,new i["default"]({router:v,store:f.A,render:e=>e(a.A)}).$mount("#app")},1878:function(e,t,s){"use strict";s(8111),s(7588),s(4603),s(7566),s(8721);class i{constructor(){this.channelName="similar-window-reuse",this.channel=null,this.windowId=null,this.isSetup=!1,this.setup()}setup(){try{this.channel=new BroadcastChannel(this.channelName),this.windowId=this.generateWindowId(),this.setupMessageListener(),this.isSetup=!0,window.addEventListener("beforeunload",()=>{this.cleanup()}),console.log("WindowReuseManager setup completed, windowId:",this.windowId)}catch(e){console.warn("Failed to setup WindowReuseManager:",e)}}generateWindowId(){return`window_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}setupMessageListener(){this.channel&&(this.channel.onmessage=e=>{const{type:t,params:s,windowId:i,timestamp:a}=e.data;switch(t){case"check-window":this.handleCheckWindow(s,a);break;case"focus-window":this.handleFocusWindow(i,a);break;case"update-params":this.handleUpdateParams(s,a);break;default:console.log("Unknown message type:",t)}})}handleCheckWindow(e,t){console.log("ğŸ” æ”¶åˆ°çª—å£æ£€æŸ¥è¯·æ±‚ï¼Œå½“å‰çª—å£ID:",this.windowId),console.log("ğŸ” æ£€æŸ¥å‚æ•°:",e),this.isWindowCompatible(e)?(console.log("âœ… å½“å‰çª—å£å…¼å®¹ï¼Œå‘é€å¯ç”¨æ¶ˆæ¯"),this.channel.postMessage({type:"window-available",windowId:this.windowId,params:e,timestamp:Date.now()})):console.log("âŒ å½“å‰çª—å£ä¸å…¼å®¹ï¼Œå¿½ç•¥è¯·æ±‚")}handleFocusWindow(e,t){e===this.windowId&&this.focusWindow()}handleUpdateParams(e,t){console.log("ğŸ“¨ æ”¶åˆ°å‚æ•°æ›´æ–°è¯·æ±‚:",e),this.isWindowCompatible(e)?(console.log("âœ… çª—å£å…¼å®¹ï¼Œå¼€å§‹æ›´æ–°å‚æ•°..."),this.refreshWithNewUrl(e)):(console.log("âŒ çª—å£ä¸å…¼å®¹ï¼Œå¿½ç•¥å‚æ•°æ›´æ–°è¯·æ±‚"),console.log("å½“å‰çª—å£å‚æ•°ä¸è¯·æ±‚å‚æ•°ä¸åŒ¹é…ï¼Œæ— æ³•æ›´æ–°"))}isWindowCompatible(e){try{const t=window.location.href;if(console.log("ğŸ” æ£€æŸ¥çª—å£å…¼å®¹æ€§ï¼Œå½“å‰URL:",t),!t.includes("/admin/#/auto-params")&&!t.includes("#/admin/auto-params"))return console.log("âŒ ä¸æ˜¯auto-paramsé¡µé¢"),!1;let s;if(window.location.hash&&window.location.hash.includes("?")){const e=window.location.hash.split("?")[1];console.log("ğŸ” ä»hashä¸­æå–æŸ¥è¯¢å‚æ•°:",e),s=new URLSearchParams(e)}else console.log("ğŸ” ä»searchä¸­è·å–å‚æ•°:",window.location.search),s=new URLSearchParams(window.location.search);const i=s.get("action"),a=s.get("equip_type");return console.log("ğŸ” å½“å‰é¡µé¢å‚æ•° - action:",i,"equip_type:",a),console.log("ğŸ” è¯·æ±‚å‚æ•° - action:",e.action,"equip_type:",e.equip_type),i!==e.action?(console.log("âŒ actionä¸åŒ¹é…"),!1):e.equip_type&&a!==e.equip_type?(console.log("âŒ equip_typeä¸åŒ¹é…"),!1):(console.log("âœ… çª—å£å…¼å®¹æ€§æ£€æŸ¥é€šè¿‡"),!0)}catch(t){return console.warn("Error checking window compatibility:",t),!1}}focusWindow(){try{window.focus&&window.focus(),window.screen&&window.screen.orientation&&window.focus(),window.scrollTo(0,0),console.log("Window focused:",this.windowId)}catch(e){console.warn("Failed to focus window:",e)}}updateWindowParams(e){try{let t;if(window.location.hash&&window.location.hash.includes("?")){const[s,i]=window.location.hash.split("?"),a=new URLSearchParams(i);Object.keys(e).forEach(t=>{void 0!==e[t]&&null!==e[t]&&a.set(t,e[t])}),t=`${s}?${a.toString()}`}else{const s=new URL(window.location);Object.keys(e).forEach(t=>{void 0!==e[t]&&null!==e[t]&&s.searchParams.set(t,e[t])}),t=s.toString()}window.history.replaceState({},"",t);const s=new CustomEvent("params-updated",{detail:{params:e,timestamp:Date.now()}});window.dispatchEvent(s),console.log("ğŸ“¢ å·²è§¦å‘å‚æ•°æ›´æ–°äº‹ä»¶:",s),console.log("Window params updated:",e)}catch(t){console.warn("Failed to update window params:",t)}}refreshWithNewUrl(e){try{let t;if(window.location.hash&&window.location.hash.includes("?")){const[s,i]=window.location.hash.split("?"),a=new URLSearchParams(i);Object.keys(e).forEach(t=>{void 0!==e[t]&&null!==e[t]&&a.set(t,e[t])}),t=`${s}?${a.toString()}`}else{const s=new URL(window.location);Object.keys(e).forEach(t=>{void 0!==e[t]&&null!==e[t]&&s.searchParams.set(t,e[t])}),t=s.toString()}console.log("ğŸ”„ å‡†å¤‡ç”¨æ–°URLåˆ·æ–°é¡µé¢:",t),window.location.href=t,window.location.reload()}catch(t){console.warn("Failed to refresh with new URL:",t),window.location.reload()}}checkForExistingWindow(e,t=1e3){return new Promise(s=>{if(!this.channel)return console.warn("âŒ å¹¿æ’­é€šé“æœªåˆå§‹åŒ–ï¼Œæ— æ³•æ£€æŸ¥çª—å£å¤ç”¨"),void s(!1);const i={type:"check-window",params:e,timestamp:Date.now()};console.log("ğŸ“¡ å‘é€çª—å£æ£€æŸ¥æ¶ˆæ¯:",i);const a=setTimeout(()=>{this.channel.removeEventListener("message",r),console.log("â° çª—å£æ£€æŸ¥è¶…æ—¶ï¼Œæœªæ‰¾åˆ°å¯å¤ç”¨çª—å£"),s(!1)},t),r=t=>{console.log("ğŸ“¨ æ”¶åˆ°å“åº”æ¶ˆæ¯:",t.data),"window-available"===t.data.type&&t.data.params.action===e.action&&(clearTimeout(a),this.channel.removeEventListener("message",r),console.log("âœ… æ‰¾åˆ°å¯å¤ç”¨çª—å£:",t.data),s({windowId:t.data.windowId,params:t.data.params}))};this.channel.addEventListener("message",r),this.channel.postMessage(i)})}requestFocus(e){this.channel&&this.channel.postMessage({type:"focus-window",windowId:e,timestamp:Date.now()})}requestUpdateParams(e,t){if(!this.channel)return void console.warn("âŒ å¹¿æ’­é€šé“æœªåˆå§‹åŒ–ï¼Œæ— æ³•å‘é€å‚æ•°æ›´æ–°è¯·æ±‚");const s={type:"update-params",windowId:e,params:t,timestamp:Date.now()};console.log("ğŸ“¡ å‘é€å‚æ•°æ›´æ–°è¯·æ±‚åˆ°çª—å£:",e),console.log("ğŸ“¡ æ›´æ–°å‚æ•°:",t),this.channel.postMessage(s)}extractParamsFromUrl(e){try{if(!e)return{};let t="";if(e.includes("#")){const s=e.split("#")[1];s.includes("?")&&(t=s.split("?")[1])}else e.includes("?")&&(t=e.split("?")[1]);if(!t)return{};const s=new URLSearchParams(t),i={};for(const[e,a]of s.entries())i[e]=a;return console.log("ğŸ” ä»URLè§£æå‚æ•°:",i),i}catch(t){return console.warn("è§£æURLå‚æ•°å¤±è´¥:",t),{}}}cleanup(){this.channel&&(this.channel.close(),this.channel=null),this.isSetup=!1}getStatus(){return{channelName:this.channelName,channel:!!this.channel,windowId:this.windowId,isSetup:this.isSetup}}}const a=new i;t.A=a},1900:function(e,t,s){var i={"./time_lock_1.webp":7070,"./time_lock_10.webp":3426,"./time_lock_3.webp":2428,"./time_lock_8.webp":4785,"./time_lock_9.webp":54,"./time_lock_huoyue.webp":5734,"./time_lock_protect.webp":5146};function a(e){var t=r(e);return s(t)}function r(e){if(!s.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=r,e.exports=a,a.id=1900},2428:function(e){"use strict";e.exports="data:image/webp;base64,UklGRjoBAABXRUJQVlA4WAoAAAAQAAAAEgAAEgAAQUxQSHwAAAABcEhbW2V9CL/BhDAGZTAZlEEZ/AghdA0G4SKEEEIIz3kTRMQEAEx40NGk5CXsGoCXWK/QT2ubApsroFRqrTVaa1lNLuZ6XLYFx7aeR2Z1y+D0I5TOCp24zZej3Z+sAJdaa2YKdDSTySwAMnQB+EsAIHcpiOmmkg8I8cBVVlA4IJgAAADQAwCdASoTABMAPpFCnEolo6KhqAgAsBIJQBkasVaNEfvE1zriadAA+x8A/GXrDP0+r4GHIlYppAGwHEiXPEQo/APYYFAluZHXciKPrS2Cl1CyVQ7AdEZlcQIYzuq+OveLakQy/ruZwQEy73j1uxqi8kuvjo/AJrWTUHowQR+o0/Kved1ne+nYpPGsh+57f/6hBzLM3cAAAA=="},3014:function(e,t,s){"use strict";s.d(t,{A:function(){return v}});s(8111),s(2489);var i=function(){var e=this,t=e._self._c;return t("el-card",{staticClass:"spider-system-card",attrs:{shadow:"never"}},[t("el-row",{staticClass:"card-header",attrs:{slot:"header",type:"flex",justify:"space-between",align:"middle"},slot:"header"},[t("div",[t("span",{staticClass:"emoji-icon"},[e._v("âš™ï¸")]),e._v(" æœç´¢é…ç½®")]),t("div",{staticClass:"tool-buttons"},[e.isChromeExtension?t("el-button",{attrs:{type:"danger"},on:{click:e.stopTask}},[e._v("ğŸ›‘ åœæ­¢")]):t("el-dropdown",{attrs:{"split-button":"",type:"danger"},on:{click:e.stopTask}},[e._v(" ğŸ›‘ åœæ­¢ "),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{nativeOn:{click:function(t){return e.resetTask.apply(null,arguments)}}},[e._v("ğŸ›‘ é‡ç½®ä»»åŠ¡")])],1)],1)],1)]),t("el-row",{attrs:{type:"flex"}},[t("div",{staticStyle:{width:"140px","text-align":"center"}},[e.externalParamsState.action?[t("el-col",{attrs:{span:24}},[t("p",{staticClass:"cBlue",staticStyle:{"margin-bottom":"5px"}},[e._v("ğŸ¯ç›®æ ‡ï¼š")])]),"similar_equip"===e.externalParamsState.action?t("EquipmentImage",{staticStyle:{display:"flex","flex-direction":"column",height:"50px",width:"100%","align-items":"center"},attrs:{equipment:e.externalParamsState,popoverWidth:450}}):e._e(),"similar_pet"===e.externalParamsState.action?t("PetImage",{attrs:{pet:e.externalParamsState,equipFaceImg:e.externalParamsState.equip_face_img}}):e._e()]:e._e()],2),t("el-form",{directives:[{name:"show",rawName:"v-show",value:"playwright"!==e.activeTab,expression:"activeTab !== 'playwright'"}],staticStyle:{width:"100%","flex-shrink":"1"},attrs:{model:e.globalSettings}},[t("el-row",{attrs:{gutter:40}},[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"ğŸ“„ æœç´¢é¡µæ•°",size:"small"}},[t("el-input-number",{staticStyle:{width:"100%"},attrs:{min:1,max:100,"controls-position":"right"},model:{value:e.globalSettings.max_pages,callback:function(t){e.$set(e.globalSettings,"max_pages",t)},expression:"globalSettings.max_pages"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:`â±ï¸ å»¶è¿ŸèŒƒå›´ï¼š${e.globalSettings.delay_min} - ${e.globalSettings.delay_max} ç§’`,size:"small"}},[t("el-slider",{staticStyle:{width:"100%",display:"inline-block"},attrs:{range:"","show-stops":"",min:8,max:30,step:1},on:{change:e.onDelayRangeChange},model:{value:e.delayRange,callback:function(t){e.delayRange=t},expression:"delayRange"}})],1)],1),t("el-col",{attrs:{span:10}},[t("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"âš¡ å¿«é€Ÿé…ç½®",size:"small"}},[t("br"),t("el-row",{staticStyle:{height:"32px"},attrs:{type:"flex",align:"middle"}},[t("el-tag",{staticStyle:{cursor:"pointer"},attrs:{size:"mini"},on:{click:function(t){return e.quickConfig("small")}}},[e._v("10é¡µ")]),t("el-divider",{attrs:{direction:"vertical"}}),t("el-tag",{staticStyle:{cursor:"pointer"},attrs:{size:"mini"},on:{click:function(t){return e.quickConfig("medium")}}},[e._v("50é¡µ")]),t("el-divider",{attrs:{direction:"vertical"}}),t("el-tag",{staticStyle:{cursor:"pointer"},attrs:{size:"mini"},on:{click:function(t){return e.quickConfig("large")}}},[e._v("100é¡µ")])],1)],1)],1)],1),"role"!==e.activeTab?t("el-row",{attrs:{type:"flex",align:"middle"}},[t("el-col",{attrs:{span:12}},[t("el-row",{attrs:{type:"flex"}},[t("el-form-item",{staticStyle:{width:"150px"},attrs:{label:"ğŸŒ å…¨æœæœç´¢",size:"small"}},[t("el-switch",{model:{value:e.globalSettings.overall,callback:function(t){e.$set(e.globalSettings,"overall",t)},expression:"globalSettings.overall"}})],1),e.globalSettings.overall?e._e():t("el-form-item",{staticStyle:{width:"150px"},attrs:{label:" å¤šåŒºæœç´¢",size:"small"}},[t("el-switch",{model:{value:e.globalSettings.multi,callback:function(t){e.$set(e.globalSettings,"multi",t)},expression:"globalSettings.multi"}})],1)],1)],1),e.globalSettings.overall?e._e():t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"ğŸ¯ ç›®æ ‡æœåŠ¡å™¨",size:"small"}},[t("el-cascader",{directives:[{name:"show",rawName:"v-show",value:e.globalSettings.multi,expression:"globalSettings.multi"}],attrs:{options:e.hotServers,props:{value:"server_id",label:"server_name",multiple:!0,emitPath:!1},"collapse-tags":"",size:"mini",filterable:""},on:{change:e.onTargetServerChange},model:{value:e.target_server_list,callback:function(t){e.target_server_list=t},expression:"target_server_list"}}),t("el-cascader",{directives:[{name:"show",rawName:"v-show",value:!e.globalSettings.multi,expression:"!globalSettings.multi"}],attrs:{options:e.server_data,size:"mini",filterable:"",clearable:""},on:{change:e.onServerDataChange},model:{value:e.server_data_value,callback:function(t){e.server_data_value=t},expression:"server_data_value"}})],1)],1)],1):e._e(),t("el-row",{attrs:{type:"flex",align:"middle"}},[t("el-form-item",{attrs:{label:"æœ€ä½ä»·æ ¼",size:"small"}},[t("el-switch",{model:{value:e.price_min_enable,callback:function(t){e.price_min_enable=t},expression:"price_min_enable"}}),t("el-input-number",{staticStyle:{"margin-left":"5px"},attrs:{min:10,controls:!1},model:{value:e.price_min,callback:function(t){e.price_min=t},expression:"price_min"}})],1)],1)],1)],1),t("el-tabs",{attrs:{"tab-position":"left"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[e.isChromeExtension?e._e():t("el-tab-pane",{attrs:{label:"ğŸ–ï¸ æ‰‹åŠ¨æŠ“å–",name:"playwright"}},[t("el-form",{attrs:{model:e.playwrightForm,"label-width":"120px",size:"small"}},[t("el-form-item",{attrs:{label:"æ— å¤´æ¨¡å¼"}},[t("el-switch",{on:{change:e.onHeadlessToggle},model:{value:e.playwrightForm.headless,callback:function(t){e.$set(e.playwrightForm,"headless",t)},expression:"playwrightForm.headless"}}),t("span",{staticClass:"form-tip"},[e._v("å…³é—­åå¯ä»¥çœ‹åˆ°æµè§ˆå™¨æ“ä½œè¿‡ç¨‹")])],1),t("el-form-item",{attrs:{label:"ç›®æ ‡URL"}},[t("el-select",{staticStyle:{width:"100%"},on:{change:e.onTargetUrlChange},model:{value:e.playwrightForm.target_url,callback:function(t){e.$set(e.playwrightForm,"target_url",t)},expression:"playwrightForm.target_url"}},[t("el-option",{attrs:{label:"è§’è‰²æ¨èæœç´¢",value:"role_recommend"}}),t("el-option",{attrs:{label:"è£…å¤‡æ¨èæœç´¢",value:"equip_recommend"}}),t("el-option",{attrs:{label:"å¬å”¤å…½æ¨èæœç´¢",value:"pet_recommend"}}),t("el-option",{attrs:{label:"è‡ªå®šä¹‰URL",value:"custom"}})],1)],1),"custom"===e.playwrightForm.target_url?t("el-form-item",{attrs:{label:"è‡ªå®šä¹‰URL"}},[t("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"è¯·è¾“å…¥å®Œæ•´çš„CBG URL"},model:{value:e.playwrightForm.custom_url,callback:function(t){e.$set(e.playwrightForm,"custom_url",t)},expression:"playwrightForm.custom_url"}},[t("template",{slot:"prepend"},[e._v("https://")])],2)],1):e._e(),t("el-form-item",[t("el-button",{attrs:{type:"primary",loading:e.isRunning},on:{click:e.startPlaywrightCollector}},[e._v(" ğŸš€ æœç´¢ ")])],1)],1)],1),e.isChromeExtension?e._e():t("el-tab-pane",{attrs:{label:"ğŸ‘¤ è§’è‰²",name:"role"}},[t("el-form",{attrs:{model:e.roleForm,"label-width":"100px",size:"small"}},[t("div",{staticClass:"params-editor"},[t("div",{staticClass:"params-actions"},[t("el-button",{attrs:{type:"text",size:"mini"},on:{click:()=>e.resetParam("role")}},[e._v("é‡ç½®")]),t("el-button",{attrs:{type:"primary",size:"mini",loading:e.roleSaving,disabled:!!e.roleJsonError},on:{click:()=>e.saveParam("role")}},[e._v(" ä¿å­˜é…ç½® ")])],1),t("div",{staticClass:"json-editor-wrapper"},[t("el-input",{staticClass:"json-editor",attrs:{type:"textarea",placeholder:"è¯·è¾“å…¥è§’è‰²çˆ¬è™«å‚æ•°JSON",rows:8},on:{blur:()=>e.validateParam("role")},model:{value:e.roleParamsJson,callback:function(t){e.roleParamsJson=t},expression:"roleParamsJson"}}),e.roleJsonError?t("div",{staticClass:"json-error"},[t("i",{staticClass:"el-icon-warning"}),e._v(" "+e._s(e.roleJsonError)+" ")]):e._e()],1)]),t("el-form-item",[t("el-button",{attrs:{type:"primary",loading:e.isRunning},on:{click:()=>e.startSpiderByType("role")}},[e._v(" ğŸš€ æœç´¢ ")])],1)],1)],1),"similar_equip"===e.externalParamsState.action?t("el-tab-pane",{attrs:{label:"âš”ï¸ è£…å¤‡",name:"equip"}},[t("el-form",{attrs:{model:e.equipForm,"label-width":"100px",size:"small"}},["similar_equip"!==e.externalParamsState.action?t("el-form-item",{attrs:{label:"è£…å¤‡ç±»å‹"}},[t("el-select",{staticStyle:{width:"100%"},on:{change:e.onEquipTypeChange},model:{value:e.equipForm.equip_type,callback:function(t){e.$set(e.equipForm,"equip_type",t)},expression:"equipForm.equip_type"}},[t("el-option",{attrs:{label:"æ™®é€šè£…å¤‡",value:"normal"}}),t("el-option",{attrs:{label:"çµé¥°è£…å¤‡",value:"lingshi"}}),t("el-option",{attrs:{label:"å¬å”¤å…½è£…å¤‡",value:"pet"}})],1)],1):e._e(),"normal"===e.equipForm.equip_type&&e.externalSearchParams.suit_effect?t("el-form-item",{attrs:{label:"å¥—è£…æ•ˆæœ"}},[t("el-radio-group",{model:{value:e.suit_effect_type,callback:function(t){e.suit_effect_type=t},expression:"suit_effect_type"}},[t("el-radio",{attrs:{label:""}},[t("span",{domProps:{innerHTML:e._s(e.formatSuitEffect({suit_effect:e.externalSearchParams.suit_effect}))}})]),t("el-radio",{attrs:{label:"select"}},[e._v("è‡ªé€‰")]),t("el-radio",{attrs:{label:"agility_detailed.A"}},[e._v("æ•æ·Aå¥—")]),t("el-radio",{attrs:{label:"agility_detailed.B"}},[e._v("æ•æ·Bå¥—")]),t("el-radio",{attrs:{label:"magic_detailed.A"}},[e._v("é­”åŠ›Aå¥—")]),t("el-radio",{attrs:{label:"magic_detailed.B"}},[e._v("é­”åŠ›Bå¥—")])],1),"select"===e.suit_effect_type?t("el-cascader",{attrs:{options:e.suitOptions,placeholder:"è¯·é€‰æ‹©å¥—è£…æ•ˆæœ",separator:"",clearable:"",filterable:""},on:{change:e.handleSuitChange}}):e._e(),e.suit_effect_type?.split(".").length>1&&e.equipConfig?.suits?.[e.suit_effect_type.split(".")[0]]?.[e.suit_effect_type.split(".")[1]]?t("el-radio-group",{model:{value:e.select_suit_effect,callback:function(t){e.select_suit_effect=t},expression:"select_suit_effect"}},e._l(e.equipConfig.suits[e.suit_effect_type.split(".")[0]][e.suit_effect_type.split(".")[1]],function(s){return t("el-radio",{key:s,attrs:{label:s.toString()}},[e._v(e._s(e.suit_transform_skills[s]))])}),1):e._e()],1):e._e(),"normal"===e.equipForm.equip_type&&e.externalSearchParams.sum_attr_value>0?t("el-form-item",{attrs:{label:"å±æ€§åŠ æˆ"}},[t("el-checkbox-group",{model:{value:e.select_sum_attr_type,callback:function(t){e.select_sum_attr_type=t},expression:"select_sum_attr_type"}},[t("el-checkbox",{attrs:{label:"dex"}},[e._v("æ•æ·")]),t("el-checkbox",{attrs:{label:"endurance"}},[e._v("è€åŠ›")]),t("el-checkbox",{attrs:{label:"magic"}},[e._v("é­”åŠ›")]),t("el-checkbox",{attrs:{label:"physique"}},[e._v("ä½“è´¨")]),t("el-checkbox",{attrs:{label:"power"}},[e._v("åŠ›é‡")])],1),t("el-checkbox",{model:{value:e.sum_attr_with_melt,callback:function(t){e.sum_attr_with_melt=t},expression:"sum_attr_with_melt"}},[e._v("è®¡ç®—ç†”ç‚¼æ•ˆæœ")])],1):e._e(),"normal"===e.equipForm.equip_type&&e.externalSearchParams.sum_attr_value>0?t("el-form-item",{attrs:{label:"å±æ€§åŠ æˆå€¼"}},[t("el-input-number",{staticStyle:{width:"100px"},attrs:{placeholder:"è¯·è¾“å…¥å±æ€§åŠ æˆå€¼","controls-position":"right"},model:{value:e.select_equip_addon_sum,callback:function(t){e.select_equip_addon_sum=t},expression:"select_equip_addon_sum"}})],1):e._e(),"normal"===e.equipForm.equip_type&&void 0!==e.externalSearchParams.hole_num?t("el-form-item",{attrs:{label:"å¼€è¿"}},[t("el-input-number",{staticStyle:{width:"100px"},attrs:{min:0,max:5,step:1,placeholder:"è¯·è¾“å…¥å¼€è¿ç­‰çº§","controls-position":"right"},model:{value:e.select_equip_hole_num,callback:function(t){e.select_equip_hole_num=t},expression:"select_equip_hole_num"}})],1):e._e(),"normal"===e.equipForm.equip_type&&void 0!==e.externalSearchParams.special_effect?t("el-form-item",{attrs:{label:"ç‰¹æ•ˆ"}},[t("el-radio-group",{model:{value:e.select_equip_special_effect_enable,callback:function(t){e.select_equip_special_effect_enable=t},expression:"select_equip_special_effect_enable"}},[t("el-radio",{attrs:{label:!0}},[t("el-select",{attrs:{disabled:!e.select_equip_special_effect_enable,placeholder:"è¯·é€‰æ‹©ç‰¹æ•ˆ",multiple:"",clearable:"",filterable:""},model:{value:e.select_equip_special_effect,callback:function(t){e.select_equip_special_effect=t},expression:"select_equip_special_effect"}},e._l(e.equip_special_effect,function(e,s){return t("el-option",{key:s,attrs:{label:"1"===s?e+"/è¶…çº§ç®€æ˜“":e,value:s}})}),1)],1),t("el-radio",{attrs:{label:!1}},[e._v("æ— ")])],1)],1):e._e(),"normal"===e.equipForm.equip_type&&void 0!==e.externalSearchParams.special_skill?t("el-form-item",{attrs:{label:"ç‰¹æŠ€"}},[t("el-radio-group",{model:{value:e.select_equip_special_skill_enable,callback:function(t){e.select_equip_special_skill_enable=t},expression:"select_equip_special_skill_enable"}},[t("el-radio",{attrs:{label:!0}},[t("el-select",{attrs:{disabled:!e.select_equip_special_skill_enable,placeholder:"è¯·é€‰æ‹©ç‰¹æŠ€",clearable:"",filterable:""},model:{value:e.select_equip_special_skill,callback:function(t){e.select_equip_special_skill=t},expression:"select_equip_special_skill"}},e._l(e.equip_special_skills,function([e,s]){return t("el-option",{key:e,attrs:{label:s,value:e}})}),1)],1),t("el-radio",{attrs:{label:!1}},[e._v("æ— ")])],1)],1):e._e(),t("el-form-item",{attrs:{label:"å±æ€§"}},e._l(e.equip_attr_list.filter(t=>void 0!==e.externalSearchParams[t]),function(s){return t("el-form-item",{key:s,attrs:{label:e.equip_attr_list_label[s]||s,"label-width":"50px"}},[t("el-input-number",{staticStyle:{width:"100px"},attrs:{placeholder:"è¯·è¾“å…¥å±æ€§å€¼","controls-position":"right"},model:{value:e.select_equip_attr_value[s],callback:function(t){e.$set(e.select_equip_attr_value,s,t)},expression:"select_equip_attr_value[attr]"}})],1)}),1),e.select_equip_addon_attr_type.length>0?t("el-form-item",{attrs:{label:"é™„åŠ å±æ€§"}},[t("el-checkbox-group",{model:{value:e.select_equip_addon_attr_type,callback:function(t){e.select_equip_addon_attr_type=t},expression:"select_equip_addon_attr_type"}},[e._l(e.externalSearchParams,function(s,i){return e._l(s,function(s){return i.startsWith("added_attr.")?t("el-checkbox",{key:i+s,attrs:{label:i+(s>1?"_"+(s-2):"")}},[e._v(e._s(e.getAddedAttrType(i)))]):e._e()})})],2)],1):e._e(),void 0!==e.externalSearchParams.gem_level||void 0!==e.externalSearchParams.jinglian_level?t("el-form-item",{attrs:{label:"å®çŸ³"}},[t("el-radio-group",{model:{value:e.select_equip_gem_enable,callback:function(t){e.select_equip_gem_enable=t},expression:"select_equip_gem_enable"}},[t("el-radio",{attrs:{label:!0}},["normal"===e.equipForm.equip_type?t("el-select",{staticStyle:{width:"120px"},attrs:{placeholder:"é•¶åµŒå®çŸ³",clearable:"",filterable:"",disabled:!e.select_equip_gem_enable},model:{value:e.select_equip_gem_value,callback:function(t){e.select_equip_gem_value=t},expression:"select_equip_gem_value"}},e._l(e.gems_name,function(s,i){return t("el-option",{key:i,attrs:{value:i,label:s}},[t("el-row",{attrs:{type:"flex",justify:"space-between"}},[t("el-col",{staticStyle:{width:"34px",height:"34px","margin-right":"10px"}},[t("el-image",{staticStyle:{width:"34px",height:"34px",cursor:"pointer"},attrs:{src:e.getImageUrl(e.gem_image[i]+".gif"),fit:"cover",referrerpolicy:"no-referrer"}})],1),t("el-col",{staticStyle:{width:"100px"}},[e._v(" "+e._s(s)+" ")])],1)],1)}),1):e._e(),t("el-input-number",{staticStyle:{width:"100px"},attrs:{size:"mini",min:1,max:16,step:1,placeholder:"é”»ç»ƒç­‰çº§",disabled:!e.select_equip_gem_enable,"controls-position":"right"},model:{value:e.select_equip_gem_level,callback:function(t){e.select_equip_gem_level=t},expression:"select_equip_gem_level"}})],1),t("el-radio",{attrs:{label:!1}},[e._v("æ— ")])],1)],1):e._e(),e.isChromeExtension?e._e():t("div",{staticClass:"params-editor"},[t("div",{staticClass:"params-actions"},[t("el-button",{attrs:{type:"text",size:"mini"},on:{click:()=>e.resetParam("equip")}},[e._v("é‡ç½®")]),t("el-button",{attrs:{type:"primary",size:"mini",loading:e.equipSaving,disabled:!!e.equipJsonError},on:{click:()=>e.saveParam("equip")}},[e._v(" ä¿å­˜é…ç½® ")])],1),t("el-row",{attrs:{type:"flex"}},["similar_equip"===e.externalParamsState.action?t("div",{staticClass:"json-editor-wrapper"},[t("el-input",{staticClass:"json-editor",attrs:{type:"textarea",placeholder:"æœç´¢æŒ‡å®šå‚æ•°",rows:10},model:{value:e.externalSearchParamsJsonStr,callback:function(t){e.externalSearchParamsJsonStr=t},expression:"externalSearchParamsJsonStr"}}),e.equipJsonError?t("div",{staticClass:"json-error"},[t("i",{staticClass:"el-icon-warning"}),e._v(" "+e._s(e.equipJsonError)+" ")]):e._e()],1):e._e(),t("div",{staticClass:"json-editor-wrapper"},[t("el-input",{staticClass:"json-editor",attrs:{type:"textarea",placeholder:"è¯·è¾“å…¥è£…å¤‡çˆ¬è™«å‚æ•°JSON",rows:10},on:{blur:()=>e.validateParam("equip")},model:{value:e.equipParamsJson,callback:function(t){e.equipParamsJson=t},expression:"equipParamsJson"}}),e.equipJsonError?t("div",{staticClass:"json-error"},[t("i",{staticClass:"el-icon-warning"}),e._v(" "+e._s(e.equipJsonError)+" ")]):e._e()],1),t("div",{staticClass:"json-editor-wrapper"},[t("el-input",{staticClass:"json-editor",attrs:{type:"textarea",readonly:"",value:e.cached_params,rows:10}})],1)])],1),t("el-form-item",[t("el-button",{attrs:{type:"primary",loading:e.isRunning},on:{click:()=>e.startSpiderByType("equip")}},[e._v(" ğŸš€ æœç´¢ ")])],1)],1)],1):e._e(),"similar_pet"===e.externalParamsState.action?t("el-tab-pane",{attrs:{label:"ğŸ² å¬å”¤å…½",name:"pet"}},[t("el-form",{attrs:{model:e.petForm,"label-width":"100px",size:"small",inline:""}},[""!==e.petForm.skill?t("el-form-item",{attrs:{label:"æŠ€èƒ½"}},[t("el-cascader",{staticStyle:{width:"150px"},attrs:{options:e.skillOptions,props:{multiple:!0,checkStrictly:!1,emitPath:!1},"show-all-levels":!1,placeholder:"ğŸ”§è¯·é€‰æ‹©æŠ€èƒ½",multiple:"",clearable:"",filterable:""},scopedSlots:e._u([{key:"default",fn:function({data:s}){return[t("el-row",{attrs:{type:"flex",align:"middle"}},[s.value?t("el-image",{staticStyle:{display:"block",width:"24px",height:"24px","margin-right":"4px"},attrs:{src:e.getSkillImage(s.value),fit:"cover",referrerpolicy:"no-referrer"}}):e._e(),t("span",[e._v(e._s(s.label))])],1)]}}],null,!1,3547275837),model:{value:e.select_pet_skill,callback:function(t){e.select_pet_skill=t},expression:"select_pet_skill"}})],1):e._e(),t("el-form-item",{attrs:{label:"æˆé•¿"}},[t("el-input-number",{staticStyle:{width:"100px"},attrs:{min:0,max:2,step:.01,precision:3,placeholder:"è¯·è¾“å…¥æˆé•¿å€¼","controls-position":"right"},model:{value:e.select_pet_growth,callback:function(t){e.select_pet_growth=t},expression:"select_pet_growth"}})],1),t("el-form-item",{attrs:{label:"çµæ€§"}},[t("el-input-number",{staticStyle:{width:"100px"},attrs:{min:0,max:110,step:1,placeholder:"è¯·é€‰æ‹©çµæ€§","controls-position":"right"},model:{value:e.select_pet_lingxing,callback:function(t){e.select_pet_lingxing=t},expression:"select_pet_lingxing"}})],1),t("el-form-item",{attrs:{label:"æ˜¯å¦å®å®"}},[t("el-switch",{attrs:{"active-value":1,"inactive-value":0},model:{value:e.select_pet_is_baobao,callback:function(t){e.select_pet_is_baobao=t},expression:"select_pet_is_baobao"}})],1),t("el-form-item",[t("div",{attrs:{slot:"label"},slot:"label"},[t("el-switch",{model:{value:e.select_pet_level_enable,callback:function(t){e.select_pet_level_enable=t},expression:"select_pet_level_enable"}}),e._v(" ç­‰çº§")],1),t("el-input-number",{staticStyle:{width:"90px"},attrs:{disabled:!e.select_pet_level_enable,min:0,max:180,step:1,placeholder:"è¯·è¾“å…¥æœ€ä½ç­‰çº§","controls-position":"right"},model:{value:e.select_pet_level[0],callback:function(t){e.$set(e.select_pet_level,0,t)},expression:"select_pet_level[0]"}}),t("el-input-number",{staticStyle:{width:"90px"},attrs:{disabled:!e.select_pet_level_enable,min:e.select_pet_level[0],max:180,step:1,placeholder:"è¯·è¾“å…¥æœ€é«˜ç­‰çº§","controls-position":"right"},model:{value:e.select_pet_level[1],callback:function(t){e.$set(e.select_pet_level,1,t)},expression:"select_pet_level[1]"}})],1),e.isChromeExtension?e._e():t("div",{staticClass:"params-editor"},[t("div",{staticClass:"params-actions"},[t("el-button",{attrs:{type:"mini",size:"mini"},on:{click:()=>e.resetParam("pet")}},[e._v("é‡ç½®")]),t("el-button",{attrs:{type:"primary",size:"mini",loading:e.petSaving,disabled:!!e.petJsonError},on:{click:()=>e.saveParam("pet")}},[e._v(" ä¿å­˜é…ç½® ")])],1),t("el-row",{attrs:{type:"flex"}},["similar_pet"===e.externalParamsState.action?t("div",{staticClass:"json-editor-wrapper"},[t("el-input",{staticClass:"json-editor",attrs:{type:"textarea",rows:10},model:{value:e.externalSearchParamsJsonStr,callback:function(t){e.externalSearchParamsJsonStr=t},expression:"externalSearchParamsJsonStr"}})],1):e._e(),t("div",{staticClass:"json-editor-wrapper"},[t("el-input",{staticClass:"json-editor",attrs:{type:"textarea",placeholder:"è¯·è¾“å…¥å¬å”¤å…½çˆ¬è™«å‚æ•°JSON",rows:10},on:{blur:()=>e.validateParam("pet")},model:{value:e.petParamsJson,callback:function(t){e.petParamsJson=t},expression:"petParamsJson"}}),e.petJsonError?t("div",{staticClass:"json-error"},[t("i",{staticClass:"el-icon-warning"}),e._v(" "+e._s(e.petJsonError)+" ")]):e._e()],1),t("div",{staticClass:"json-editor-wrapper"},[t("el-input",{staticClass:"json-editor",attrs:{type:"textarea",readonly:"",value:e.cached_params,rows:10}})],1)])],1),t("el-form-item",[t("el-button",{attrs:{type:"primary",loading:e.isRunning},on:{click:()=>e.startSpiderByType("pet")}},[e._v(" ğŸš€ æœç´¢ ")])],1)],1)],1):e._e()],1),e.log&&!e.isChromeExtension?t("LogMonitor",{attrs:{maxLines:8,simpleMode:"",isRunning:e.isRunning}}):e._e()],1)},a=[],r=(s(4114),s(7588),s(1701),s(7642),s(8004),s(3853),s(5876),s(2475),s(5024),s(1698),s(3152)),n=s(3016),l=s(6130),o=s(7889),c=s(1878),_=s(6175),p=s(8770);const u=[];for(let f in window.server_data){let[e,t]=window.server_data[f];const[s,,,,i]=e;t=t.map(([e,t])=>({value:e,label:t})),u.push({label:s,value:i,children:t})}var d={name:"AutoParams",props:{log:{type:Boolean,default:!0},externalParams:{type:Object,default:()=>({})},server_id:{type:[Number,String],default:null},server_name:{type:String,default:null}},mixins:[p.B,_.G,r.h],components:{EquipmentImage:n.A,LogMonitor:o.A,PetImage:l.A},data(){return{gem_image:{1:"4011",2:"4002",3:"4012",4:"4004",5:"4003",6:"4010",7:"4005",8:"4007",9:"4006",10:"4008",11:"4009",12:"1108_4249",4244:"4244","755_4036":"755_4036","756_4037":"756_4037","757_4038":"757_4038"},gems_name:window.AUTO_SEARCH_CONFIG.gems_name,equip_attr_list:["fangyu","init_damage_raw","init_defense","init_hp","init_dex","init_wakan","all_wakan","all_damage","damage","defense","magic_damage","magic_defense","fengyin","anti_fengyin","speed"],equip_attr_list_label:{init_damage_raw:"åˆä¼¤",init_defense:"åˆé˜²",init_hp:"åˆè¡€",init_dex:"åˆæ•",init_wakan:"åˆçµ",all_wakan:"æ€»çµ",all_damage:"æ€»ä¼¤",damage:"ä¼¤å®³",defense:"é˜²å¾¡",magic_damage:"æ³•ä¼¤",magic_defense:"æ³•é˜²",fengyin:"å°å°",anti_fengyin:"æŠ—å°å°",speed:"é€Ÿåº¦",fangyu:"é˜²å¾¡"},skillOptions:window.skillOptions,isChromeExtension:"undefined"!==typeof chrome&&chrome.runtime&&chrome.runtime.id,sum_attr_with_melt:!0,select_equip_addon_attr_type:[],select_equip_special_effect_enable:!0,select_equip_special_skill_enable:!0,select_equip_gem_enable:!0,select_pet_skill:[],select_pet_lingxing:0,select_pet_growth:1,select_pet_is_baobao:1,select_pet_level_enable:!1,select_pet_level:[0,180],price_min:1,price_min_enable:!1,equip_special_effect:window.AUTO_SEARCH_CONFIG.equip_special_effect,equip_special_skills:window.AUTO_SEARCH_CONFIG.equip_special_skills,suit_transform_skills:window.AUTO_SEARCH_CONFIG.suit_transform_skills,suitOptions:[],suit_effect_type:"",select_suit_effect:"",equipConfig:{},hotServers:[],server_data:u,target_server_list:[],target_server_objects:[],globalSettings:{max_pages:5,delay_min:8,delay_max:20,overall:!1,multi:!1},delayRange:[8,20],roleForm:{},equipForm:{equip_type:"normal"},petForm:{},proxyForm:{},playwrightForm:{headless:!1,target_url:"role_recommend",custom_url:""},roleParamsJson:"",equipParamsJson:"{}",petParamsJson:"{}",roleJsonError:"",equipJsonError:"",petJsonError:"",defaultParams:{role:{},equip_normal:{},equip_lingshi:{},equip_pet:{},equip_pet_equip:{},pet:{}},isRunning:!1,paramsLoading:!1,activeTab:"playwright",statusMonitor:null,roleSaving:!1,equipSaving:!1,petSaving:!1,cacheCleanupTimer:null,sleepTimer:null,externalSearchParamsJsonStr:"{}",targetFeatures:{},internalExternalParams:{},paramManager:{role:{jsonKey:"roleParamsJson",errorKey:"roleJsonError",savingKey:"roleSaving",paramType:"role",successMessage:"è§’è‰²å‚æ•°é…ç½®ä¿å­˜æˆåŠŸ",spiderType:"role",spiderName:"è§’è‰²çˆ¬è™«",getParams:()=>({...this.globalSettings,...this.roleForm,cached_params:JSON.parse(this.roleParamsJson)})},equip:{jsonKey:"equipParamsJson",errorKey:"equipJsonError",savingKey:"equipSaving",paramType:"equip",successMessage:"è£…å¤‡å‚æ•°é…ç½®ä¿å­˜æˆåŠŸ",spiderType:"equip",spiderName:"è£…å¤‡çˆ¬è™«",getParamType:()=>this.getEquipParamKey(this.equipForm.equip_type),getSuccessMessage:()=>`${this.getEquipTypeName(this.equipForm.equip_type)}å‚æ•°é…ç½®ä¿å­˜æˆåŠŸ`,getParams:()=>{const e={target_server_list:this.target_server_objects,...this.equipForm,...this.globalSettings,cached_params:JSON.parse(this.cached_params)};return e.overall&&(e.multi=!1,e.target_server_list=void 0),e}},pet:{jsonKey:"petParamsJson",errorKey:"petJsonError",savingKey:"petSaving",paramType:"pet",successMessage:"å¬å”¤å…½å‚æ•°é…ç½®ä¿å­˜æˆåŠŸ",spiderType:"pet",spiderName:"å¬å”¤å…½çˆ¬è™«",getParams:()=>({target_server_list:this.target_server_objects,...this.petForm,...this.globalSettings,cached_params:JSON.parse(this.cached_params)})}}}},computed:{select_equip_hole_num:{get(){const e=JSON.parse(this.equipParamsJson);return void 0!==e.hole_num?e.hole_num:this.externalSearchParams.hole_num?parseInt(this.externalSearchParams.hole_num):0},set(e){const t=JSON.parse(this.equipParamsJson);t.hole_num=void 0!==e?e:void 0,this.equipParamsJson=JSON.stringify(t,null,2)}},select_equip_addon_sum:{get(){const e=JSON.parse(this.equipParamsJson);return void 0!==e.sum_attr_value?e.sum_attr_value:this.externalSearchParams.sum_attr_value?parseInt(this.externalSearchParams.sum_attr_value):0},set(e){const t=JSON.parse(this.equipParamsJson);t.sum_attr_value=void 0!==e?e:void 0,this.equipParamsJson=JSON.stringify(t,null,2)}},select_sum_attr_type:{get(){const e=JSON.parse(this.equipParamsJson);if(void 0!==e.sum_attr_type)return""===e.sum_attr_type?[]:String(e.sum_attr_type).split(",");const t=this.externalSearchParams.sum_attr_type;return t?String(t).split(","):[]},set(e){const t=JSON.parse(this.equipParamsJson);t.sum_attr_type=Array.isArray(e)&&e.length>0?e.join(","):void 0,this.equipParamsJson=JSON.stringify(t,null,2)}},select_equip_special_effect:{get(){const e=JSON.parse(this.equipParamsJson);return void 0!==e.special_effect?""===e.special_effect?[]:e.special_effect.split(","):this.externalSearchParams.special_effect?this.externalSearchParams.special_effect.split(","):[]},set(e){const t=JSON.parse(this.equipParamsJson);t.special_effect=Array.isArray(e)&&e.length>0?e.join(","):void 0,this.equipParamsJson=JSON.stringify(t,null,2)}},select_equip_special_skill:{get(){const e=JSON.parse(this.equipParamsJson);return void 0!==e.special_skill?e.special_skill:this.externalSearchParams.special_skill?parseInt(this.externalSearchParams.special_skill):0},set(e){const t=JSON.parse(this.equipParamsJson);t.special_skill=void 0!==e&&""!==e?e:void 0,this.equipParamsJson=JSON.stringify(t,null,2)}},select_equip_gem_value:{get(){const e=JSON.parse(this.equipParamsJson);if(void 0!==e.gem_value)return e.gem_value;const t=this.externalSearchParams.gem_value;return void 0!==t?String(t):void 0},set(e){const t=JSON.parse(this.equipParamsJson);t.gem_value=void 0!==e&&""!==e?String(e):void 0,this.equipParamsJson=JSON.stringify(t,null,2)}},select_equip_gem_level:{get(){const e=JSON.parse(this.equipParamsJson);if(void 0!==e.gem_level)return e.gem_level;if(void 0!==e.jinglian_level)return e.jinglian_level;const t=this.externalSearchParams.gem_level||this.externalSearchParams.jinglian_level;return void 0!==t?Number(t):void 0},set(e){const t=JSON.parse(this.equipParamsJson);void 0===e||null===e||""===e?(delete t.gem_level,delete t.jinglian_level):(this.externalSearchParams.gem_level&&(t.gem_level=Number(e)),this.externalSearchParams.jinglian_level&&(t.jinglian_level=Number(e))),this.equipParamsJson=JSON.stringify(t,null,2)}},select_equip_attr_value:{get(){const e=JSON.parse(this.equipParamsJson),t=this.externalSearchParams||{},s=new Set(this.equip_attr_list||[]),i=e=>{if(null===e||void 0===e||""===e)return;const t=Number(e);return Number.isNaN(t)?e:t},a=this;return new Proxy({},{get(a,r){if("symbol"===typeof r)return;const n=String(r);if(!s.has(n))return;if(Object.prototype.hasOwnProperty.call(e,n)&&void 0!==e[n])return e[n];const l=t[n];return i(l)},set(e,t,i){if("symbol"===typeof t)return!0;const r=String(t);if(!s.has(r))return!0;const n=JSON.parse(a.equipParamsJson);return void 0===i||null===i||""===i?delete n[r]:n[r]=i,a.equipParamsJson=JSON.stringify(n,null,2),!0}})},set(e){const t=JSON.parse(this.equipParamsJson);e&&"object"===typeof e&&Object.entries(e).forEach(([e,s])=>{this.equip_attr_list.includes(e)&&(void 0===s||null===s||""===s?delete t[e]:t[e]=s)}),this.equipParamsJson=JSON.stringify(t,null,2)}},externalSearchParams(){return JSON.parse(this.externalSearchParamsJsonStr)},view_loc(){return{view_loc:this.globalSettings.overall?"overall_search":"search_cond"}},currentServerData(){if(this.$store&&this.$store.state&&this.$store.state.server_data_value){const e=this.$store.state.server_data_value;if(Array.isArray(e)&&e.length>=2){const[t,s]=e;if(s&&t){let e="";if(this.$store.getters&&this.$store.getters.getCurrentServerData){const t=this.$store.getters.getCurrentServerData;t&&t.server_id===s&&(e=t.server_name||"")}return!e&&window.server_data&&(e=this.getServerNameByServerId(Number(s))||""),{server_id:Number(s),areaid:Number(t),server_name:e}}}}let e=null!==this.server_id&&void 0!==this.server_id?this.server_id:this.externalParams?.serverid||this.externalParams?.server_id||this.externalParamsState?.serverid||this.externalParamsState?.server_id,t=null!==this.server_name&&void 0!==this.server_name?this.server_name:this.externalParams?.server_name||this.externalParamsState?.server_name;const s=null!==e&&void 0!==e&&""!==e,i=null!==t&&void 0!==t&&""!==t;if(s||i){let a=null;return s&&window.server_data&&(a=this.getAreaIdByServerId(Number(e))),{server_id:s?Number(e):0,areaid:null!==a&&void 0!==a?a:0,server_name:i?t:""}}if(this.$store&&this.$store.getters&&this.$store.getters.getCurrentServerData){const{server_id:e,areaid:t,server_name:s}=this.$store.getters.getCurrentServerData;if(e&&t)return{server_id:e,areaid:t,server_name:s||""}}return{server_id:0,areaid:0,server_name:""}},externalParamsFromProps(){return this.$props.externalParams},externalParamsState(){return this.internalExternalParams},server_data_value:{get(){const e=this.currentServerData;if(e&&e.areaid&&e.server_id)return[e.areaid,e.server_id];const t=this.$store?.state.server_data_value;return t&&Array.isArray(t)&&t.length>0?t:[]},set(e){this.$store&&this.$store.dispatch&&this.$store.dispatch("setServerDataValue",e)}},isCookieValid(){return!(!this.$store||!this.$store.getters)&&this.$store.getters["cookie/isCookieCacheValid"]},cached_params(){try{let e=JSON.parse(this.equipParamsJson);"pet"===this.activeTab&&(e=JSON.parse(this.petParamsJson));const t={...this.view_loc,hide_lingshi:"equip"===this.activeTab&&"normal"===this.equipForm.equip_type?1:void 0},s=this.globalSettings.overall?{server_id:void 0,server_name:void 0,areaid:void 0}:this.currentServerData,i=JSON.parse(this.externalSearchParamsJsonStr),a={...i};if("equip"===this.activeTab){const e=Object.keys(i).filter(e=>e.startsWith("added_attr.")),t={};this.select_equip_addon_attr_type.forEach(e=>{let s=e;const i=e.lastIndexOf("_");if(i>0){const t=e.substring(i+1);/^\d+$/.test(t)&&(s=e.substring(0,i))}s.startsWith("added_attr.")&&(t[s]=(t[s]||0)+1)}),e.forEach(e=>{void 0!==t[e]?a[e]=t[e]:delete a[e]})}const r=Object.assign({},a,e,s,t);return this.select_equip_special_effect_enable||delete r.special_effect,this.select_equip_special_skill_enable||delete r.special_skill,this.select_equip_gem_enable||(delete r.gem_value,delete r.gem_level,delete r.jinglian_level),JSON.stringify(r,null,2)}catch(e){return"{}"}}},watch:{sum_attr_with_melt(e){const t=JSON.parse(this.equipParamsJson);t.sum_attr_with_melt=e?1:void 0,t.sum_attr_without_melt=e?void 0:1,this.equipParamsJson=JSON.stringify(t,null,2)},select_equip_special_effect_enable(e){e||(this.select_equip_special_effect=void 0)},select_equip_special_skill_enable(e){e||(this.select_equip_special_skill=void 0)},select_equip_gem_enable(e){e||(this.select_equip_gem_value=void 0,this.select_equip_gem_level=void 0,this.select_equip_jinglian_level=void 0)},price_min(e){if(this.price_min_enable){const t=JSON.parse(this.equipParamsJson);t.price_min=this.price_min_enable?100*e:void 0,this.equipParamsJson=JSON.stringify(t,null,2)}},price_min_enable(e){const t=JSON.parse(this.equipParamsJson);t.price_min=e?100*this.price_min:void 0,this.equipParamsJson=JSON.stringify(t,null,2)},select_suit_effect(e){const t=JSON.parse(this.equipParamsJson);t.suit_effect=e||void 0,this.equipParamsJson=JSON.stringify(t,null,2)},suit_effect_type(e){e||(this.select_suit_effect="")},select_pet_skill(e){console.log(e);const t=JSON.parse(this.petParamsJson);t.skill=e.join(","),this.petParamsJson=JSON.stringify(t,null,2)},select_pet_lingxing(e){const t=JSON.parse(this.petParamsJson);t.lingxing=null!==e&&void 0!==e?String(e):void 0,this.petParamsJson=JSON.stringify(t,null,2)},select_pet_growth(e){const t=JSON.parse(this.petParamsJson);null===e||void 0===e||isNaN(e)?t.growth=void 0:t.growth=Math.floor(1e3*e),this.petParamsJson=JSON.stringify(t,null,2)},select_pet_is_baobao(e){const t=JSON.parse(this.petParamsJson);t.is_baobao=e?1:0,this.petParamsJson=JSON.stringify(t,null,2)},select_pet_level_enable(e){const t=JSON.parse(this.petParamsJson);e?(t.level_min=this.select_pet_level[0],t.level_max=this.select_pet_level[1]):(t.level=void 0,t.level_max=void 0),this.petParamsJson=JSON.stringify(t,null,2)},select_pet_level(e){const t=JSON.parse(this.petParamsJson);t.level_min=e[0],t.level_max=e[1],this.petParamsJson=JSON.stringify(t,null,2)},isRunning(e){this.$emit("update:isRunning",e),e?this.startStatusMonitor():this.stopStatusMonitor()},"globalSettings.multi"(e){if(e){const e=Number(this.externalParamsState.serverid);console.log("å¼€å¯å¤šæœåŠ¡å™¨æ¨¡å¼ï¼Œå½“å‰æœåŠ¡å™¨ID:",e),this.globalSettings.max_pages=1,this.setTargetServersByLevel(e)}else this.target_server_list=[],this.target_server_objects=[],console.log("å…³é—­å¤šæœåŠ¡å™¨æ¨¡å¼ï¼Œæ¸…ç©ºç›®æ ‡æœåŠ¡å™¨åˆ—è¡¨")},externalParamsFromProps:{handler(e){this.syncExternalParams()},immediate:!0,deep:!0},"$route.query"(e){e&&Object.keys(e).length>0&&this.syncExternalParams()}},async mounted(){this.$store&&this.$store.dispatch&&(this.$store.dispatch("cookie/cleanExpiredCache"),this.cacheCleanupTimer=setInterval(()=>{this.$store.dispatch("cookie/cleanExpiredCache")},6e4)),this.loadHotServers(),await this.loadSearchParams(),this.checkTaskStatus(),this.delayRange=[this.globalSettings.delay_min,this.globalSettings.delay_max],this.syncExternalParams(),this.loadExternalParams(),console.log("AutoParams mounted - props:",{server_id:this.server_id,server_name:this.server_name,externalParams:this.externalParams});const e=null!==this.server_id&&void 0!==this.server_id?this.server_id:this.externalParams.serverid||this.externalParams.server_id,t=null!==this.server_name&&void 0!==this.server_name?this.server_name:this.externalParams.server_name;if(this.$store&&(e||t)){const s=e||this.currentServerData.server_id;if(s&&window.server_data){let e=null;for(let t in window.server_data){let[i,a]=window.server_data[t];const[r,,,,n]=i;for(let t of a){const[i,a]=t;if(Number(i)===Number(s)){e=n;break}}if(e)break}if(e){const i=t||this.currentServerData.server_name||"";this.$store.dispatch("setServerDataValue",[e,Number(s)]),this.server_data_value=[e,Number(s)],i&&this.$store.dispatch("setServerData",{areaid:e,server_id:Number(s),server_name:i})}}else t&&!s&&this.currentServerData.server_id&&this.$store.dispatch("setServerData",{areaid:this.currentServerData.areaid,server_id:this.currentServerData.server_id,server_name:this.server_name})}else!this.externalParamsState.action||!this.$store||this.$store?.state.server_data_value&&0!==this.$store?.state.server_data_value.length||this.$store.dispatch("setServerDataValue",[43,77]);if(this.externalParamsState.action){const{action:e}=this.externalParamsState;this.getFeatures().then(()=>{"similar_equip"===e?this.loadEquipConfig():"similar_pet"===e&&this.loadPetConfig()})}this.initSuitOptions(),this.initWindowReuseManager()},beforeDestroy(){this.stopStatusMonitor(),this.cacheCleanupTimer&&clearInterval(this.cacheCleanupTimer),this.cancelSleep()},methods:{getAddedAttrType(e){const t={1:"å›ºä¼¤",2:"ä¼¤å®³",3:"é€Ÿåº¦",4:"æ³•ä¼¤",5:"ç‹‚æš´",6:"ç‰©ç†æš´å‡»",7:"æ³•æœ¯æš´å‡»",8:"å°å°",9:"æ³•ä¼¤ç»“æœ",10:"ç©¿åˆº",11:"æ²»ç–—",12:"æ°”è¡€",13:"é˜²å¾¡",14:"æ³•é˜²",15:"æŠ—ç‰©ç†æš´å‡»",16:"æŠ—æ³•æœ¯æš´å‡»",17:"æŠ—å°",18:"æ ¼æŒ¡",19:"å›å¤"};return t[Number(e.replace("added_attr.",""))]},parseListData(e){const t=e.match(/Request\.JSONP\.request_map\.request_\d+\((.*)\)/);let s="{}";s=t?t[1]:e;try{let e={};return e="string"===typeof s?JSON.parse(s):s,e}catch(i){return console.error("è§£æå“åº”æ•°æ®å¤±è´¥:",i),{}}},handleSuitChange(e){const[,t]=e,s=t?.split("_").pop();this.select_suit_effect=s||""},onServerDataChange(){const{server_id:e,areaid:t,server_name:s}=this.$store.getters.getCurrentServerData;console.log("server_data_value",{server_id:e,areaid:t,server_name:s})},onTargetServerChange(e){this.target_server_objects=[],e&&e.length>0&&e.forEach(e=>{this.findServerInHotServers(e)})},findServerInHotServers(e){for(const t of this.hotServers)if(t.children)for(const s of t.children)if(s.server_id===e)return void this.target_server_objects.push({server_id:s.server_id,areaid:t.areaid||s.areaid,server_name:s.server_name})},setTargetServersByLevel(e){if(!this.hotServers||0===this.hotServers.length)return void console.warn("hotServersæ•°æ®æœªåŠ è½½ï¼Œæ— æ³•è®¾ç½®ç›®æ ‡æœåŠ¡å™¨");let t=null,s=null;for(const i of this.hotServers)if(i.children){for(const a of i.children)if(a.server_id===e){t=i,s=a;break}if(t)break}t&&s?(console.log(`æ‰¾åˆ°æœåŠ¡å™¨ ${s.server_name} åœ¨çƒŸèŠ±ç­‰çº§ç»„: ${t.server_name}`),this.target_server_objects=[],this.target_server_list=[],t.children.forEach(e=>{const s={server_id:e.server_id,areaid:t.areaid||e.areaid,server_name:e.server_name};this.target_server_objects.push(s),this.target_server_list.push(e.server_id)}),console.log(`å·²è®¾ç½® ${this.target_server_objects.length} ä¸ªåŒçº§åˆ«æœåŠ¡å™¨ä¸ºç›®æ ‡æœåŠ¡å™¨:`,this.target_server_objects)):console.warn(`æœªæ‰¾åˆ°æœåŠ¡å™¨ID ${e} å¯¹åº”çš„çƒŸèŠ±ç­‰çº§ç»„`)},initWindowReuseManager(){try{c.A&&c.A.isSetup?console.log("çª—å£å¤ç”¨ç®¡ç†å™¨å·²åˆå§‹åŒ–ï¼ŒçŠ¶æ€:",c.A.getStatus()):(console.log("çª—å£å¤ç”¨ç®¡ç†å™¨æ­£åœ¨åˆå§‹åŒ–..."),setTimeout(()=>{c.A&&c.A.isSetup?console.log("çª—å£å¤ç”¨ç®¡ç†å™¨åˆå§‹åŒ–å®Œæˆï¼ŒçŠ¶æ€:",c.A.getStatus()):console.warn("çª—å£å¤ç”¨ç®¡ç†å™¨åˆå§‹åŒ–å¤±è´¥")},1e3)),window.addEventListener("params-updated",e=>{const{params:t,timestamp:s}=e.detail;console.log("çª—å£å‚æ•°å·²æ›´æ–°:",t),this.$forceUpdate(),this.loadExternalParams(),t.action&&this.getFeatures(),t.equip_type&&(this.equipForm.equip_type=t.equip_type,this.loadSearchParams()),t.activeTab&&(this.activeTab=t.activeTab),console.log("âœ… é¡µé¢æ•°æ®å·²åˆ·æ–°")})}catch(e){console.warn("åˆå§‹åŒ–çª—å£å¤ç”¨ç®¡ç†å™¨å¤±è´¥:",e)}},async stopTask(){try{if(this.isChromeExtension&&this.isRunning)return this.isRunning=!1,this.cancelSleep(),this.$notify.success({title:"ä»»åŠ¡çŠ¶æ€",message:"å¾ªç¯è¯·æ±‚å·²åœæ­¢"}),void console.log("Chromeæ’ä»¶æ¨¡å¼ï¼šå¾ªç¯è¯·æ±‚å·²åœæ­¢");const e=await this.$api.spider.stopTask();200===e.code?(this.$notify.success({title:"ä»»åŠ¡çŠ¶æ€",message:e.data?.message||"ä»»åŠ¡å·²åœæ­¢"}),this.isRunning=!1):this.$notify.error({title:"ä»»åŠ¡çŠ¶æ€",message:e.message||"åœæ­¢å¤±è´¥"})}catch(e){this.$notify.error({title:"ä»»åŠ¡çŠ¶æ€",message:e.message}),this.isChromeExtension&&(this.isRunning=!1,this.cancelSleep())}},async resetTask(){try{const e=await this.$api.spider.resetTask();200===e.code?(this.$notify.success({title:"ä»»åŠ¡çŠ¶æ€",message:e.data?.message||"ä»»åŠ¡çŠ¶æ€å·²é‡ç½®"}),this.isRunning=!1):this.$notify.error({title:"ä»»åŠ¡çŠ¶æ€",message:e.message||"é‡ç½®å¤±è´¥"})}catch(e){this.$notify.error({title:"ä»»åŠ¡çŠ¶æ€",message:e.message})}},genaratePetSearchParams(){console.log("ç”Ÿæˆå® ç‰©æœç´¢å‚æ•°, externalParamsState:",this.externalParamsState);const e={};return this.externalParamsState.all_skill||console.warn("ç¼ºå°‘ all_skill å‚æ•°"),this.externalParamsState.growth||console.warn("ç¼ºå°‘ growth å‚æ•°"),e.skill=this.externalParamsState.all_skill?.replace(/\|/g,",")||"",e.texing=this.externalParamsState.texing?.id,e.lingxing=this.externalParamsState.lx,e.growth=this.externalParamsState.growth?1e3*this.externalParamsState.growth:void 0,console.log("ç”Ÿæˆçš„å® ç‰©æœç´¢å‚æ•°:",e),e},genarateEquipmentSearchParams({kindid:e,...t}){const s={};if(window.is_pet_equip(e)){this.equipForm.equip_type="pet",s.level=t.equip_level,s.speed=t.speed>0?t.speed:void 0,s.shanghai=t.shanghai>0?t.shanghai:void 0,s.hp=t.qixue>0?t.qixue:void 0,s.fangyu=t.fangyu>0?t.fangyu:void 0,s.xiang_qian_level=t.xiang_qian_level>0?t.xiang_qian_level:void 0;let e=0;["fali","liliang","lingli","minjie","naili"].forEach(t=>{s[`addon_${t}`]=this.targetFeatures[`addon_${t}`]>0?1:void 0,"minjie"===t&&this.targetFeatures[`addon_${t}`]<0?s.addon_minjie_reduce=-1*this.targetFeatures[`addon_${t}`]:e+=this.targetFeatures[`addon_${t}`]}),s.addon_sum=e>0?e:void 0,s.addon_sum_min=s.addon_sum,s.addon_status=t.addon_status,t.fangyu>0?s.equip_pos=1:t.speed>0?s.equip_pos=2:s.equip_pos=3}else if(window.is_lingshi_equip(e)){s.kindid=e,this.equipForm.equip_type="lingshi",t.equip_level&&(s.equip_level_min=t.equip_level,s.equip_level_max=1*t.equip_level+9);const{lingshi_added_attr1:i,lingshi_added_attr2:a}=window.AUTO_SEARCH_CONFIG,r={"æ³•ä¼¤ç»“æœ":"æ³•æœ¯ä¼¤å®³ç»“æœ","æ³•ä¼¤":"æ³•æœ¯ä¼¤å®³","å›ºä¼¤":"å›ºå®šä¼¤å®³","æ³•æœ¯æš´å‡»":"æ³•æœ¯æš´å‡»ç­‰çº§","ç‰©ç†æš´å‡»":"ç‰©ç†æš´å‡»ç­‰çº§","å°å°":"å°å°å‘½ä¸­ç­‰çº§","ç‹‚æš´":"ç‹‚æš´ç­‰çº§","ç©¿åˆº":"ç©¿åˆºç­‰çº§","æ²»ç–—":"æ²»ç–—èƒ½åŠ›","ä¼¤å®³":"ä¼¤å®³","é€Ÿåº¦":"é€Ÿåº¦","æŠ—æ³•æœ¯æš´å‡»":"æŠ—æ³•æœ¯æš´å‡»ç­‰çº§","æŠ—ç‰©ç†æš´å‡»":"æŠ—ç‰©ç†æš´å‡»ç­‰çº§","æŠ—å°":"æŠµæŠ—å°å°ç­‰çº§","å›å¤":"æ°”è¡€å›å¤æ•ˆæœ","æ³•é˜²":"æ³•æœ¯é˜²å¾¡","é˜²å¾¡":"é˜²å¾¡","æ ¼æŒ¡":"æ ¼æŒ¡å€¼","æ°”è¡€":"æ°”è¡€"},n=()=>{const e={},t={...i,...a};return Object.entries(t).forEach(([t,s])=>{const i=r[s];i&&(e[i]=t)}),e},l=()=>{const e=["damage","defense","magic_damage","magic_defense","fengyin","anti_fengyin","speed"];e.forEach(e=>{t[e]&&t[e]>0&&(s[e]=t[e])})},o=()=>{t.gem_level&&t.gem_level>0&&(s.jinglian_level=t.gem_level)},c=()=>{if(!t.attrs||!Array.isArray(t.attrs))return;const e=n(),i={};t.attrs.forEach(({attr_type:t})=>{const s=e[t];s&&(i[s]=(i[s]||0)+1)}),Object.entries(i).forEach(([e,t])=>{s[`added_attr.${e}`]=t;for(let s=0;s<t;s++)this.select_equip_addon_attr_type.push(`added_attr.${e}${s>0?"_"+(s-1):""}`)})};l(),o(),c()}else{s.kindid=e;let i=0;const a=[];[["moli","magic"],["liliang","power"],["tizhi","physique"],["minjie","dex"],["naili","endurance"]].forEach(([e,t])=>{this.targetFeatures[`addon_${e}`]>0&&a.push(t),i+=this.targetFeatures[`addon_${e}`]}),i>0&&(s.sum_attr_type=a.join(","),s.sum_attr_value=i),t.gem_level>0&&(s.gem_level=t.gem_level,s.gem_value=t.gem_value.join(",")),t.equip_level&&(s.level_min=t.equip_level,s.level_max=1*t.equip_level+9),t.special_effect&&t.special_effect.length>0&&(s.special_mode="and",s.special_effect=t.special_effect.join(",")),t.suit_effect&&(s.suit_effect=t.suit_effect),t.special_skill&&(s.special_skill=t.special_skill),t.hole_num&&(s.hole_num=t.hole_num),"2"===s.gem_value?this.equip_attr_list.splice(this.equip_attr_list.indexOf("all_damage"),1):"1"===s.gem_value&&this.equip_attr_list.splice(this.equip_attr_list.indexOf("init_damage"),1),this.equip_attr_list.forEach(e=>{t[e]&&(s[e]=t[e])})}return s},getAreaIdByServerId(e){if(!window||!window.server_data)return;const t=Number(e);for(let s in window.server_data){const[e,i]=window.server_data[s],a=e&&e.length>=5?e[4]:void 0;if(Array.isArray(i))for(const s of i)if(Array.isArray(s)&&s[0]===t)return a}},getServerNameByServerId(e){if(!window||!window.server_data)return;const t=Number(e);for(let s in window.server_data){const[e,i]=window.server_data[s];if(Array.isArray(i))for(const s of i)if(Array.isArray(s)&&s[0]===t)return s[1]||void 0}},async getFeatures(){let e={};if("similar_equip"===this.externalParamsState.action?await this.$api.equipment.extractFeatures({equipment_data:{kindid:1*this.externalParamsState.kindid||void 0,type:1*this.externalParamsState.type||void 0,large_equip_desc:this.externalParamsState.large_equip_desc},data_type:"equipment"}).then(t=>{if(200===t.code&&t.data.features&&(this.targetFeatures=t.data.features,e=this.genarateEquipmentSearchParams(t.data.features),!this.isChromeExtension)){this.targetFeatures&&this.targetFeatures.equip_level&&(document.title=this.targetFeatures.equip_level+"çº§"+this.externalParamsState.equip_name+" - "+this.externalParamsState.large_equip_desc.replace(/#r|#Y|#G|#c4DBAF4|#W|#cEE82EE|#c7D7E82/g,""));const e=document.querySelector('link[rel="icon"]');e&&this.externalParamsState.equip_face_img&&(e.href=this.externalParamsState.equip_face_img)}}):"similar_pet"===this.externalParamsState.action&&(e=this.genaratePetSearchParams()),this.externalParamsState.serverid){const t=Number(this.externalParamsState.serverid),s=this.getAreaIdByServerId(t);e.server_id=t,void 0!==s&&(e.areaid=s),this.server_data_value=[s,t],e.server_name=this.externalParamsState.server_name}this.externalSearchParamsJsonStr=JSON.stringify(e,null,2)},syncExternalParams(){let e={};const t=this.$props.externalParams;if(t&&"object"===typeof t&&Object.keys(t).length>0?(e=JSON.parse(JSON.stringify(t)),console.log("ä»propsè·å–å‚æ•°:",e)):this.$route&&this.$route.query&&(e=JSON.parse(JSON.stringify(this.$route.query)),console.log("ä»è·¯ç”±è·å–å‚æ•°:",e)),"similar_pet"===e.action){const t=["evol_skill_list","neidan","equip_list","texing"];t.forEach(t=>{if("string"===typeof e[t])try{e[t]=JSON.parse(e[t]||"{}")}catch(s){e[t]={}}})}this.internalExternalParams=e,e.activeTab&&(this.activeTab=e.activeTab),e.equip_type&&(this.equipForm.equip_type=e.equip_type)},async loadExternalParams(){this.syncExternalParams(),this.externalParamsState.activeTab&&(this.activeTab=this.externalParamsState.activeTab),this.externalParamsState.equip_type&&(this.equipForm.equip_type=this.externalParamsState.equip_type)},quickConfig(e){const t={small:{max_pages:10,delay_min:10,delay_max:15},medium:{max_pages:50,delay_min:15,delay_max:20},large:{max_pages:100,delay_min:20,delay_max:30}},s=t[e];Object.assign(this.globalSettings,s),this.delayRange=[this.globalSettings.delay_min,this.globalSettings.delay_max]},onDelayRangeChange(e){this.globalSettings.delay_min=e[0],this.globalSettings.delay_max=e[1]},async loadEquipConfig(){const e=await this.$api.equipment.getEquipConfig();if(this.equipConfig=e.data,this.targetFeatures.suit_effect&&(this.suit_effect_type=""),this.targetFeatures.addon_total>0&&([["liliang","power"],["minjie","dex"],["moli","magic"],["naili","endurance"],["tizhi","physique"]].forEach(([e,t])=>{this.targetFeatures[`addon_${e}`]>0&&this.select_sum_attr_type.push(t)}),this.targetFeatures.addon_total>0)){const e=JSON.parse(this.equipParamsJson);e.sum_attr_value=this.targetFeatures.addon_total,this.equipParamsJson=JSON.stringify(e,null,2)}},loadPetConfig(){console.log(this.externalParamsState),this.select_pet_skill=this.externalParamsState.all_skill.split("|"),this.select_pet_lingxing=this.externalParamsState.lx?parseInt(this.externalParamsState.lx):null,this.select_pet_growth=this.externalParamsState.growth?parseFloat(this.externalParamsState.growth):null,this.select_pet_is_baobao="æ˜¯"===this.externalParamsState.is_baobao?1:0,this.select_pet_level=[this.externalParamsState.equip_level,this.externalParamsState.equip_level]},async loadHotServers(){try{const e=await this.$api.system.getHotServers();if(this.hotServers=e,console.log("çƒ­é—¨æœåŠ¡å™¨æ•°æ®åŠ è½½å®Œæˆ:",this.hotServers),this.target_server_list&&this.target_server_list.length>0&&this.onTargetServerChange(this.target_server_list),this.globalSettings.multi&&this.externalParamsState.serverid){const e=Number(this.externalParamsState.serverid);console.log("æ•°æ®åŠ è½½å®Œæˆåï¼Œè‡ªåŠ¨è®¾ç½®å¤šæœåŠ¡å™¨æ¨¡å¼çš„ç›®æ ‡æœåŠ¡å™¨:",e),this.setTargetServersByLevel(e)}}catch(e){console.error("åŠ è½½çƒ­é—¨æœåŠ¡å™¨æ•°æ®å¤±è´¥:",e),this.$notify.error("åŠ è½½çƒ­é—¨æœåŠ¡å™¨æ•°æ®å¤±è´¥: "+e.message)}},async loadSearchParams(){try{this.paramsLoading=!0;const e=await this.$api.system.getSearchParams();200===e.code?(this.defaultParams={role:e.data.role||{},equip_normal:e.data.equip_normal||{},equip_lingshi:e.data.equip_lingshi||{},equip_pet:e.data.equip_pet||{},equip_pet_equip:e.data.equip_pet_equip||{},pet:e.data.pet||{}},this.initializeDefaultParams()):(this.$notify.error(e.message||"åŠ è½½æœç´¢å‚æ•°é…ç½®å¤±è´¥"),this.initializeDefaultParams())}catch(e){console.error("åŠ è½½æœç´¢å‚æ•°é…ç½®å¤±è´¥:",e),this.$notify.error("åŠ è½½æœç´¢å‚æ•°é…ç½®å¤±è´¥: "+e.message),this.initializeDefaultParams()}finally{this.paramsLoading=!1}},initializeDefaultParams(){this.roleParamsJson=JSON.stringify(this.defaultParams.role,null,2);const e=this.getEquipParamKey(this.equipForm.equip_type);this.equipParamsJson=JSON.stringify(this.defaultParams[e],null,2),this.petParamsJson=JSON.stringify(this.defaultParams.pet,null,2)},onHeadlessToggle(e){e?this.$notify.info({title:"æ— å¤´æ¨¡å¼",message:"æµè§ˆå™¨å°†åœ¨åå°è¿è¡Œï¼Œä¸ä¼šæ˜¾ç¤ºç•Œé¢"}):this.$notify.info({title:"æœ‰å¤´æ¨¡å¼",message:"æµè§ˆå™¨å°†æ˜¾ç¤ºç•Œé¢ï¼Œå¯ä»¥çœ‹åˆ°æ“ä½œè¿‡ç¨‹"})},onTargetUrlChange(e){"custom"===e&&(this.playwrightForm.custom_url="")},onEquipTypeChange(){this.resetParam("equip")},getEquipParamKey(e){const t={normal:"equip_normal",lingshi:"equip_lingshi",pet:"equip_pet_equip"};return t[e]||"equip_normal"},getParamConfig(e){return this.paramManager[e]},validateParam(e){const t=this.getParamConfig(e);return!!t&&(this[t.errorKey]=this.validateJson(this[t.jsonKey],e),!this[t.errorKey])},resetParam(e){const t=this.getParamConfig(e);if(!t)return;const s=t.getParamType?t.getParamType():t.paramType;this[t.jsonKey]=JSON.stringify(this.defaultParams[s],null,2),this[t.errorKey]=""},async saveParam(e){const t=this.getParamConfig(e);if(!t)return!1;if(!this.validateParam(e))return this.$notify.error("è¯·å…ˆä¿®å¤JSONæ ¼å¼é”™è¯¯"),!1;this[t.savingKey]=!0;try{const e=JSON.parse(this[t.jsonKey]),s=t.getParamType?t.getParamType():t.paramType,i=await this.$api.system.updateSearchParam(s,e);if(200===i.code){const i=t.getSuccessMessage?t.getSuccessMessage():t.successMessage;return this.$notify.success(i),this.defaultParams[s]=e,!0}return this.$notify.error({title:"ä¿å­˜å¤±è´¥",message:i.message||"ä¿å­˜å¤±è´¥"}),!1}catch(s){return console.error(`ä¿å­˜${e}å‚æ•°å¤±è´¥:`,s),this.$notify.error({title:"ä¿å­˜å¤±è´¥",message:"ä¿å­˜å¤±è´¥: "+s.message}),!1}finally{this[t.savingKey]=!1}},validateJson(e,t){try{if(!e.trim())return`${t}å‚æ•°ä¸èƒ½ä¸ºç©º`;const s=JSON.parse(e);return"object"!==typeof s||null===s?"JSONå¿…é¡»æ˜¯ä¸€ä¸ªå¯¹è±¡":""}catch(s){return`JSONæ ¼å¼é”™è¯¯: ${s.message}`}},async loadCachedParams(){try{await this.loadSearchParams(),this.$notify.success({title:"ç¼“å­˜å‚æ•°",message:"ç¼“å­˜å‚æ•°å·²åˆ·æ–°"})}catch(e){this.$notify.error({title:"è·å–å¤±è´¥",message:"è·å–ç¼“å­˜å‚æ•°å¤±è´¥: "+e.message})}},getSearchType(){const e=this.globalSettings.overall?"overall_":"";if("equip"!==this.activeTab)return"pet"===this.activeTab?`${e}search_pet`:`${e}search_${e?"":"role_"}equip`;switch(this.equipForm.equip_type){case"normal":return`${e}search_${e?"":"role_"}equip`;case"lingshi":return`${e}search_lingshi`;case"pet":return`${e}search_pet_equip`;default:return`${e}search_equip`}},async startSpiderByType(e){if(this.isRunning)return;const t=this.paramManager[e];if(console.log("config",t),t)if(this[t.errorKey])this.$notify.error("è¯·å…ˆä¿®å¤JSONæ ¼å¼é”™è¯¯");else try{const i=t.getParams(),a=this.getSearchType();if(this.isChromeExtension)try{const[t]=await(chrome.tabs?.query({active:!0,currentWindow:!0}))||[];if(!t)return void(this.$notify&&this.$notify.warning("æœªæ‰¾åˆ°æ´»åŠ¨æ ‡ç­¾é¡µ"));this.isRunning=!0,this.activeTab=e,await this.doMultiPageRequest(t.id,a,i.cached_params,i.multi,i.target_server_list)}catch(s){console.error("æœç´¢çˆ¬è™«å¤±è´¥:",s),this.isRunning=!1}else{const s=await this.$api.spider[`start${t.spiderType.charAt(0).toUpperCase()+t.spiderType.slice(1)}`](i);200===s.code?(this.$notify.success({title:"çˆ¬è™«æœç´¢",message:`${t.spiderName}å·²æœç´¢`}),this.activeTab=e,this.isRunning=!0):this.$notify.error({title:"æœç´¢å¤±è´¥",message:s.message||"æœç´¢å¤±è´¥"})}}catch(s){this.$notify.error({title:"æœç´¢å¤±è´¥",message:"æœç´¢å¤±è´¥: "+s.message})}},async doRequestInCBG(e,t){return await chrome.debugger.sendCommand({tabId:e},"Runtime.evaluate",{expression:`(function() {ApiRecommd.queryList(${JSON.stringify(t)})})()`})},async doMultiPageRequest(e,t,s,i=!1,a=[]){let r=this.globalSettings.max_pages||5;const n=this.globalSettings.delay_min||8,l=this.globalSettings.delay_max||20;if(i&&a&&a.length>0){console.log(`ğŸŒ å¤šåŒºæœç´¢æ¨¡å¼ï¼Œå…± ${a.length} ä¸ªæœåŠ¡å™¨ï¼Œæ¯ä¸ªæœåŠ¡å™¨ ${r} é¡µ`);let i=0;for(let o=0;o<a.length;o++){const c=a[o];if(!this.isRunning){console.log(`è¯·æ±‚å·²åœæ­¢ï¼Œå·²å®Œæˆ ${o}/${a.length} ä¸ªæœåŠ¡å™¨`);break}console.log(`\nğŸ“ [${o+1}/${a.length}] å¼€å§‹è¯·æ±‚æœåŠ¡å™¨: ${c.server_name} (ID: ${c.server_id})`);const _={...s,server_id:c.server_id,areaid:c.areaid,server_name:c.server_name},p=await this.doSingleServerMultiPageRequest(e,t,_,r,n,l,`[${o+1}/${a.length}]`);if(i+=p,console.log(`âœ… æœåŠ¡å™¨ ${c.server_name} å®Œæˆ ${p} é¡µè¯·æ±‚`),o<a.length-1&&this.isRunning){const e=Math.floor(Math.random()*(l-n+1))+n;console.log(`â±ï¸ ç­‰å¾… ${e} ç§’åè¯·æ±‚ä¸‹ä¸€ä¸ªæœåŠ¡å™¨...`),await this.sleep(1e3*e)}}return console.log(`\nğŸ‰ å¤šåŒºæœç´¢å®Œæˆï¼Œå…±å¤„ç† ${a.length} ä¸ªæœåŠ¡å™¨ï¼Œæ€»è®¡ ${i} é¡µ`),this.$notify.success({title:"å¤šåŒºæœç´¢å®Œæˆ",message:`å·²å®Œæˆ ${a.length} ä¸ªæœåŠ¡å™¨çš„æœç´¢ï¼Œå…± ${i} é¡µæ•°æ®`}),this.isRunning=!1,void(this.isChromeExtension&&(this.$root.$emit("search-task-completed"),console.log("å·²å‘å‡ºæœç´¢å®Œæˆäº‹ä»¶")))}console.log(`å¼€å§‹å¤šé¡µè¯·æ±‚ï¼Œæ€»å…± ${r} é¡µï¼Œå»¶æ—¶èŒƒå›´ï¼š${n}-${l} ç§’`),await this.doSingleServerMultiPageRequest(e,t,s,r,n,l)},async doSingleServerMultiPageRequest(e,t,s,i,a,r,n=""){let l=0,o=null;try{for(let u=1;u<=i;u++){if(!this.isRunning){l=u-1,console.log(`è¯·æ±‚å·²åœæ­¢ï¼Œå·²å®Œæˆ ${l}/${o||i} é¡µ`);break}if(null!==o&&u>o){console.log(`â­ï¸ è·³è¿‡ç¬¬ ${u} é¡µï¼ˆè¶…å‡ºå®é™…æ€»é¡µæ•° ${o}ï¼‰`);break}const p={act:"recommd_by_role",page:u,count:15,server_type:3,view_loc:this.view_loc.view_loc,search_type:t,...s},d=null!==o?o:i;console.log(`${n}[${u}/${d}] æ­£åœ¨è¯·æ±‚ç¬¬ ${u} é¡µ...`);try{await this.doRequestInCBG(e,p);if(console.log(`${n}[${u}/${d}] ç¬¬ ${u} é¡µè¯·æ±‚å·²å‘é€`),l=u,await this.sleep(1e3),this.$store&&this.$store.getters["chromeDevtools/getEquipsAndPetsData"]){const e=this.$store.getters["chromeDevtools/getEquipsAndPetsData"];if(e&&e.length>0){const t=e[0];if(t.responseData&&"completed"===t.status)try{const e=this.parseListData(t.responseData);if(e&&e.pager){const{cur_page:t,total_pages:s}=e.pager;if(null===o&&(o=s,console.log(`${n}ğŸ“Š æ£€æµ‹åˆ°å®é™…æ€»é¡µæ•°ï¼š${s}`),s<i&&(i=s,console.log(`${n}ğŸ“‰ è°ƒæ•´è¯·æ±‚é¡µæ•°ä»åŸå§‹è®¾ç½®åˆ° ${s}`))),console.log(`${n}ğŸ“„ é¡µç ä¿¡æ¯ï¼šå½“å‰é¡µ ${t}/${s}`),t>=s){console.log(`${n}âœ… å·²åˆ°è¾¾æœ€åä¸€é¡µ (${t}/${s})ï¼Œåœæ­¢ç»§ç»­è¯·æ±‚`);break}}}catch(c){console.warn("è§£æ pager ä¿¡æ¯å¤±è´¥:",c)}}}}catch(_){console.error(`[${u}/${d}] ç¬¬ ${u} é¡µè¯·æ±‚å¤±è´¥:`,_),l=u}if(u<i){if(!this.isRunning){console.log(`è¯·æ±‚å·²åœæ­¢ï¼ˆå»¶æ—¶å‰ï¼‰ï¼Œå·²å®Œæˆ ${l}/${o||i} é¡µ`);break}const e=Math.floor(Math.random()*(r-a+1))+a;if(console.log(`${n}[${u}/${o||i}] ç­‰å¾… ${e} ç§’åè¯·æ±‚ä¸‹ä¸€é¡µ...`),await this.sleep(1e3*e),!this.isRunning){console.log(`è¯·æ±‚å·²åœæ­¢ï¼ˆå»¶æ—¶åï¼‰ï¼Œå·²å®Œæˆ ${l}/${o||i} é¡µ`);break}}}const p=o||l;return console.log(`${n}æ‰€æœ‰é¡µé¢è¯·æ±‚å®Œæˆï¼Œå…±å®Œæˆ ${l}/${p} é¡µ`),n||(this.$notify.success({title:"çˆ¬è™«æœç´¢",message:`å·²å®Œæˆ ${l}/${p} é¡µè¯·æ±‚`}),this.isChromeExtension&&(this.$root.$emit("search-task-completed"),console.log("å·²å‘å‡ºæœç´¢å®Œæˆäº‹ä»¶"))),l}catch(p){return console.error(`${n}å¤šé¡µè¯·æ±‚å¤±è´¥:`,p),n||this.$notify.error({title:"è¯·æ±‚å¤±è´¥",message:"å¤šé¡µè¯·æ±‚å¤±è´¥: "+p.message}),0}finally{n||(this.isRunning=!1,console.log("å¤šé¡µè¯·æ±‚ä»»åŠ¡ç»“æŸ"))}},sleep(e){return new Promise(t=>{this.sleepTimer&&clearTimeout(this.sleepTimer),this.sleepTimer=setTimeout(()=>{this.sleepTimer=null,t()},e)})},cancelSleep(){this.sleepTimer&&(clearTimeout(this.sleepTimer),this.sleepTimer=null,console.log("å»¶æ—¶å·²å–æ¶ˆ"))},async startPlaywrightCollector(){if(!this.isRunning)try{const e={headless:this.playwrightForm.headless};console.log("æœç´¢Playwrightæ”¶é›†ï¼Œå‚æ•°:",e);const t=await this.$api.spider.startPlaywright(e);200===t.code?(this.$notify.success("Playwrightæ”¶é›†å·²æœç´¢"),this.activeTab="playwright",this.isRunning=!0):this.$notify.error(t.message||"æœç´¢å¤±è´¥")}catch(e){this.$notify.error("æœç´¢å¤±è´¥: "+e.message)}},getEquipTypeName(e){const t={normal:"æ™®é€šè£…å¤‡",lingshi:"çµé¥°è£…å¤‡",pet:"å¬å”¤å…½è£…å¤‡"};return t[e]||"è£…å¤‡"},async checkTaskStatus(){if(!this.isChromeExtension)try{const e=await this.$api.spider.getStatus();if(200===e.code){const t=e.data.status;this.isRunning="running"===t,"completed"!==t&&"error"!==t&&"stopped"!==t||("error"===t?this.$notify.error(e.data.message||"ä»»åŠ¡æ‰§è¡Œå‡ºé”™"):"stopped"===t&&this.$notify.info(e.data.message||"ä»»åŠ¡å·²åœæ­¢"),this.isRunning=!1)}}catch(e){console.error("çŠ¶æ€ç›‘æ§é”™è¯¯:",e)}},startStatusMonitor(){this.stopStatusMonitor(),this.statusMonitor=setInterval(async()=>{await this.checkTaskStatus()},5e3)},stopStatusMonitor(){this.statusMonitor&&(clearInterval(this.statusMonitor),this.statusMonitor=null)}}},h=d,m=s(1656),g=(0,m.A)(h,i,a,!1,null,"0edec01f",null),v=g.exports},3016:function(e,t,s){"use strict";s.d(t,{A:function(){return g}});var i=function(){var e=this,t=e._self._c;return e.equipment?t("el-popover",{staticStyle:{position:"relative",display:"block"},attrs:{"close-delay":0,"data-equip-sn":e.equipment.equip_sn,placement:e.placement,width:e.popoverWidth,trigger:"hover","visible-arrow":!1,"raw-content":"","popper-class":"equip-desc-popper"},scopedSlots:e._u([{key:"reference",fn:function(){return[t("div",{staticStyle:{position:"relative",overflow:"hidden"},style:e.imageStyle},[e.equipment?t("el-image",{staticStyle:{display:"block"},style:e.imageStyle,attrs:{src:e.getImageUrl(e.equipment.equip_face_img,e.size),fit:"cover",referrerpolicy:"no-referrer"}}):e._e(),e.isBinding?t("div",{staticClass:"icon-binding"},[e._v(" ä¸“ç”¨ ")]):e._e(),e.rightLock.length>0?t("div",{staticStyle:{position:"absolute",width:"14px",right:"0px",top:"0px"}},e._l(e.rightLock,function(e){return t("img",{key:e,staticStyle:{height:"14px",width:"14px",display:"block"},attrs:{src:s(1900)(`./time_lock_${e}.webp`)}})}),0):e._e(),e.leftLock.length>0?t("div",{staticStyle:{position:"absolute",width:"14px",left:"0px",top:"0px"}},e._l(e.leftLock,function(e){return t("img",{key:e,staticStyle:{height:"14px",width:"14px",display:"block"},attrs:{src:s(1900)(`./time_lock_${e}.webp`)}})}),0):e._e()],1)]},proxy:!0}],null,!1,8755497),model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[e.visible?t("EquipmentDesc",{attrs:{equipment:e.equipment,"lock-type":e.lockType,image:e.image,isBinding:e.isBinding}}):e._e()],1):e._e()},a=[],r=(s(8111),s(2489),s(8770)),n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"equip-desc-content"},[e.lockType.length>0?t("div",{staticStyle:{position:"absolute",width:"100px",right:"12px",top:"12px",display:"flex","justify-content":"flex-end"}},e._l(e.lockType,function(e){return t("img",{key:e,staticStyle:{height:"14px",width:"14px",display:"block"},attrs:{src:s(1900)(`./time_lock_${e}.webp`)}})}),0):e._e(),t("el-row",{attrs:{type:"flex",justify:"space-between"}},[e.image?t("el-col",{staticStyle:{width:"120px","margin-right":"20px",position:"relative"}},[t("el-image",{staticStyle:{width:"120px",height:"120px"},attrs:{src:e.getImageUrl(e.equipment.equip_face_img,"big"),fit:"cover",referrerpolicy:"no-referrer"}}),e.isBinding?t("div",{staticClass:"icon-binding"},[e._v(" ä¸“ç”¨ ")]):e._e()],1):e._e(),t("el-col",[e.equipment.equip_name?t("p",{staticClass:"equip_desc_yellow"},[e._v(e._s(e.equipment.equip_name))]):e._e(),t("p",{domProps:{innerHTML:e._s(e.parseEquipDesc(e.equipment.equip_type_desc?.replace(/#R/g,"<br />"),"#n"))}}),t("p",{domProps:{innerHTML:e._s(e.parseEquipDesc(e.equipment.large_equip_desc))}})])],1)],1)},l=[],o={name:"EquipmentDesc",mixins:[r.B],props:{equipment:{type:Object,required:!0},image:{type:Boolean,default:!0},lockType:{type:Array,default:()=>[]},isBinding:{type:Boolean,default:!1}},methods:{parseEquipDesc(e,t="#Y"){return e?"function"===typeof window.parse_style_info?window.parse_style_info(e,t):e:""}}},c=o,_=s(1656),p=(0,_.A)(c,n,l,!1,null,"90faa89e",null),u=p.exports,d={name:"EquipmentImage",mixins:[r.B],components:{EquipmentDesc:u},props:{image:{type:Boolean,default:!0},equipment:{type:[Object,void 0]},size:{type:String,default:"small"},width:{type:String,default:"50px"},height:{type:String,default:"50px"},cursor:{type:String,default:"pointer"},placement:{type:String,default:"right"},popoverWidth:{type:Number,default:405},lockType:{type:Array,default:()=>[]}},data(){return{visible:!1,features:{}}},computed:{isBinding(){const e=/ç©å®¶(\d+)ä¸“ç”¨/,t=this.equipment.large_equip_desc.match(e);return Boolean(t)},rightLock(){return this.lockType.filter(e=>9!==e&&"protect"!==e&&"huoyue"!==e)},leftLock(){return this.lockType.filter(e=>9===e||"protect"===e||"huoyue"===e)},imageStyle(){return{display:"block",width:this.width,height:this.height,cursor:this.cursor}}}},h=d,m=(0,_.A)(h,i,a,!1,null,"7be741b2",null),g=m.exports},3152:function(e,t,s){"use strict";s.d(t,{h:function(){return i}});s(4114),s(8111),s(2489),s(7588),s(1701);const i={methods:{calculateEvolSkillList(e){const t=[];if(!e.EvolSkill||!window.CBG_GAME_CONFIG.pet_skill_high_to_other_level_mapping)return t;const s=e.EvolSkill.split("|").map(Number),i={};s.forEach(function(e){i[e]=1});const a=i;if(!a)return t;const r=[];for(const n in a)r.push(""+n);for(let n=0,l=r.length;n<l;n++){const s=r[n],i=window.CBG_GAME_CONFIG.pet_skill_high_to_other_level_mapping[s];if(!i)continue;const l={skill_type:s,level:a[s],evol_type:s};if(e.all_skills){const t=e.all_skills[String(i.high_skill)],s=e.all_skills[String(i.low_skill)];t||s?(l.hlightLight=!0,t||(l.evol_type=i.low_skill)):l.hlightLight=!1}t.push(l)}return t},getSkillImage(e=0){if(0===e)return"";const t=e.toString().padStart(4,"0");return`https://cbg-xyq.res.netease.com/images/skill/${t}.gif`},parsePetInfo(e){const t=window.parse_desc_info(e),s=this.parse_fashang_fafang(e),i=window.get_pet_attrs_info(t,{only_basic_attr:!1,fashang:s.fashang,fafang:s.fafang});return i},parse_fashang_fafang(e){try{const t=JSON.decode(window.decode_desc(e));return{fashang:t.fashang,fafang:t.fafang}}catch(t){return{}}},formatSkills({petData:e},t=2,s=8){try{const i=document.createElement("div"),{pet_tip_skill_grid:a}=window.show_pet_skill_in_grade(e.all_skill,e.sp_skill,t,s,{pet_skill_url:"https://cbg-xyq.res.netease.com/images/skill/",notice_node_name:"pet_tip_notice_msg",skill_panel_name:"pet_tip_skill_grid",enhance_skills:[],table_class:"tb03"},e);return a.forEach(e=>{e&&i.appendChild(e)}),i.innerHTML}catch(i){return console.error("æ ¼å¼åŒ–æŠ€èƒ½å¤±è´¥:",i),""}},getEnhanceInfo(e){var t,s={pet:{skill_id_list:[571,661],is_baobao:1},search:{is_hide_unreasonable_price_equips:1}},i=s.pet||{},a=e.is_time_lock;return a=a>0||"true"==a,a&&(t=e.time_lock_days),i.time_lock=a,i.time_lock_days=t,{time_lock:e.time_lock||!1,time_lock_days:e.time_lock_days||90,is_baobao:"æ˜¯"===e.petData.is_baobao||!1,skill_id_list:i.skill_id_list||[]}},formatSkillsDiff(e,t){if(!e||!t||!t.all_skill)return"";const s=t.all_skill,i=s.split("|").filter(e=>e.trim()),a=e.split("|").filter(e=>e.trim()),r=a.filter(e=>!i.includes(e));return r.length>0?"+"+r.map(e=>window.CBG_GAME_CONFIG.xyq_pet_skills[e]).join("|"):""},formatTexing(e){if(!e)return"";try{const t=JSON.parse(e);return t.name||""}catch(t){return""}}}}},3426:function(e){"use strict";e.exports="data:image/webp;base64,UklGRswDAABXRUJQVlA4WAoAAAAUAAAADQAADQAAQUxQSHMAAAABcFtr25o8FV7+ZAzrvj0+Joq1uhc6QlL9pMPdmSEiJgAw6fJ4nIeGT7WFjEZSrRXQJuCr3yhj6wMPAM86YcYvsnQu/8jy2Pmne/rxyWgzl4/vsgjLf6rUsd4v1zpo7X/zawUmbSHDoVSt8mnS1Xk7jQwAAFZQOCAgAAAAcAEAnQEqDgAOAAIANCWMAnQBQAAA/uuOXAkrVhTswABYTVAgCgMAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjM5ODlDM0I4MzEzNzExRTY4MDQ5ODQ1NkI0QzA0RTFBIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjM5ODlDM0I5MzEzNzExRTY4MDQ5ODQ1NkI0QzA0RTFBIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Mzk4OUMzQjYzMTM3MTFFNjgwNDk4NDU2QjRDMDRFMUEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Mzk4OUMzQjczMTM3MTFFNjgwNDk4NDU2QjRDMDRFMUEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4="},4785:function(e){"use strict";e.exports="data:image/webp;base64,UklGRogBAABXRUJQVlA4WAoAAAAQAAAAEgAAEgAAQUxQSGIAAAABcOJsmxN9mZFwR4IiSMIpCLJZgmuuufF0dlW9DPWfcasjYgJw1bd7DbT7JGbnjpW/jX5l7JJu8gkA+6nQW2Ddpjpr23/IhVLNYQiFzATgCanaxzWoJNoY90ZFtCZoTnBcAVZQOCAAAQAA0AUAnQEqEwATAD6RQJpKJaOiIagIALASCWoAwN3cC3kKgG6AfqAGtFJDK1k9x6wkvPsA6dlOAADJdKxlZXPqqEXS9fnLHYlX55Fv9MAnG4Cc2qvOdaMYfXEn8egdPqflIdw7c/kzZLcZd2HQ6DDiOB0l+XjgfJp3jY8FGVJ7M59sva1Z199nD6niEEuGvDnda/LA4XeSFI23O6+BSJ+XIKRHzUWVuSG5vqf9McTs4NhCOpWBwgYk+pErvRfNSfIojnKulvxoK9nLItvWBXsK3p8xcY4HP6u9otSu2n4DojJgbfTc8Pi3PdtYnLPc8+M2iKuJEFKwXcdjf+TSD5gAAA=="},5146:function(e){"use strict";e.exports="data:image/webp;base64,UklGRloDAABXRUJQVlA4WAoAAAAQAAAAGAAAGAAAQUxQSOcBAAABmTJE9D8gwbbdRHK+ZKouGGaeSbII3H6yAWZOhrnIrpKCvYaICZgABEIIsSpr1s2bsAatCz8dujFQSikgAEBmrVtUyQWMCdFr3Dhz6NoIAIAQq3LgntJPX53pRV6waNu6W++9d22gFCHGjMdyb33QMgolgFu10cSBA40nro0Ug8p9N7440QtyCgAmSKMXLNtReeoGsBl7cl8cS5yCAAAIMqyWOCt2tD66Zq2664MTEQs8AKUICXJRT3jL9n10qLSg8kEHmJPAaDAyLIN5iYDMgcaZTaXPGgIMZwSDTuRlLGIkI2C5XbU1ma9GYDmGACvwohGw3CgZgLGhN8s4J8DxBIDhWQDAHBYlwBYNAlIDcKwRTOkNEiAF5bBIAWNiCmIIAWDAQHgARMHURAFErBXlGBA2nVAgGs6VZBYDAmwaAQrEFedMZw0DxWBqQUAcyhxpLHMYAcb+JwYERHIi17jQ2uJFEZsw/jVqKM+LvpmYl1z4at0i0RoZ7B9KjKwcOfPTtlmj2k+dVaWklyjyDwgC69aRzKKCEI2XMktySUeov5gROLVTrRU5NlKq9kyybY3BCAMQSowOfeWsyhEilFC1Qz/0ViyaMeEkrWtnjmQ2rCgQRoRSStUuXOslA6EIs5xMZV6BEEIAAFZQOCBMAQAAEAYAnQEqGQAZAD6RPJhIpaMiISgNULASCWwAsPNrM2bxG5P8spo6GEB5y305oo/maYnXN1KagUWoAP73wc9caSKZLTb7dMkLxjxxyAJD1vyweLgto9Q2/SzHgXK4zuR67YNt4LSs7CGKHwvPscVFws4BHw8WDX2RO5dHaDJbwOwDzvWZnzbwfqhyPgydk68c67hioAa/KD2aobcbIHEi9hJ2f8yjt/BGbuQ+f+RwAiemUFjkIcxxgyMt4FOqWf5XObPEzsflaMJclB5reDAOLK1CTjWHA7TM4E8MO7vxCV9xyMWwWe5UQBj9XkFGfhLTnvBt9ETMVuHod5GAQm/Fr18jAtqy+Hp+xJ6VtUWxsFu9Oyuv7jyLZYS92LZ/8mXqqankBh9/a/+xH3f7fCsit/8E1kutKZuK5wV18yHlownWz9wIiucuP4CAAAA="},5734:function(e){"use strict";e.exports="data:image/webp;base64,UklGRj4DAABXRUJQVlA4WAoAAAAQAAAAGAAAGAAAQUxQSJoBAAANkC3btmk7fa7tfc65jm3bT3b+WU/OtW37Hm3OOPmEiJgAEERM8VjTLs+vRyubE+VcFQVBECkebtxle1G6sjVdJkdRATG3b978Ot1f3WoMzx++87X9S6IgmManx0a/Rd6+JthciLzXxybebOWI4dHcWJ3ASYHATmr4Jw68ITfcODreV3V3JQB+0VmJwwvHJ9vVmKuTtRpuwG8DvxYTBEc7CP17H0AKkOexawylisKr9vKpY29j0ALU6zsl38epCLjPxhtL84plW+A4QS2BQpZmyK5aa8Mo+C6/hAAF4jqc2nTssmDZ/K2TZtCQBM6OYv+dn6bg5VFc4r/uuFFUABH5G1WFire2eUT+h041Vcp7VPhnlaXi1Nx1QcT5mwjQ9gPVqOs+tZq2/WnZCgLe7/UyhncHVpwh8kuuYjtZbXkXuQ4uHNjHdlVUQEXDRubn9raQKe2te91yPRcVFSQM48W1NkymGn1dPnRbjYqKivJ5ZvcuTyRXVR0eGbrefCAs7VTnNtqP7t8lIqKaq6rGS/VyErtO0d/jGkSMAFZQOCB+AQAAsAcAnQEqGQAZAD6RQptKJaOiIagIALASCWwAts9638v58XuZ95dABoOead9mHe2xUPtcrHCsbdN+SdlFvK/QOGIzGISeAAD++JsQfm5s3RODymgbWiZjtMnOn6V+bS7cLUgbNzt9Ih3v3IDfKGya5rtZ/vTP86XGTi9gXdJPjpmbHa/edFs4mbXNAz6EYFxuedvyEnaJ42FK24F392v453Wbd8XEuWRF36k9XYP7jmM/htqqe/SAX08LuzG8+5k6+F78o/qRR3Js7POFQook0J/WcMGdWPspmdkdsLGEPLf/r/8H4NhbBy7/fC/aqZAQ/VkdE99F/d2vkz/TsXI3R/R6FfOvNk9n3ppCs0RDXdGWEBWe61/n8zcfU0+pzU/6UJQMLeswclV/g2iXqmgXH3eykUHS61eUORu1g0/eQ9sIrVq1jtCmO77ExiCDhf65c7+n/39pB7HKGZHfDvyTwk67YmV+wzfTp/dR3/kusLKDMo01guBVx3UibQAAAA=="},6130:function(e,t,s){"use strict";s.d(t,{A:function(){return y}});var i=function(){var e=this,t=e._self._c;return t("PetInfoPopover",e._b({staticStyle:{position:"relative",display:"block"},attrs:{pet:e.pet,equipFaceImg:e.equipFaceImg,enhanceInfo:e.enhanceInfo},scopedSlots:e._u([{key:"trigger",fn:function(){return[t("el-image",{style:e.imageStyle,attrs:{src:e.imageUrl,fit:"cover",referrerpolicy:"no-referrer"}},[t("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[t("i",{staticClass:"el-icon-picture-outline"})])])]},proxy:!0}])},"PetInfoPopover",e.$attrs,!1))},a=[],r=function(){var e=this,t=e._self._c;return t("el-popover",{attrs:{"data-equip-sn":e.$attrs.equip_sn,placement:"right",trigger:e.trigger,"popper-class":"pet-info-popover"},on:{show:e.handleShow,hide:e.handleHide},scopedSlots:e._u([{key:"reference",fn:function(){return[t("div",{staticClass:"pet-trigger",on:{click:e.handleClick}},[e._t("trigger")],2)]},proxy:!0}],null,!0),model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[e.pet&&e.visible&&e.pet.icon?t("div",{staticClass:"tabCont"},[t("PetDetail",{attrs:{current_pet:e.pet}})],1):e.pet&&e.visible&&!e.pet.icon?t("div",{staticClass:"tabCont"},[t("div",{ref:"SkillTipsBox",staticClass:"soldDetail",staticStyle:{width:"320px",display:"none"},attrs:{id:"SkillTipsBox"}}),t("div",{staticClass:"cols",staticStyle:{width:"280px","margin-left":"-2px","margin-right":"2px"}},[e.pet.action?[t("div",{staticClass:"thum",staticStyle:{"text-align":"center"}},[t("div",{staticClass:"time-key-wap"},[t("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.getImageUrl(e.equipFaceImg,"big"),referrerpolicy:"no-referrer"}})],1),t("p",{staticClass:"f14px cWhite"},[e._v("ç­‰çº§ï¼š"),t("span",{staticClass:"cYellow"},[e._v(e._s(e.pet.equip_level))]),e._v(" æºå¸¦ç­‰çº§ï¼š"+e._s(e.pet.role_grade_limit))])]),t("div",{staticClass:"blank12"}),t("h4",[e._v("èµ„è´¨")]),t("table",{staticClass:"tb02 petZiZhiTb petAttrInfo",attrs:{width:"100%",cellspacing:"0",cellpadding:"0"}},[t("tr",[t("th",[e._v("å†å²çµæ€§å€¼ï¼š")]),t("td",[e._v(e._s(e.pet.lx))]),t("th",[e._v("æˆé•¿ï¼š")]),t("td",[e._v(e._s(e.pet.growth))])]),t("tr",[t("th",{class:{enhance:e.enhanceInfo.is_baobao}},[e._v("æ˜¯å¦å®å®ï¼š")]),t("td",{class:{enhance:e.enhanceInfo.is_baobao}},[t("span",{style:"color:"+("å¦"===e.pet.is_baobao?"#FF0000":"#00FF00")},[e._v(" "+e._s(e.pet.is_baobao)+" ")])])])])]:[t("div",{staticClass:"thum",staticStyle:{"text-align":"center"}},[t("div",{staticClass:"time-key-wap"},[t("el-image",{staticStyle:{width:"100px",height:"100px"},attrs:{src:e.getImageUrl(e.equipFaceImg,"big"),referrerpolicy:"no-referrer"}})],1),t("p",{staticClass:"f14px cWhite"},[e._v("åå­—ï¼š"),t("span",{staticClass:"cYellow"},[e._v(e._s(e.pet.pet_name))]),e._v(" ç­‰çº§ï¼š"+e._s(e.pet.pet_grade))])]),t("h4",[e._v(" å±æ€§"),e.pet.other.color_str&&e.pet.other.current_on_avt?t("span",[e._v("(å·²åŒ…å«æ¢¦å½±ç©¿æˆ´å±æ€§)")]):e._e()]),t("table",{staticClass:"tb02",attrs:{width:"100%",cellspacing:"0",cellpadding:"0"}},[t("tr",[t("th",[e._v("æ°”è¡€ï¼š")]),t("td",[e._v(e._s(e.pet.blood)+"/"+e._s(e.pet.max_blood))]),t("th",[e._v("ä½“è´¨ï¼š")]),t("td",[e._v(" "+e._s(e.pet.soma)+" "),e.pet.ti_zhi_add?t("span",{staticClass:"color-pink"},[e._v("+"+e._s(e.pet.ti_zhi_add))]):e._e()])]),t("tr",[t("th",[e._v("é­”æ³•ï¼š")]),t("td",[e._v(e._s(e.pet.magic)+"/"+e._s(e.pet.max_magic))]),t("th",[e._v("æ³•åŠ›ï¼š")]),t("td",[e._v(" "+e._s(e.pet.magic_powner)+" "),e.pet.fa_li_add?t("span",{staticClass:"color-pink"},[e._v("+"+e._s(e.pet.fa_li_add))]):e._e()])]),t("tr",[t("th",[e._v("æ”»å‡»ï¼š")]),t("td",[e._v(e._s(e.pet.attack))]),t("th",[e._v("åŠ›é‡ï¼š")]),t("td",[e._v(" "+e._s(e.pet.strength)+" "),e.pet.li_liang_add?t("span",{staticClass:"color-pink"},[e._v("+"+e._s(e.pet.li_liang_add))]):e._e()])]),t("tr",[t("th",[e._v("é˜²å¾¡ï¼š")]),t("td",[e._v(e._s(e.pet.defence))]),t("th",[e._v("è€åŠ›ï¼š")]),t("td",[e._v(" "+e._s(e.pet.endurance)+" "),e.pet.nai_li_add?t("span",{staticClass:"color-pink"},[e._v("+"+e._s(e.pet.nai_li_add))]):e._e()])]),t("tr",[t("th",[e._v("é€Ÿåº¦ï¼š")]),t("td",[e._v(e._s(e.pet.speed))]),t("th",[e._v("æ•æ·ï¼š")]),t("td",[e._v(" "+e._s(e.pet.smartness)+" "),e.pet.min_jie_add?t("span",{staticClass:"color-pink"},[e._v("+"+e._s(e.pet.min_jie_add))]):e._e()])]),t("tr",[e.isShowNewLingli?[t("th",[e._v("æ³•ä¼¤ï¼š")]),t("td",[e._v(e._s(e.pet.iMagDam))])]:[t("th",[e._v("çµåŠ›ï¼š")]),t("td",[e._v(e._s(e.pet.wakan))])],t("th",[e._v("æ½œèƒ½ï¼š")]),t("td",[e._v(e._s(e.pet.potential))])],2),e.isShowNewLingli?t("tr",[t("th",[e._v("æ³•é˜²ï¼š")]),t("td",[e._v(e._s(e.pet.iMagDef))])]):e._e()]),t("div",{staticClass:"blank12"}),t("h4",[e._v("èµ„è´¨")]),t("table",{staticClass:"tb02 petZiZhiTb petAttrInfo",attrs:{width:"100%",cellspacing:"0",cellpadding:"0"}},[t("tr",[t("th",[e._v("æ”»å‡»èµ„è´¨ï¼š")]),t("td",[t("span",{staticClass:"added_attr_wrap"},[e._v(" "+e._s(e.pet.attack_aptitude)+" "),e.pet.attack_ext?t("span",{staticClass:"added_attr"},[e._v("+"+e._s(e.pet.attack_ext))]):e._e()])]),t("th",[e._v("å¯¿å‘½ï¼š")]),t("td",[e._v(e._s(e.pet.lifetime))])]),t("tr",[t("th",[e._v("é˜²å¾¡èµ„è´¨ï¼š")]),t("td",[t("span",{staticClass:"added_attr_wrap"},[e._v(" "+e._s(e.pet.defence_aptitude)+" "),e.pet.defence_ext?t("span",{staticClass:"added_attr"},[e._v("+"+e._s(e.pet.defence_ext))]):e._e()])]),t("th",[e._v("æˆé•¿ï¼š")]),t("td",[e._v(e._s(e.pet.growth))])]),t("tr",[t("th",[e._v("ä½“åŠ›èµ„è´¨ï¼š")]),t("td",[t("span",{staticClass:"added_attr_wrap"},[e._v(" "+e._s(e.pet.physical_aptitude)+" "),e.pet.physical_ext?t("span",{staticClass:"added_attr"},[e._v("+"+e._s(e.pet.physical_ext))]):e._e()])]),t("th",[e._v("äº”è¡Œï¼š")]),t("td",[e._v(e._s(e.getWuxingName(e.pet.five_aptitude)))])]),t("tr",[t("th",[e._v("æ³•åŠ›èµ„è´¨ï¼š")]),t("td",[t("span",{staticClass:"added_attr_wrap"},[e._v(" "+e._s(e.pet.magic_aptitude)+" "),e.pet.magic_ext?t("span",{staticClass:"added_attr"},[e._v("+"+e._s(e.pet.magic_ext))]):e._e()])]),t("th",[e._v("å·²ç”¨å…ƒå®µï¼š")]),t("td",[e._v(e._s(e.pet.used_yuanxiao))])]),t("tr",[t("th",[e._v("é€Ÿåº¦èµ„è´¨ï¼š")]),t("td",[t("span",{staticClass:"added_attr_wrap"},[e._v(" "+e._s(e.pet.speed_aptitude)+" "),e.pet.speed_ext?t("span",{staticClass:"added_attr"},[e._v("+"+e._s(e.pet.speed_ext))]):e._e()])]),t("th",[e._v("å·²ç”¨åƒé‡‘éœ²ï¼š")]),t("td",[e._v(e._s(e.pet.used_qianjinlu))])]),t("tr",[t("th",[e._v("èº²é—ªèµ„è´¨ï¼š")]),t("td",[t("span",{staticClass:"added_attr_wrap"},[e._v(" "+e._s(e.pet.avoid_aptitude)+" "),e.pet.avoid_ext?t("span",{staticClass:"added_attr"},[e._v("+"+e._s(e.pet.avoid_ext))]):e._e()])]),t("th",[e._v("å·²ç”¨ç‚¼å…½çç»ï¼š")]),t("td",[e._v(e._s(e.pet.used_lianshou))])]),t("tr",{attrs:{"data-enhance":'{"dir":"top","x":"auto","y":-6}',"data-enhance-index":"2"}},[e.pet.color?[t("th",[e._v("å˜å¼‚ç±»å‹ï¼š")]),t("td",[e._v(e._s(e.pet.color))])]:[t("th",{class:{enhance:e.enhanceInfo.is_baobao}},[e._v("æ˜¯å¦å®å®ï¼š")]),t("td",{class:{enhance:e.enhanceInfo.is_baobao}},[t("span",{style:"color:"+("å¦"===e.pet.is_baobao?"#FF0000":"#00FF00")},[e._v(" "+e._s(e.pet.is_baobao)+" ")])])],t("th",[e._v("å·²ç”¨æ¸…çµä»™éœ²ï¼š")]),t("td",[e._v(e._s(e.pet.jinjie_cnt))])],2),t("tr",[t("th",[e._v("å†å²çµæ€§å€¼ï¼š")]),t("td",[e._v(e._s(e.pet.lx))])])])]],2),t("div",{staticClass:"cols",staticStyle:{width:"182px"},attrs:{"data-enhance":'{"dir":"top","x":"auto","y":-34}',"data-enhance-index":"1"}},[e.evolSkillList.length>0?t("div",[t("h4",[e._v("èµç¦æŠ€èƒ½")]),t("table",{staticClass:"tb03",attrs:{cellspacing:"0",cellpadding:"0",id:"evol_skill_grid"}},e._l(e.skillRows,function(s,i){return t("tr",{key:i},e._l(s,function(s,i){return t("td",{key:i,staticStyle:{position:"relative"}},[s.hlightLight?[t("img",{attrs:{src:s.icon,width:"40",height:"40",data_equip_name:s.name,data_equip_desc:s.desc,data_tip_box:"SkillTipsBox",data_cifu_icon:s.cifuIcon,data_height_icon:s.heightCifuIcon,referrerpolicy:"no-referrer"},on:{mouseenter:function(t){return e.showSkillTip(t,s)},mouseleave:e.hideSkillTip}}),t("div",{staticClass:"evol_skill_icon",attrs:{data_equip_name:s.name,data_equip_desc:s.desc,data_tip_box:"SkillTipsBox",data_cifu_icon:s.cifuIcon,data_height_icon:s.heightCifuIcon}})]:[t("img",{staticStyle:{filter:"grayscale(100%)"},attrs:{src:s.icon,width:"40",height:"40",data_equip_name:s.name,data_equip_desc:s.desc,data_tip_box:"SkillTipsBox",data_cifu_icon:s.cifuIcon,data_height_icon:s.heightCifuIcon,referrerpolicy:"no-referrer"},on:{mouseenter:function(t){return e.showSkillTip(t,s)},mouseleave:e.hideSkillTip}}),t("div",{staticClass:"evol_skill_icon",staticStyle:{filter:"grayscale(100%)"},attrs:{data_equip_name:s.name,data_equip_desc:s.desc,data_tip_box:"SkillTipsBox",data_cifu_icon:s.cifuIcon,data_height_icon:s.heightCifuIcon}})]],2)}),0)}),0),t("div",{staticClass:"blank12",staticStyle:{clear:"both"}})]):e._e(),t("h4",[e._v("æŠ€èƒ½")]),t("div",{staticClass:"blank6"}),t("div",{ref:"pet_skill_grid_con",attrs:{id:"pet_skill_grid_con"}}),t("table",{staticClass:"tb03",attrs:{cellspacing:"0",cellpadding:"0"}}),t("div",{staticClass:"blank12"}),e.pet.core_close&&e.pet.texing&&void 0!==e.pet.texing.id?t("h4",[e._v(" ç‰¹æ€§:"+e._s(e.pet.core_close)+" ")]):t("h4",[e._v("ç‰¹æ€§")]),e.pet.texing&&void 0!==e.pet.texing.id?t("div",{staticStyle:{"text-align":"left","font-size":"12px"}},[t("span",[e._v(e._s(e.pet.texing.name)+"ï¼š"),t("span",{domProps:{innerHTML:e._s(e.parseStyleInfo(e.pet.texing.effect))}})])]):t("div",{staticStyle:{"text-align":"center"}},[e._v("æ— ")])]),t("div",{staticClass:"cols",staticStyle:{width:"218px","margin-right":"-2px","margin-left":"2px"}},[t("div",{staticClass:"cols",staticStyle:{width:"158px",margin:"0"}},[t("h4",[e._v("è£…å¤‡")]),t("div",{staticClass:"blank6"}),t("table",{staticClass:"tb03 size50",attrs:{cellspacing:"0",cellpadding:"0",id:"pet_equip_con"}},[t("tr",e._l(e.pet.equip_list,function(s,i){return t("td",{key:i},[s&&i<3?t("EquipmentImage",{attrs:{placement:"bottom",image:!1,equipment:e.getEquipImageProps(s),size:"small",popoverWidth:300}}):t("span",[e._v("Â ")])],1)}),0)])]),t("div",{staticClass:"cols",staticStyle:{float:"right",width:"58px",margin:"0"}},[t("h4",[e._v("é¥°å“")]),t("div",{staticClass:"blank6"}),t("table",{staticClass:"tb03 size50",attrs:{cellspacing:"0",cellpadding:"0",id:"pet_shipin_con"}},[t("tr",[t("td",[e.pet.equip_list&&e.pet.equip_list[3]?t("EquipmentImage",{attrs:{placement:"bottom",image:!1,equipment:e.getEquipImageProps(e.pet.equip_list[3]),size:"small"}}):t("span",[e._v("Â ")])],1)])])]),t("div",{staticClass:"blank12",staticStyle:{clear:"both"}}),t("h4",[e._v("å†…ä¸¹")]),t("div",{staticClass:"blank6"}),e.pet.neidan&&0!==e.pet.neidan.length?t("table",{attrs:{width:"100%",cellspacing:"3",cellpadding:"3",id:"RolePetNeidan"}},e._l(e.pet.neidan,function(s,i){return t("tr",{key:i},[t("td",[t("img",{attrs:{src:s.icon,data_equip_name:s.name,data_skill_type:"neidan",data_equip_desc:s.desc,data_equip_level:s.level,data_tip_box:"SkillTipsBox",referrerpolicy:"no-referrer"},on:{mouseenter:function(t){return e.showNeidanTip(t,s)},mouseleave:e.hideSkillTip}})]),t("th",[e._v(e._s(s.name))]),t("td",[e._v(e._s(s.level)+"å±‚")])])}),0):t("p",{staticClass:"textCenter"},[e._v("æ— ")]),t("div",{staticClass:"blank12"}),e.pet.other&&e.pet.other.avt_list&&e.pet.other.avt_list.length?t("div",[t("h4",[e._v("æ¢¦å½±")]),t("table",{staticClass:"tb02",attrs:{width:"100%",cellspacing:"0",cellpadding:"0"}},[t("tr",[t("th",{attrs:{width:"40%"}},[e._v("æ¢¦å½±æ•°é‡ï¼š")]),t("td",[t("p",{staticClass:"fl",staticStyle:{"line-height":"24px"}},[e._v(e._s(e.pet.other.avt_list.length))])])]),e.pet.other.color_str&&e.pet.other.current_on_avt?t("tr",[t("th",{staticStyle:{"vertical-align":"top"},attrs:{width:"40%"}},[e._v("å½“å‰ç©¿æˆ´ï¼š")]),t("td",{staticStyle:{"vertical-align":"top"}},[t("p",[e._v(e._s(e.pet.other.current_on_avt.name))]),e.pet.other.current_on_avt.sumavt_propsk?t("p",{staticStyle:{color:"#00ff00"}},[e._v(" ("+e._s(e.pet.other.current_on_avt.sumavt_propsk)+"+1) ")]):e._e()])]):t("tr",[t("th",{staticStyle:{"padding-right":"20px"},attrs:{width:"40%"}},[e._v("æœªç©¿æˆ´")])])]),t("div",{staticClass:"blank12"})]):e._e(),e.pet.action?e._e():[t("h4",[e._v("å…¶å®ƒ")]),t("div",{staticClass:"blank6"}),t("table",{staticClass:"tb02",attrs:{width:"100%",cellspacing:"0",cellpadding:"0"}},[t("tr",[t("th",{attrs:{width:"50%"}},[e._v("å·²ç”¨å¹»è‰²ä¸¹ï¼š")]),t("td",[e._v(e._s(e.getSummonColorDesc(e.pet.summon_color,e.pet.type_id)))])])])]],2)]):e._e()])},n=[],l=(s(4114),s(8111),s(7588),s(3016)),o=s(8770),c=s(6175),_=s(9645),p={name:"PetInfoPopover",mixins:[o.B,c.G],components:{EquipmentImage:l.A,PetDetail:_.A},props:{trigger:{type:String,default:"click"},equipFaceImg:{type:String,default:""},pet:{type:Object,required:!0},enhanceInfo:{type:Object,default:()=>({})}},data(){return{visible:!1,conf:{pet_skill_url:"https://cbg-xyq.res.netease.com/images/skill/",notice_node_name:"pet_tip_notice_msg",skill_panel_name:"pet_tip_skill_grid",table_class:"tb03",enhance_skills:this.enhanceInfo.skill_id_list||[]}}},emits:["show","hide","click"],computed:{isShowNewLingli(){return void 0!==this.pet.iMagDam&&void 0!==this.pet.iMagDef},evolSkillList(){return this.pet.evol_skill_list||[]},skillRows(){const e=4,t=this.evolSkillList.length;let s=Math.floor(t/e)+(t%e?1:0);s=s<3?3:s,this.pet.genius&&t===e*s&&(s+=1);const i=[];for(let a=0;a<s;a++){const t=this.evolSkillList.slice(a*e,(a+1)*e);i.push(t)}return i}},beforeDestroy(){this.cleanupDynamicEvents()},methods:{show_pet_skill_in_grade:window.show_pet_skill_in_grade,getWuxingName(e){const t={0:"æœªçŸ¥",1:"é‡‘",2:"æœ¨",4:"åœŸ",8:"æ°´",16:"ç«"};return t[e]||"æœªçŸ¥"},parseStyleInfo(e){return e?window.parse_style_info(e,"#Y"):""},getSummonColorDesc(e){return e?e.toString():"æ— "},handleClick(){this.$emit("click")},handleShow(){this.$emit("show")},handleHide(){this.$emit("hide")},showSkillTip(e,t){const s={name:t.name,desc:t.desc||"",icon:t.cifuIcon||t.heightCifuIcon||t.icon,isCifu:!(!t.cifuIcon&&!t.heightCifuIcon)},i=this.$refs.SkillTipsBox;if(!i)return;i.innerHTML=`<img class="tip-skill-icon" src="${s.icon}" referrerpolicy="no-referrer"><div class="skill-text"><p class="cYellow${s.isCifu?" cifu-name":""}">${s.name}</p>${window.parse_style_info?window.parse_style_info(s.desc,"#Y"):s.desc}`,i.style.display="block",i.style.position="fixed";const a=e.target.getBoundingClientRect();let r=a.left,n=a.bottom+5;const l=320,o=120;r+l>window.innerWidth&&(r=window.innerWidth-l-10),n+o>window.innerHeight&&(n=a.top-o-5),r<0&&(r=10),n<0&&(n=10),i.style.left=r+"px",i.style.top=n+"px",i.style.zIndex=9999},hideSkillTip(){const e=this.$refs.SkillTipsBox;e&&(e.style.display="none")},showNeidanTip(e,t){const s={name:t.name,desc:t.desc+(t.level?`<br/><span style="color: #ccc; font-size: 12px;">${t.level}å±‚</span>`:""),icon:t.icon,isCifu:!1};this.showSkillTip(e,s)},bindEventsForDynamicNodes(){const e=this.$refs.pet_skill_grid_con;if(!e)return;const t=e.querySelectorAll("img[data_store_name]");t.forEach(e=>{if(e.dataset.eventBound)return;const t=e.getAttribute("data_store_name"),s=e.getAttribute("data_store_desc"),i=e.src;if(t){const a={name:t,desc:s,icon:i,isCifu:!1};e.addEventListener("mouseenter",e=>{this.showSkillTip(e,a)}),e.addEventListener("mouseleave",()=>{this.hideSkillTip()}),e.dataset.eventBound="true"}})},cleanupDynamicEvents(){const e=this.$refs.pet_skill_grid_con;e&&(e.innerHTML="")}},watch:{visible(e){e&&this.$nextTick(()=>{if(this.pet.all_skill&&this.show_pet_skill_in_grade){const e=this.show_pet_skill_in_grade(this.pet.all_skill,this.pet.sp_skill,6,4,this.conf,this.pet),{skill_panel_name:t,notice_node_name:s}=this.conf,i=e[t],a=e[s];i&&this.$refs.pet_skill_grid_con&&(i.forEach(e=>{e&&this.$refs.pet_skill_grid_con.appendChild(e)}),this.$nextTick(()=>{this.bindEventsForDynamicNodes()})),a&&this.$refs.pet_tip_notice_msg&&(this.$refs.pet_tip_notice_msg.style.display="block")}})}}},u=p,d=s(1656),h=(0,d.A)(u,r,n,!1,null,"31798bc7",null),m=h.exports,g={name:"PetImage",components:{PetInfoPopover:m},mixins:[o.B],props:{size:{type:String,default:"small"},width:{type:String,default:"50px"},height:{type:String,default:"50px"},cursor:{type:String,default:"pointer"},placement:{type:String,default:"right"},popoverWidth:{type:String,default:"400px"},pet:Object,enhanceInfo:{type:Object,default:()=>({})},equipFaceImg:{type:String,default:""}},computed:{imageUrl(){const e=this.equipFaceImg;return this.getImageUrl(`${e}`)},imageStyle(){return{display:"inline-block",width:this.width,height:this.height,cursor:this.cursor}}},mounted(){console.log(this.pet)}},v=g,f=(0,d.A)(v,i,a,!1,null,"28e643ce",null),y=f.exports},6175:function(e,t,s){"use strict";s.d(t,{G:function(){return i}});s(4114),s(8111),s(2489),s(116),s(7588),s(1701),s(3579);const i={data(){return{lingshiKinds:window.lingshiKinds}},methods:{getEquipGemInfoAndBlueBlock(e,t="#Y"){if(!e)return{};if("function"===typeof window.parse_style_info){let s=window.parse_style_info(e,t);const i=document.createElement("div");i.innerHTML=s;const a=i.querySelectorAll('[style="color:#4DBAF4"]');i.innerHTML="";const r=[];a.forEach(e=>{-1===e.innerHTML.indexOf("ç‰¹æŠ€")&&-1===e.innerHTML.indexOf("ç‰¹æ•ˆ")&&-1===e.innerHTML.indexOf("<br>")&&-1===e.innerHTML.indexOf("+")&&r.push(e.innerHTML.replace(/å¥—è£…æ•ˆæœï¼šé™„åŠ çŠ¶æ€|å¥—è£…æ•ˆæœï¼šè¿½åŠ æ³•æœ¯|å¥—è£…æ•ˆæœï¼šå˜èº«æœ¯ä¹‹|å¥—è£…æ•ˆæœï¼šå˜åŒ–å’’ä¹‹/g,"").replace(/<span>/g,"<div>"))});const n=e.match(/#ré”»ç‚¼ç­‰çº§ (\d+) /);let l=n?n[1]:0;if(0===l){const t=e.match(/#rç²¾ç‚¼ç­‰çº§ (\d+)/);l=t?t[1]:0}return{blueBlock:r,gemLevel:l}}return{}},initSuitOptions(){const e=[];if(window.AUTO_SEARCH_CONFIG){if(window.AUTO_SEARCH_CONFIG.suit_added_status){const t=Object.entries(window.AUTO_SEARCH_CONFIG.suit_added_status).map(([e,t])=>({value:`added_status_${e}`,label:t}));t.length>0&&e.push({value:"added_status",label:"é™„åŠ çŠ¶æ€",children:t})}if(window.AUTO_SEARCH_CONFIG.suit_effects){const t=Object.entries(window.AUTO_SEARCH_CONFIG.suit_effects).map(([e,t])=>({value:`suit_effects_${e}`,label:t}));t.length>0&&e.push({value:"suit_effects",label:"è¿½åŠ æ³•æœ¯",children:t})}if(window.AUTO_SEARCH_CONFIG.suit_transform_skills){const t=Object.entries(window.AUTO_SEARCH_CONFIG.suit_transform_skills).map(([e,t])=>({value:`transform_skills_${e}`,label:t}));t.length>0&&e.push({value:"transform_skills",label:"å˜èº«æœ¯",children:t})}if(window.AUTO_SEARCH_CONFIG.suit_transform_charms){const t=Object.entries(window.AUTO_SEARCH_CONFIG.suit_transform_charms).map(([e,t])=>({value:`transform_charms_${e}`,label:t}));t.length>0&&e.push({value:"transform_charms",label:"å˜åŒ–å’’",children:t})}}this.suitOptions=e},getEquipImageProps(e){return e?e.large_equip_desc&&e.equip_name&&e.equip_face_img&&e.equip_type_desc?e:{...e,equip_face_img:e.icon||e.small_icon||e.big_icon,equip_type_desc:e.static_desc,large_equip_desc:e.desc,equip_name:e.name}:{}},getEquipSuitEffect(e){if(!e)return"";try{const t=JSON.parse(e).filter(e=>e),s={};t.forEach(e=>{if(e.desc){const t=e.desc.match(/#c4DBAF4å¥—è£…æ•ˆæœï¼šé™„åŠ çŠ¶æ€#c4DBAF4([^#]+)/);if(t&&t[1]){const e=t[1].trim();s[e]=(s[e]||0)+1}}});for(const[e,i]of Object.entries(s))return i>=3?e:e+`(${i}/3)`;return""}catch(t){return console.error("è§£æè£…å¤‡åˆ—è¡¨å¤±è´¥:",t),""}},isLingshi(e){return this.lingshiKinds.some(([t])=>t===e)},getSpecialEffectName(e,t=!1){if(t){if(1===e)return"è¶…çº§ç®€æ˜“"}else if(window.AUTO_SEARCH_CONFIG&&window.AUTO_SEARCH_CONFIG.equip_special_effect){const t=window.AUTO_SEARCH_CONFIG.equip_special_effect[e.toString()];if(t)return t}return`ç‰¹æ•ˆ${e}`},formatSpecialSkillsAndEffects({special_effect:e,special_skill:t,kindid:s,large_equip_desc:i}){const a=[];if(e&&""!==e)try{const t=JSON.parse(e),r=this.isLingshi(s);Array.isArray(t)&&t.forEach(e=>{if(r){const t=i.match(/#c4DBAF4ç‰¹æ•ˆï¼š([^#]+)ï¼ˆ(\d+)çº§ï¼‰#r/);if(t){const e=t[1],s=t[2];a.push(`${e}ï¼ˆ${s}çº§ï¼‰`)}else{const t=i.match(/#c4DBAF4ç‰¹æ•ˆï¼š([^#]+)#r/);if(t){const e=t[1];a.push(`${e}`)}else{const t=this.getSpecialEffectName(parseInt(e),r);t&&a.push(`${t}`)}}}else{const t=this.getSpecialEffectName(parseInt(e),r);t&&a.push(`${t}`)}})}catch(r){console.warn("è§£æç‰¹æ•ˆJSONå¤±è´¥:",r,e)}if(t&&0!==t){const e=this.getSpecialSkillName(t);e&&a.push(`${e}`)}return a.join("<br />")},getSpecialSkillName(e){if(window.AUTO_SEARCH_CONFIG&&window.AUTO_SEARCH_CONFIG.equip_special_skills){const t=window.AUTO_SEARCH_CONFIG.equip_special_skills;if(Array.isArray(t)){const s=t.find(t=>t[0]===parseInt(e));if(s)return s[1]}}return`ç‰¹æŠ€${e}`},formatSuitEffect({suit_effect:e,addon_status:t,kindid:s}){if(29===s)return t;if(!e)return"";if(window.AUTO_SEARCH_CONFIG&&window.AUTO_SEARCH_CONFIG.suit_added_status){const t=window.AUTO_SEARCH_CONFIG.suit_added_status[e.toString()];if(t)return`é™„åŠ çŠ¶æ€${t}`}if(window.AUTO_SEARCH_CONFIG&&window.AUTO_SEARCH_CONFIG.suit_append_skills){const t=window.AUTO_SEARCH_CONFIG.suit_append_skills[e.toString()];if(t)return`è¿½åŠ æ³•æœ¯${t}`}if(window.AUTO_SEARCH_CONFIG&&window.AUTO_SEARCH_CONFIG.suit_transform_skills){const t=window.AUTO_SEARCH_CONFIG.suit_transform_skills[e.toString()];if(t)return`å˜èº«æœ¯ä¹‹${t}`}if(window.AUTO_SEARCH_CONFIG&&window.AUTO_SEARCH_CONFIG.suit_transform_charms){const t=window.AUTO_SEARCH_CONFIG.suit_transform_charms[e.toString()];if(t)return`å˜åŒ–å’’ä¹‹${t}`}return`å¥—è£…${e}`},getGemImageByGemValue(e){const t=[];if(e.gem_value)try{const s=JSON.parse(e.gem_value);Array.isArray(s)&&s.forEach(e=>{if(e&&this.gem_image&&this.gem_image[e]){const s=this.gem_image[e];t.push(this.getImageUrl(`${s}.gif`,"small"))}})}catch(s){console.error("è§£æå®çŸ³æ•°æ®å¤±è´¥:",s)}return t}}}},7070:function(e){"use strict";e.exports="data:image/webp;base64,UklGRowBAABXRUJQVlA4WAoAAAAQAAAAEgAAEgAAQUxQSF8AAAABcCJtexN9k0i4YySDZDgFmgMwuOaif0evu6pehvonbnVETACu7nbvgA+fzBzcifK38a9MXNLNPAHgPy1mD6LbbCtn+w8lWZGEIgtSACIyogjXWBvoGPdKM1qBl4zEFQBWUDggBgEAAHAGAJ0BKhMAEwA+kUKbSiWjoiGoCACwEglnAAUQIY740/n72AOiT+s3sAfqAFCcLl2HfJH1fyqWsrTYAAD3T/maafwVKMiXcvPc5moCQGPhw6Y71xh7gM/k3fk575KTEp46OUH8rBxpNKf3vCVh7+agdV1VxAThHClSmCqcgQmY20qexNKfqwIUnfhWg9g7SdKRFxgDPbfxvUzGEs/Y2ZD5SSykdUI2hNjJ4B66I4nycpfy11W/p+HiNrNGfa3YIyGm8EFe4m8FMWdDjjsMjBO4+hPkUrf+Fj0mV8AJZZOg9rakZ0IlcCQS38isd7MTHvQu0I0VTLxb0NMTUKT4iDp/SMAAAAA="},7889:function(e,t,s){"use strict";s.d(t,{A:function(){return c}});var i=function(){var e=this,t=e._self._c;return t("el-card",{staticClass:"logs-card",class:{"simple-mode":e.simpleMode}},[e.simpleMode?e._e():t("div",{staticClass:"card-header",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("ğŸ“ å®æ—¶æ—¥å¿—")]),t("div",[t("el-button",{attrs:{type:"text",loading:e.logsLoading,size:"small"},on:{click:e.refreshLogs}},[e._v("åˆ·æ–°")]),t("el-button",{attrs:{type:"text",size:"small"},on:{click:e.toggleLogStream}},[e._v(" "+e._s(e.isLogStreaming?"åœæ­¢":"å¼€å§‹")+"å®æ—¶ç›‘æ§ ")]),t("el-button",{attrs:{type:"text",size:"small"},on:{click:e.clearLogs}},[e._v("æ¸…ç©º")])],1)]),t("div",{staticClass:"logs-content"},[t("div",{ref:"logsContainer",staticClass:"logs-container"},[0===e.logs.length?t("div",{staticClass:"no-logs"},[t("i",{staticClass:"el-icon-document"}),t("p",[e._v("æš‚æ— æ—¥å¿—æ•°æ®")])]):t("div",{staticClass:"log-lines"},e._l(e.logs,function(s,i){return t("div",{key:i,staticClass:"log-line",class:e.getLogLevel(s)},[t("span",{staticClass:"log-time"},[e._v(e._s(e.getLogTime(s)))]),t("span",{staticClass:"log-content"},[e._v(e._s(e.getLogContent(s)))])])}),0)])])])},a=[],r=(s(4114),{name:"LogMonitor",props:{simpleMode:{type:Boolean,default:!1},maxLines:{type:Number,default:100},isRunning:{type:Boolean,default:!1}},data(){return{logsLoading:!1,logs:[],logsInfo:null,isLogStreaming:!1,logEventSource:null}},watch:{isRunning(e){e?this.startLogStream():this.stopLogStream()}},mounted(){this.refreshLogs()},beforeDestroy(){this.stopLogStream()},methods:{async refreshLogs(){this.logsLoading=!0;try{const e={lines:this.maxLines,type:"current"},t=await this.$api.spider.getLogs(e);200===t.code?(this.logs=t.data.logs||[],this.logsInfo=t.data,this.scrollToBottom()):this.$notify.error(t.message||"è·å–æ—¥å¿—å¤±è´¥")}catch(e){this.$notify.error("è·å–æ—¥å¿—å¤±è´¥: "+e.message)}finally{this.logsLoading=!1}},toggleLogStream(){this.isLogStreaming?this.stopLogStream():this.startLogStream()},startLogStream(){if(!this.isLogStreaming)try{this.logEventSource=this.$api.spider.streamLogs(),this.isLogStreaming=!0,this.logEventSource.onmessage=e=>{if(e.data){try{const t=JSON.parse(e.data);t.log?this.logs.push(t.log):"string"===typeof t&&this.logs.push(t)}catch(t){this.logs.push(e.data)}this.logs.length>this.maxLines&&(this.logs=this.logs.slice(-this.maxLines)),this.scrollToBottom()}},this.logEventSource.onerror=e=>{console.error("æ—¥å¿—æµé”™è¯¯:",e),setTimeout(()=>{this.isLogStreaming&&(this.stopLogStream(),this.startLogStream())},5e3)},this.logEventSource.onopen=()=>{console.log("æ—¥å¿—æµè¿æ¥å·²å»ºç«‹")},0===this.logs.length&&this.logs.push("å®æ—¶æ—¥å¿—ç›‘æ§å·²å¯åŠ¨ï¼Œç­‰å¾…æ—¥å¿—æ•°æ®...")}catch(e){console.error("å¯åŠ¨å®æ—¶æ—¥å¿—ç›‘æ§å¤±è´¥:",e)}},stopLogStream(){if(this.logEventSource){try{this.logEventSource.close()}catch(e){console.log("å…³é—­æ—¥å¿—æµè¿æ¥:",e)}this.logEventSource=null}this.isLogStreaming=!1},clearLogs(){this.logs=[],this.logsInfo=null},scrollToBottom(){this.$nextTick(()=>{const e=this.$refs.logsContainer;e&&(e.scrollTop=e.scrollHeight)})},getLogLevel(e){return e.includes("ERROR")||e.includes("é”™è¯¯")?"log-error":e.includes("WARNING")||e.includes("è­¦å‘Š")?"log-warning":e.includes("INFO")||e.includes("ä¿¡æ¯")?"log-info":"log-default"},getLogTime(e){const t=e.match(/(\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2})/);return t?t[1]:""},getLogContent(e){return e.replace(/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}[,\d]*\s*/,"")}}}),n=r,l=s(1656),o=(0,l.A)(n,i,a,!1,null,"312452f7",null),c=o.exports},8770:function(e,t,s){"use strict";s.d(t,{B:function(){return i}});const i={methods:{gen_dynamic_tags(e){if(e)try{return window.gen_dynamic_tags(JSON.parse(e))}catch(t){return""}return""},gen_highlight(e){if(e)try{return window.gen_highlight(JSON.parse(e))}catch(t){return""}return""},handleSizeChange(e){this.pagination.page_size=e,this.pagination.page=1,this.fetchData()},handlePageChange(e){this.pagination.page=e,this.fetchData()},handleSortChange({prop:e,order:t}){this.filters.sort_by=e,this.filters.sort_order="ascending"===t?"asc":"desc",this.fetchData()},getSimilarityTagType(e){return e>=.9?"success":e>=.8?"warning":e>=.7?"info":"danger"},formatTexing(e){if(!e)return"";try{const t=JSON.parse(e);return t.name||""}catch(t){return""}},formatDate(e){if(!e)return"-";const t=new Date(1e3*e);return t.toLocaleString("zh-CN")},getColorNumber(e,t=[0,1]){if(!e)return"-";e=+e;const[s,i]=t;if(!e||e<s||e>i)return"-";var a="number-low";const r=i-s;return e>=s&&e<s+.25*r?a="number-low":e>=s+.25*r&&e<s+.5*r?a="number-medium":e>=s+.5*r&&e<s+.75*r?a="number-high":e>=s+.75*r&&e<=i&&(a="number-perfect"),`<span class="${a}">${e}</span>`},formatPrice(e){const t=parseFloat(e/100);return t?window.get_color_price?window.get_color_price(t):`${t}å…ƒ`:"-"},formatFullPrice(e,t=!1){let s;if(s="object"===typeof e?this.formatPrice(e.price):this.formatPrice(e),!window.LoginInfo||!window.LoginInfo.login)return s;const i=e.cross_server_poundage||0,a=e.fair_show_poundage||0;if(!i||t&&"cross"!==t)return t&&"cross"==t?"":s;let r="";if(1==e.pass_fair_show){const e=parseFloat(i/100);r=`<div class="f12px" style="color: #666;">è·¨æœè´¹<span class="p1000">ï¿¥${e}</span></div>`}else{const e=parseFloat((i+a)/100);r=`<div class="f12px" style="color: #666;">ä¿¡æ¯è´¹<span class="p1000">ï¿¥${e}</span></div>`}return t&&"cross"==t?r:s+r},getCBGLinkByType(e,t="equip"){if(!e)return"#";const s=e.split("-")[1];switch(t){default:return`https://xyq-m.cbg.163.com/cgi/mweb/equip/${s}/${e}`}},debounce(e,t=300){let s;return function(...i){const a=()=>{clearTimeout(s),e.apply(this,i)};clearTimeout(s),s=setTimeout(a,t)}},throttle(e,t=300){let s;return function(...i){s||(e.apply(this,i),s=!0,setTimeout(()=>s=!1,t))}},tableRowClassName({row:e}){return e.is_special?"warning-row":""},getImageUrl(e,t="small"){return e?e.startsWith("http://")||e.startsWith("https://")?"big"===t&&e.includes("/images/equip/small/")?e.replace("/images/equip/small/","/images/big/"):e:`https://cbg-xyq.res.netease.com/images/${t}/${e}`:""}}}},8883:function(e,t,s){"use strict";s.d(t,{A:function(){return _}});var i=function(){var e=this,t=e._self._c;return e.equipment?.large_equip_desc||e.equipment?.equip_desc?t("EquipmentImage",{attrs:{image:!1,"popover-width":200,placement:e.placement,equipment:e.equipment,"lock-type":e.lock_type}}):e._e()},a=[],r=s(3016),n={name:"ItemPopover",components:{EquipmentImage:r.A},props:{placement:{type:String,default:"right-start"},equipment:{type:Object,default:()=>({})}},computed:{lock_type(){return this.equipment?.lock_type||[]}}},l=n,o=s(1656),c=(0,o.A)(l,i,a,!1,null,null,null),_=c.exports},9645:function(e,t,s){"use strict";s.d(t,{A:function(){return _}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"hasLayout"},[t("h4",[e._v(" è¯¦ç»†ä¿¡æ¯ "),e.current_pet.other&&e.current_pet.other.color_str&&e.current_pet.other.current_on_avt?t("span",[e._v("(å·²åŒ…å«æ¢¦å½±ç©¿æˆ´å±æ€§)")]):e._e()]),t("div",{staticClass:"blank9"}),e.current_pet.is_child&&e.current_pet.isnew?t("table",{staticClass:"tb02",attrs:{width:"100%",cellspacing:"0",cellpadding:"0"}},[t("tr",[t("td",{attrs:{width:"152"}},[t("strong",[e._v("ç±»å‹ï¼š")]),e._v(e._s(e.current_pet.kind))]),t("td",{attrs:{width:"150"}},[t("strong",[e._v("æ°”è¡€ï¼š")]),e._v(e._s(e.current_pet.blood_max))]),t("td",{attrs:{width:"150"}},[t("strong",[e._v("æ ¹éª¨ï¼š")]),e._v(e._s(e.current_pet.gg))])]),t("tr",[t("td",[t("strong",[e._v("ç­‰çº§ï¼š")]),e._v(e._s(e.current_pet.pet_grade))]),t("td",[t("strong",[e._v("é­”æ³•ï¼š")]),e._v(e._s(e.current_pet.magic_max))]),t("td",[t("strong",[e._v("æ™ºåŠ›ï¼š")]),e._v(e._s(e.current_pet.zl))])]),t("tr",[t("td",[t("strong",[e._v("æ‚Ÿæ€§ï¼š")]),e._v(e._s(e.current_pet.child_sixwx))]),t("td",[t("strong",[e._v("æ”»å‡»ï¼š")]),e._v(e._s(e.current_pet.attack))]),t("td",[t("strong",[e._v("æ­¦åŠ›ï¼š")]),e._v(e._s(e.current_pet.wl))])]),t("tr",[t("td",[t("strong",[e._v("é—¨æ´¾ï¼š")]),e._v(e._s(e.current_pet.school))]),t("td",[t("strong",[e._v("é˜²å¾¡ï¼š")]),e._v(e._s(e.current_pet.defence))]),t("td",[t("strong",[e._v("å®šåŠ›ï¼š")]),e._v(e._s(e.current_pet.dl))])]),t("tr",[t("td",[t("strong",[e._v("äº”è¡Œï¼š")]),e._v(e._s(e.current_pet.wu_xing))]),t("td",[t("strong",[e._v("é€Ÿåº¦ï¼š")]),e._v(e._s(e.current_pet.speed))]),t("td",[t("strong",[e._v("å¿µåŠ›ï¼š")]),e._v(e._s(e.current_pet.nl))])]),t("tr",[t("td",[t("strong",[e._v("ç»“å±€ï¼š")]),e._v(e._s(e.current_pet.ending))]),t("td",[t("strong",[e._v("æ³•ä¼¤ï¼š")]),e._v(e._s(e.current_pet.iMagDam_all))]),t("td",[t("strong",[e._v("çµæ•ï¼š")]),e._v(e._s(e.current_pet.lm))])]),t("tr",[t("td"),t("td",[t("strong",[e._v("æ³•é˜²ï¼š")]),e._v(e._s(e.current_pet.ling_li))]),t("td")])]):t("table",{staticClass:"tb02 petZiZhiTb",attrs:{width:"100%",cellspacing:"0",cellpadding:"0"}},[t("tr",[t("td",[t("strong",[e._v("ç±»å‹ï¼š")]),e._v(e._s(e.current_pet.kind))]),t("td",[t("strong",[e._v("ç­‰çº§ï¼š")]),e._v(e._s(e.current_pet.pet_grade))]),e.current_pet.color?t("td",[t("strong",[e._v("å˜å¼‚ç±»å‹ï¼š")]),e._v(e._s(e.current_pet.color)+" ")]):t("td",[t("strong",[e._v("æ˜¯å¦å®å®ï¼š")]),t("span",{style:{color:"å¦"===e.current_pet.is_baobao?"#FF0000":"#00FF00"}},[e._v(" "+e._s(e.current_pet.is_baobao)+" ")])])]),t("tr",[t("td",[t("strong",[e._v("æ°”è¡€ï¼š")]),e._v(e._s(e.current_pet.blood_max))]),t("td",[t("strong",[e._v("ä½“è´¨ï¼š")]),e._v(" "+e._s(e.current_pet.ti_zhi)+" "),e.current_pet.ti_zhi_add?t("span",{staticClass:"color-pink"},[e._v("+"+e._s(e.current_pet.ti_zhi_add))]):e._e()]),t("td",[t("strong",[e._v("æ”»å‡»èµ„è´¨ï¼š")]),e._v(" "+e._s(e.current_pet.gong_ji_zz)+" "),e.current_pet.gong_ji_ext?t("span",{staticClass:"added_attr"},[e._v("+"+e._s(e.current_pet.gong_ji_ext))]):e._e()])]),t("tr",[t("td",[t("strong",[e._v("é­”æ³•ï¼š")]),e._v(e._s(e.current_pet.magic_max))]),t("td",[t("strong",[e._v("æ³•åŠ›ï¼š")]),e._v(" "+e._s(e.current_pet.fa_li)+" "),e.current_pet.fa_li_add?t("span",{staticClass:"color-pink"},[e._v("+"+e._s(e.current_pet.fa_li_add))]):e._e()]),t("td",[t("strong",[e._v("é˜²å¾¡èµ„è´¨ï¼š")]),e._v(" "+e._s(e.current_pet.fang_yu_zz)+" "),e.current_pet.fang_yu_ext?t("span",{staticClass:"added_attr"},[e._v("+"+e._s(e.current_pet.fang_yu_ext))]):e._e()])]),t("tr",[t("td",[t("strong",[e._v("æ”»å‡»ï¼š")]),e._v(e._s(e.current_pet.attack))]),t("td",[t("strong",[e._v("åŠ›é‡ï¼š")]),e._v(" "+e._s(e.current_pet.li_liang)+" "),e.current_pet.li_liang_add?t("span",{staticClass:"color-pink"},[e._v("+"+e._s(e.current_pet.li_liang_add))]):e._e()]),t("td",[t("strong",[e._v("ä½“åŠ›èµ„è´¨ï¼š")]),e._v(" "+e._s(e.current_pet.ti_li_zz)+" "),e.current_pet.ti_li_ext?t("span",{staticClass:"added_attr"},[e._v("+"+e._s(e.current_pet.ti_li_ext))]):e._e()])]),t("tr",[t("td",[t("strong",[e._v("é˜²å¾¡ï¼š")]),e._v(e._s(e.current_pet.defence))]),t("td",[t("strong",[e._v("è€åŠ›ï¼š")]),e._v(" "+e._s(e.current_pet.nai_li)+" "),e.current_pet.nai_li_add?t("span",{staticClass:"color-pink"},[e._v("+"+e._s(e.current_pet.nai_li_add))]):e._e()]),t("td",[t("strong",[e._v("æ³•åŠ›èµ„è´¨ï¼š")]),e._v(" "+e._s(e.current_pet.fa_li_zz)+" "),e.current_pet.fa_li_ext?t("span",{staticClass:"added_attr"},[e._v("+"+e._s(e.current_pet.fa_li_ext))]):e._e()])]),t("tr",[t("td",[t("strong",[e._v("é€Ÿåº¦ï¼š")]),e._v(e._s(e.current_pet.speed))]),t("td",[t("strong",[e._v("æ•æ·ï¼š")]),e._v(" "+e._s(e.current_pet.min_jie)+" "),e.current_pet.min_jie_add?t("span",{staticClass:"color-pink"},[e._v("+"+e._s(e.current_pet.min_jie_add))]):e._e()]),t("td",[t("strong",[e._v("é€Ÿåº¦èµ„è´¨ï¼š")]),e._v(" "+e._s(e.current_pet.su_du_zz)+" "),e.current_pet.su_du_ext?t("span",{staticClass:"added_attr"},[e._v("+"+e._s(e.current_pet.su_du_ext))]):e._e()])]),t("tr",[e.isShowNewLingli?t("td",[t("strong",[e._v("æ³•ä¼¤ï¼š")]),e._v(e._s(e.current_pet.iMagDam))]):t("td",[t("strong",[e._v("çµåŠ›ï¼š")]),e._v(e._s(e.current_pet.ling_li))]),t("td",[t("strong",[e._v("æ½œèƒ½ï¼š")]),e._v(e._s(e.current_pet.qian_neng))]),t("td",[t("strong",[e._v("èº²é—ªèµ„è´¨ï¼š")]),e._v(" "+e._s(e.current_pet.duo_shan_zz)+" "),e.current_pet.duo_shan_ext?t("span",{staticClass:"added_attr"},[e._v("+"+e._s(e.current_pet.duo_shan_ext))]):e._e()])]),t("tr",[e.isShowNewLingli?t("td",[t("strong",[e._v("æ³•é˜²ï¼š")]),e._v(e._s(e.current_pet.iMagDef))]):t("td",[t("strong",[e._v("å¯¿å‘½ï¼š")]),e._v(e._s(e.current_pet.lifetime))]),t("td",[t("strong",[e._v("æˆé•¿ï¼š")]),e._v(e._s(e.current_pet.cheng_zhang))]),t("td",[t("strong",[e._v("äº”è¡Œï¼š")]),e._v(e._s(e.current_pet.wu_xing))])]),t("tr",[t("td",[t("strong",[e._v("å·²ç”¨å…ƒå®µï¼š")]),e._v(e._s(e.current_pet.used_yuanxiao))]),t("td",[t("strong",[e._v("å·²ç”¨åƒé‡‘éœ²ï¼š")]),e._v(e._s(e.current_pet.used_qianjinlu))])]),t("tr",[t("td",[e.current_pet.is_child?t("strong",[e._v("æ‚Ÿæ€§ï¼š")]):e._e(),e.current_pet.is_child&&void 0!==e.current_pet.child_sixwx?t("span",[e._v(e._s(e.current_pet.child_sixwx))]):e.current_pet.is_child?t("span",[e._v("æ— ")]):t("strong",[e._v("å·²ç”¨ç‚¼å…½çç»ï¼š")]),e.current_pet.is_child?e._e():t("span",[e._v(e._s(e.current_pet.used_lianshou))])]),t("td",[t("strong",[e._v("å·²ä½¿ç”¨å¹»è‰²ä¸¹ï¼š")]),e._v(e._s(e.getSummonColorDesc(e.current_pet.summon_color,e.current_pet.type_id))+" ")]),t("td",[t("strong",[e._v("å†å²çµæ€§å€¼ï¼š")]),e._v(e._s(e.getDictValue(e.current_pet.jinjie,"lx",0))+" ")])]),t("tr",[t("td",[t("strong",[e._v("å·²ç”¨æ¸…çµä»™éœ²ï¼š")]),e._v(e._s(e.getDictValue(e.current_pet.jinjie,"cnt",0))+" ")]),e.isShowNewLingli?t("td",[t("strong",[e._v("å¯¿å‘½ï¼š")]),e._v(e._s(e.current_pet.lifetime))]):e._e(),t("td")])]),t("div",{staticClass:"blank9"}),t("div",{staticClass:"hasLayout"},[t("div",{ref:"RoleSkillTipsBox",staticClass:"soldDetail",staticStyle:{width:"320px",display:"none"},attrs:{id:"RoleSkillTipsBox"}}),t("div",{staticClass:"cols",staticStyle:{width:"210px",margin:"0"}},[e.current_pet.evol_skill_list?t("h4",[e._v("èµç¦æŠ€èƒ½")]):e._e(),t("div",{staticClass:"blank9"}),e.current_pet.evol_skill_list?t("table",{staticClass:"tb03",attrs:{cellspacing:"0",cellpadding:"0",id:"RolePetCifu"}},e._l(e.evolSkillRows,function(s,i){return t("tr",{key:i},e._l(s,function(s,i){return t("td",{key:i,staticStyle:{position:"relative"}},[s.hlightLight?t("img",{attrs:{referrerpolicy:"no-referrer",src:s.icon,width:"40",height:"40",data_equip_name:s.name,data_skill_type:"cifu",data_equip_desc:s.desc,data_tip_box:"RoleSkillTipsBox",data_cifu_icon:s.cifuIcon,data_height_icon:s.heightCifuIcon},on:{mouseenter:function(t){return e.showSkillTip(t,s)},mouseleave:e.hideSkillTip}}):t("img",{staticStyle:{filter:"grayscale(100%)"},attrs:{referrerpolicy:"no-referrer",src:s.icon,width:"40",height:"40",data_equip_name:s.name,data_skill_type:"cifu",data_equip_desc:s.desc,data_tip_box:"RoleSkillTipsBox",data_cifu_icon:s.cifuIcon,data_height_icon:s.heightCifuIcon},on:{mouseenter:function(t){return e.showSkillTip(t,s)},mouseleave:e.hideSkillTip}}),s.hlightLight?t("div",{staticClass:"evol_skill_icon",attrs:{data_src:s.icon,data_equip_name:s.name,data_skill_type:"cifu",data_equip_desc:s.desc,data_tip_box:"RoleSkillTipsBox",data_cifu_icon:s.cifuIcon,data_height_icon:s.heightCifuIcon}}):t("div",{staticClass:"evol_skill_icon",staticStyle:{filter:"grayscale(100%)"},attrs:{data_src:s.icon,data_equip_name:s.name,data_skill_type:"cifu",data_equip_desc:s.desc,data_tip_box:"RoleSkillTipsBox",data_cifu_icon:s.cifuIcon,data_height_icon:s.heightCifuIcon}})])}),0)}),0):e._e(),e.current_pet.evol_skill_list?t("div",{staticClass:"blank12",staticStyle:{clear:"both"}}):e._e(),t("h4",[e._v("æŠ€èƒ½")]),t("div",{staticClass:"blank9"}),t("table",{staticClass:"tb03",attrs:{cellspacing:"0",cellpadding:"0",id:"RolePetSkill"}},e._l(e.petSkillRows,function(s,i){return t("tr",{key:i},[e._l(s,function(s,i){return t("td",{key:i,staticStyle:{position:"relative"}},[t("img",{attrs:{referrerpolicy:"no-referrer",src:s.icon,width:"40",height:"40",data_equip_name:s.name,data_skill_type:"cifu",data_equip_desc:s.desc,data_tip_box:"RoleSkillTipsBox",data_is_super_skill:s.isSuperSkill},on:{mouseenter:function(t){return e.showSkillTip(t,s)},mouseleave:e.hideSkillTip}}),s.hashEvol?t("div",{staticClass:"evol_skill_icon",attrs:{data_src:s.icon,data_equip_name:s.name,data_skill_type:"cifu",data_equip_desc:s.desc,data_tip_box:"RoleSkillTipsBox",data_is_super_skill:s.isSuperSkill}}):e._e()])}),e._l(4-s.length,function(a){return[a===4-s.length&&i===e.petSkillRows.length-1&&e.current_pet.genius?t("td",{key:"genius-"+a},[t("img",{staticClass:"on",attrs:{referrerpolicy:"no-referrer",src:e.current_pet.genius_skill.icon,data_equip_name:e.current_pet.genius_skill.name,data_skill_type:"cifu",data_equip_desc:e.current_pet.genius_skill.desc,data_tip_box:"RoleSkillTipsBox",data_is_super_skill:e.current_pet.genius_skill.isSuperSkill},on:{mouseenter:function(t){return e.showSkillTip(t,e.current_pet.genius_skill)},mouseleave:e.hideSkillTip}})]):t("td",{key:"empty-"+a})]})],2)}),0),e.current_pet.is_child?e._e():[t("div",{staticClass:"blank9"}),e.current_pet.core_close&&void 0!==e.getDictValue(e.current_pet.jinjie,"core",{}).id?t("h4",[e._v(" ç‰¹æ€§:"+e._s(e.current_pet.core_close)+" ")]):t("h4",[e._v("ç‰¹æ€§")]),void 0!==e.getDictValue(e.current_pet.jinjie,"core",{}).id?t("div",{staticStyle:{"text-align":"left"}},[t("span",[e._v(e._s(e.getDictValue(e.current_pet.jinjie,"core",{}).name)+"ï¼š"),t("span",{domProps:{innerHTML:e._s(e.parseStyleInfo(e.getDictValue(e.current_pet.jinjie,"core",{}).effect))}})])]):t("div",{staticStyle:{"text-align":"center"}},[e._v("æ— ")])]],2),t("div",{staticClass:"cols",staticStyle:{float:"right",width:"232px",margin:"0"}},[e.current_pet.is_child?e._e():t("div",{staticClass:"cols",staticStyle:{width:"160px",margin:"0"}},[t("h4",[e._v("è£…å¤‡")]),t("div",{staticClass:"blank6"}),t("table",{staticClass:"tb03 size50",attrs:{cellspacing:"0",cellpadding:"0",id:"RolePetEquips"}},[t("tr",e._l(e.current_pet.equip_list,function(s,i){return t("td",{key:i},[s?t("ItemPopover",{attrs:{equipment:{equip_face_img:s.icon,equip_name:s.name,large_equip_desc:s.desc,equip_type_desc:s.static_desc},placement:"top"}}):t("span",[e._v("Â ")])],1)}),0)])]),e.current_pet.is_child?e._e():t("div",{staticClass:"cols",staticStyle:{float:"right",width:"60px",margin:"0"}},[t("h4",[e._v("é¥°å“")]),t("div",{staticClass:"blank6"}),t("table",{staticClass:"tb03 size50",attrs:{cellspacing:"0",cellpadding:"0",id:"RolePetShipin"}},[t("tr",[t("td",[e.current_pet.shipin_list&&e.current_pet.shipin_list[0]?t("img",{staticStyle:{"max-width":"50px","max-height":"50px",background:"#fff","border-radius":"5px"},attrs:{referrerpolicy:"no-referrer",src:e.current_pet.shipin_list[0].icon,data_equip_name:e.current_pet.shipin_list[0].name,data_equip_type:e.current_pet.shipin_list[0].type,data_equip_desc:e.current_pet.shipin_list[0].desc,data_equip_type_desc:"",lock_types:e.current_pet.shipin_list[0].lock_type}}):t("span",[e._v("Â ")])])])])]),e.current_pet.is_child?e._e():[t("div",{staticClass:"blank12",staticStyle:{clear:"both"}}),t("h4",[e._v("å†…ä¸¹")]),t("div",{staticClass:"blank9"}),0===e.current_pet.neidan.length?t("p",{staticClass:"textCenter"},[e._v("æ— ")]):t("table",{attrs:{width:"100%",cellspacing:"3",cellpadding:"3",id:"RolePetNeidan"}},e._l(e.current_pet.neidan,function(s,i){return t("tr",{key:i},[t("td",[t("img",{attrs:{referrerpolicy:"no-referrer",src:s.icon,data_equip_name:s.name,data_skill_type:"neidan",data_equip_desc:s.desc,data_equip_level:s.level,data_tip_box:"SkillTipsBox"},on:{mouseenter:function(t){return e.showNeidanTip(t,s)},mouseleave:e.hideSkillTip}})]),t("th",[e._v(e._s(s.name))]),t("td",[e._v(e._s(s.level)+"å±‚")])])}),0)],e.current_pet.other&&e.current_pet.other.avt_list&&e.current_pet.other.avt_list.length?t("div",{staticClass:"blank12"}):e._e(),e.current_pet.other&&e.current_pet.other.avt_list&&e.current_pet.other.avt_list.length?t("h4",[e._v(" æ¢¦å½± ")]):e._e(),e.current_pet.other&&e.current_pet.other.avt_list&&e.current_pet.other.avt_list.length?t("table",{staticClass:"tb02",attrs:{width:"100%",cellspacing:"0",cellpadding:"0"}},[t("tr",[t("th",{attrs:{width:"40%"}},[e._v("æ¢¦å½±æ•°é‡ï¼š")]),t("td",[t("p",{staticClass:"fl",staticStyle:{"line-height":"24px"}},[e._v(" "+e._s(e.current_pet.other.avt_list.length)+" ")]),e.current_pet.other.color_str?t("button",{staticClass:"identify-pet-btn fr",attrs:{id:"identify-pet-btn"},on:{click:function(t){return e.window.petClothEffect.display()}}},[e._v(" ç©¿æˆ´æ•ˆæœ ")]):e._e()])]),e.current_pet.other.color_str&&e.current_pet.other.current_on_avt?t("tr",[t("th",{staticStyle:{"vertical-align":"top"},attrs:{width:"40%"}},[e._v("å½“å‰ç©¿æˆ´ï¼š")]),t("td",{staticStyle:{"vertical-align":"top"}},[t("p",[e._v(e._s(e.current_pet.other.current_on_avt.name))]),e.current_pet.other.current_on_avt.sumavt_propsk?t("p",{staticStyle:{color:"#00ff00"}},[e._v(" ("+e._s(e.current_pet.other.current_on_avt.sumavt_propsk)+"+1) ")]):e._e()])]):t("tr",[t("th",{staticStyle:{"padding-right":"20px"},attrs:{width:"40%"}},[e._v("æœªç©¿æˆ´")]),t("td")])]):e._e()],2)])])},a=[],r=(s(4114),s(8883)),n={name:"PetDetail",props:{current_pet:{type:Object,required:!0}},components:{ItemPopover:r.A},computed:{isShowNewLingli(){return this.current_pet&&void 0!==this.current_pet.iMagDam&&void 0!==this.current_pet.iMagDef},evolSkillRows(){if(!this.current_pet||!this.current_pet.evol_skill_list)return[];const e=4,t=this.current_pet.evol_skill_list,s=t.length;let i=parseInt(s/e)+(s%e?1:0);i=i<3?3:i;const a=[];for(let r=0;r<i;r++){const s=t.slice(r*e,(r+1)*e);a.push(s)}return a},petSkillRows(){if(!this.current_pet||!this.current_pet.skill_list)return[];const e=4,t=this.current_pet.skill_list,s=t.length;let i=parseInt(s/e)+(s%e?1:0);i=i<3?3:i,this.current_pet.genius&&s===e*i&&(i+=1);const a=[];for(let r=0;r<i;r++){const s=t.slice(r*e,(r+1)*e);a.push(s)}return a}},methods:{parseStyleInfo(e){return e?window.parse_style_info(e,"#Y"):""},showSkillTip(e,t){const s={name:t.name,desc:t.desc||"",icon:t.cifuIcon||t.heightCifuIcon||t.icon,isCifu:!(!t.cifuIcon&&!t.heightCifuIcon)},i=this.$refs.RoleSkillTipsBox;if(!i)return;i.innerHTML=`<img class="tip-skill-icon" src="${s.icon}" referrerpolicy="no-referrer"><div class="skill-text"><p class="cYellow${s.isCifu?" cifu-name":""}">${s.name}</p>${window.parse_style_info?window.parse_style_info(s.desc,"#Y"):s.desc}`,i.style.display="block",i.style.position="fixed";const a=e.target.getBoundingClientRect();let r=a.left,n=a.bottom+5;const l=320,o=120;r+l>window.innerWidth&&(r=window.innerWidth-l-10),n+o>window.innerHeight&&(n=a.top-o-5),r<0&&(r=10),n<0&&(n=10),i.style.left=r+"px",i.style.top=n+"px",i.style.zIndex=9999},hideSkillTip(){const e=this.$refs.RoleSkillTipsBox;e&&(e.style.display="none")},showNeidanTip(e,t){this.showSkillTip(e,t)},getDictValue(e,t,s){return e&&"object"===typeof e&&void 0!==e[t]?e[t]:s},getSummonColorDesc(e){return e||"æ— "}}},l=n,o=s(1656),c=(0,o.A)(l,i,a,!1,null,null,null),_=c.exports}},t={};function s(i){var a=t[i];if(void 0!==a)return a.exports;var r=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(r.exports,r,r.exports,s),r.loaded=!0,r.exports}s.m=e,function(){s.amdO={}}(),function(){var e=[];s.O=function(t,i,a,r){if(!i){var n=1/0;for(_=0;_<e.length;_++){i=e[_][0],a=e[_][1],r=e[_][2];for(var l=!0,o=0;o<i.length;o++)(!1&r||n>=r)&&Object.keys(s.O).every(function(e){return s.O[e](i[o])})?i.splice(o--,1):(l=!1,r<n&&(n=r));if(l){e.splice(_--,1);var c=a();void 0!==c&&(t=c)}}return t}r=r||0;for(var _=e.length;_>0&&e[_-1][2]>r;_--)e[_]=e[_-1];e[_]=[i,a,r]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){s.f={},s.e=function(e){return Promise.all(Object.keys(s.f).reduce(function(t,i){return s.f[i](e,t),t},[]))}}(),function(){s.u=function(e){return"js/"+e+"."+{127:"6ab2997b",414:"ac87de11",427:"7a6c2331",480:"dc113089",518:"d012d1ce",635:"ad3085de",818:"dcead03b",826:"0a576593",924:"62bf0d7c",927:"f31ab3fe"}[e]+".js"}}(),function(){s.miniCssF=function(e){return"css/"+e+"."+{127:"1ce1dc2b",518:"08de59a7",635:"89f45b4f",818:"91de322e",826:"18552c00",924:"b47de542",927:"9ff833ad"}[e]+".css"}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="web:";s.l=function(i,a,r,n){if(e[i])e[i].push(a);else{var l,o;if(void 0!==r)for(var c=document.getElementsByTagName("script"),_=0;_<c.length;_++){var p=c[_];if(p.getAttribute("src")==i||p.getAttribute("data-webpack")==t+r){l=p;break}}l||(o=!0,l=document.createElement("script"),l.charset="utf-8",s.nc&&l.setAttribute("nonce",s.nc),l.setAttribute("data-webpack",t+r),l.src=i),e[i]=[a];var u=function(t,s){l.onerror=l.onload=null,clearTimeout(d);var a=e[i];if(delete e[i],l.parentNode&&l.parentNode.removeChild(l),a&&a.forEach(function(e){return e(s)}),t)return t(s)},d=setTimeout(u.bind(null,void 0,{type:"timeout",target:l}),12e4);l.onerror=u.bind(null,l.onerror),l.onload=u.bind(null,l.onload),o&&document.head.appendChild(l)}}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){s.p=""}(),function(){if("undefined"!==typeof document){var e=function(e,t,i,a,r){var n=document.createElement("link");n.rel="stylesheet",n.type="text/css",s.nc&&(n.nonce=s.nc);var l=function(s){if(n.onerror=n.onload=null,"load"===s.type)a();else{var i=s&&s.type,l=s&&s.target&&s.target.href||t,o=new Error("Loading CSS chunk "+e+" failed.\n("+i+": "+l+")");o.name="ChunkLoadError",o.code="CSS_CHUNK_LOAD_FAILED",o.type=i,o.request=l,n.parentNode&&n.parentNode.removeChild(n),r(o)}};return n.onerror=n.onload=l,n.href=t,i?i.parentNode.insertBefore(n,i.nextSibling):document.head.appendChild(n),n},t=function(e,t){for(var s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var a=s[i],r=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(r===e||r===t))return a}var n=document.getElementsByTagName("style");for(i=0;i<n.length;i++){a=n[i],r=a.getAttribute("data-href");if(r===e||r===t)return a}},i=function(i){return new Promise(function(a,r){var n=s.miniCssF(i),l=s.p+n;if(t(n,l))return a();e(i,l,null,a,r)})},a={884:0};s.f.miniCss=function(e,t){var s={127:1,518:1,635:1,818:1,826:1,924:1,927:1};a[e]?t.push(a[e]):0!==a[e]&&s[e]&&t.push(a[e]=i(e).then(function(){a[e]=0},function(t){throw delete a[e],t}))}}}(),function(){var e={884:0};s.f.j=function(t,i){var a=s.o(e,t)?e[t]:void 0;if(0!==a)if(a)i.push(a[2]);else{var r=new Promise(function(s,i){a=e[t]=[s,i]});i.push(a[2]=r);var n=s.p+s.u(t),l=new Error,o=function(i){if(s.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var r=i&&("load"===i.type?"missing":i.type),n=i&&i.target&&i.target.src;l.message="Loading chunk "+t+" failed.\n("+r+": "+n+")",l.name="ChunkLoadError",l.type=r,l.request=n,a[1](l)}};s.l(n,o,"chunk-"+t,t)}},s.O.j=function(t){return 0===e[t]};var t=function(t,i){var a,r,n=i[0],l=i[1],o=i[2],c=0;if(n.some(function(t){return 0!==e[t]})){for(a in l)s.o(l,a)&&(s.m[a]=l[a]);if(o)var _=o(s)}for(t&&t(i);c<n.length;c++)r=n[c],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(_)},i=self["webpackChunkweb"]=self["webpackChunkweb"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=s.O(void 0,[504,996],function(){return s(1264)});i=s.O(i)})();
//# sourceMappingURL=admin.16aa530e.js.map