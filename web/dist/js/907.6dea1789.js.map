{"version":3,"file":"js/907.6dea1789.js","mappings":"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","sources":["webpack://web/./src/views/PetList.vue","webpack://web/src/views/PetList.vue","webpack://web/./src/views/PetList.vue?8b83","webpack://web/./src/views/PetList.vue?d88f"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"pet-list-view\"},[_c('el-card',{staticClass:\"filters\",attrs:{\"shadow\":\"never\"}},[_c('div',{staticClass:\"card-header\",attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('div',[_c('span',{staticClass:\"emoji-icon\"},[_vm._v(\"🔍\")]),_vm._v(\" 筛选\")])]),_c('el-form',{attrs:{\"inline\":true,\"model\":_vm.filters,\"size\":\"mini\"},nativeOn:{\"submit\":function($event){$event.preventDefault();return _vm.fetchPets.apply(null, arguments)}}},[_c('el-form-item',{attrs:{\"label\":\"📅数据月份\"}},[_c('el-date-picker',{attrs:{\"clearable\":false,\"type\":\"month\",\"placeholder\":\"📅选择月份\",\"format\":\"yyyy-MM\",\"value-format\":\"yyyy-MM\"},model:{value:(_vm.filters.selectedDate),callback:function ($$v) {_vm.$set(_vm.filters, \"selectedDate\", $$v)},expression:\"filters.selectedDate\"}})],1),_c('el-form-item',{attrs:{\"label\":\"🔑序列号\"}},[_c('el-input',{attrs:{\"placeholder\":\"🔑序列号\"},model:{value:(_vm.filters.equip_sn),callback:function ($$v) {_vm.$set(_vm.filters, \"equip_sn\", $$v)},expression:\"filters.equip_sn\"}})],1),_c('el-form-item',{attrs:{\"label\":\"🔢等级\"}},[_c('div',{staticStyle:{\"width\":\"500px\"}},[_c('el-slider',{attrs:{\"range\":\"\",\"min\":0,\"max\":180,\"step\":5,\"show-input\":\"\",\"show-input-controls\":\"\",\"marks\":_vm.levelMarks},on:{\"change\":_vm.handleLevelRangeChange},model:{value:(_vm.filters.level_range),callback:function ($$v) {_vm.$set(_vm.filters, \"level_range\", $$v)},expression:\"filters.level_range\"}})],1)]),_c('el-form-item',{attrs:{\"label\":\"💲价格\"}},[_c('el-input-number',{attrs:{\"placeholder\":\"最低价格\",\"min\":0,\"controls\":false},model:{value:(_vm.filters.price_min),callback:function ($$v) {_vm.$set(_vm.filters, \"price_min\", $$v)},expression:\"filters.price_min\"}}),_vm._v(\" - \"),_c('el-input-number',{attrs:{\"placeholder\":\"最高价格\",\"min\":0,\"controls\":false},model:{value:(_vm.filters.price_max),callback:function ($$v) {_vm.$set(_vm.filters, \"price_max\", $$v)},expression:\"filters.price_max\"}})],1),_c('el-form-item',{attrs:{\"label\":\"🔧技能\"}},[_c('el-cascader',{attrs:{\"options\":_vm.skillOptions,\"props\":_vm.cascaderProps,\"show-all-levels\":false,\"placeholder\":\"🔧请选择技能\",\"multiple\":\"\",\"clearable\":\"\",\"filterable\":\"\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ data }){return [_c('el-row',{attrs:{\"type\":\"flex\",\"align\":\"middle\"}},[(data.value)?_c('el-image',{staticStyle:{\"display\":\"block\",\"width\":\"24px\",\"height\":\"24px\",\"margin-right\":\"4px\"},attrs:{\"src\":_vm.getSkillImage(data.value),\"fit\":\"cover\",\"referrerpolicy\":\"no-referrer\"}}):_vm._e(),_c('span',[_vm._v(_vm._s(data.label))])],1)]}}]),model:{value:(_vm.filters.skills),callback:function ($$v) {_vm.$set(_vm.filters, \"skills\", $$v)},expression:\"filters.skills\"}})],1),_c('el-form-item',{attrs:{\"label\":\"🔧技能数量≥\"}},[_c('el-input-number',{attrs:{\"placeholder\":\"🔧技能数量\",\"min\":0,\"controls\":\"\"},model:{value:(_vm.filters.pet_skill_count),callback:function ($$v) {_vm.$set(_vm.filters, \"pet_skill_count\", $$v)},expression:\"filters.pet_skill_count\"}})],1),_c('el-form-item',{attrs:{\"label\":\"📚成长\"}},[_c('el-input-number',{attrs:{\"placeholder\":\"📚成长\",\"min\":1,\"max\":1.4,\"step\":0.1,\"controls\":\"\"},model:{value:(_vm.filters.pet_growth),callback:function ($$v) {_vm.$set(_vm.filters, \"pet_growth\", $$v)},expression:\"filters.pet_growth\"}})],1),_c('el-form-item',{attrs:{\"label\":\"🧝灵性值≥\"}},[_c('el-input-number',{attrs:{\"placeholder\":\"🧝灵性值\",\"min\":0,\"controls\":\"\"},model:{value:(_vm.filters.pet_lx),callback:function ($$v) {_vm.$set(_vm.filters, \"pet_lx\", $$v)},expression:\"filters.pet_lx\"}})],1),_c('el-form-item',{attrs:{\"label\":\"🔥特性\"}},[_c('el-select',{attrs:{\"placeholder\":\"🔥请选择特性\",\"multiple\":\"\",\"clearable\":\"\",\"filterable\":\"\"},model:{value:(_vm.filters.pet_texing),callback:function ($$v) {_vm.$set(_vm.filters, \"pet_texing\", $$v)},expression:\"filters.pet_texing\"}},_vm._l((_vm.texing_type_list),function([value, label]){return _c('el-option',{key:value,attrs:{\"label\":label,\"value\":value}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"❌估价异常\"}},[_c('el-switch',{attrs:{\"active-value\":1,\"inactive-value\":0,\"inactive-color\":\"#409EFF\",\"active-color\":\"#F56C6C\"},model:{value:(_vm.filters.equip_list_amount_warning),callback:function ($$v) {_vm.$set(_vm.filters, \"equip_list_amount_warning\", $$v)},expression:\"filters.equip_list_amount_warning\"}})],1),(_vm.filters.equip_list_amount_warning === 1)?_c('el-form-item',{attrs:{\"label\":\"🔍装备估价异常占比率≤\"}},[_c('el-input-number',{attrs:{\"placeholder\":\"装备估价异常占比率\",\"min\":0,\"max\":99,\"step\":0.1,\"controls\":\"\"},model:{value:(_vm.filters.warning_rate),callback:function ($$v) {_vm.$set(_vm.filters, \"warning_rate\", $$v)},expression:\"filters.warning_rate\"}})],1):_vm._e(),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.fetchPets}},[_vm._v(\"查询\")])],1)],1),(_vm.unvaluedPetsCount > 0)?_c('el-alert',{attrs:{\"type\":\"warning\",\"loading\":_vm.unvaluedPetsLoading,\"title\":` 有（${_vm.unvaluedPetsCount}）只召唤兽装备未估价/估价异常`,\"close-text\":\"更新\"},on:{\"close\":_vm.batchUpdateUnvaluedPets}}):_vm._e()],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.tableLoading),expression:\"tableLoading\"}],key:_vm.tableKey,staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.pets,\"stripe\":\"\"},on:{\"sort-change\":_vm.handleSortChange}},[_c('el-table-column',{attrs:{\"prop\":\"eid\",\"label\":\"操作\",\"width\":\"100\",\"fixed\":\"\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-link',{attrs:{\"href\":_vm.getCBGLinkByType(scope.row.eid, 'pet'),\"type\":\"danger\",\"target\":\"_blank\"}},[_vm._v(\"藏宝阁\")]),_c('el-divider',{attrs:{\"direction\":\"vertical\"}}),_c('SimilarPetModal',{key:scope.row.equip_sn,attrs:{\"pet\":scope.row},on:{\"valuation-updated\":(data) => _vm.handlePetValuationUpdated(data, scope.$index)}})]}}])}),_c('el-table-column',{attrs:{\"fixed\":\"\",\"label\":\"召唤兽\",\"width\":\"70\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('PetImage',{attrs:{\"pet\":scope.row.petData,\"equip_sn\":scope.row.equip_sn,\"equipFaceImg\":scope.row.equip_face_img,\"enhanceInfo\":_vm.getEnhanceInfo(scope.row)}})]}}])}),_c('el-table-column',{attrs:{\"fixed\":\"\",\"prop\":\"price\",\"label\":\"价格 (元)\",\"width\":\"140\",\"sortable\":\"custom\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.server_name)+\" \"),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.formatFullPrice(scope.row))}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"highlight\",\"label\":\"亮点\",\"width\":\"100\",\"align\":\"center\",\"sortable\":\"custom\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.gen_highlight(scope.row.highlight))}})]}}])},[_vm._v(\"> \")]),_c('el-table-column',{attrs:{\"prop\":\"dynamic_tags\",\"label\":\"动态\",\"width\":\"100\",\"align\":\"center\",\"sortable\":\"custom\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.gen_dynamic_tags(scope.row.dynamic_tags))}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"equip_list\",\"label\":\"装备\",\"width\":\"171\",\"sortable\":\"custom\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ row: { equip_list, equip_list_amount }, row }){return [_c('table',{staticClass:\"tb03 size50\",attrs:{\"cellspacing\":\"0\",\"cellpadding\":\"0\"}},[_c('tr',_vm._l((JSON.parse(equip_list).splice(0, 3)),function(eItem,index){return _c('td',{key:index},[(eItem)?_c('EquipmentImage',{attrs:{\"placement\":'bottom',\"image\":false,\"equipment\":_vm.getEquipImageProps(eItem),\"size\":\"small\",\"popoverWidth\":300}}):_c('span',[_vm._v(\" \")])],1)}),0)]),_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"space-between\",\"align\":\"middle\"}},[(_vm.getEquipSuitEffect(equip_list))?_c('p',{staticClass:\"cBlue\"},[_vm._v(_vm._s(_vm.getEquipSuitEffect(equip_list))+\"套装\")]):_vm._e(),_vm._v(\" \"),_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.formatFullPrice({ price: equip_list_amount }, true))}})]),(JSON.parse(equip_list).slice(0, 3).some(item => item))?_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"text\",\"size\":\"mini\",\"loading\":_vm.equipmentValuationLoading,\"disabled\":!JSON.parse(equip_list).some(item => item)},on:{\"click\":function($event){return _vm.updatePetEquipmentsPrice(row)}}},[_vm._v(\" 装备估价 \")]):_vm._e()]}}])}),_c('el-table-column',{attrs:{\"prop\":\"growth\",\"label\":\"成长\",\"width\":\"100\",\"sortable\":\"custom\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.getColorNumber(scope.row.growth, [1, 1.3]))}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"lx\",\"label\":\"灵性\",\"width\":\"80\",\"align\":\"center\",\"sortable\":\"custom\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.getColorNumber(scope.row.lx, [80, 110]))}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"skill_count\",\"label\":\"技能\",\"width\":\"280\",\"sortable\":\"custom\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{staticClass:\"pet-skills\",domProps:{\"innerHTML\":_vm._s(_vm.formatSkills(scope.row))}})]}}])}),_c('el-table-column',{attrs:{\"prop\":\"level\",\"label\":\"等级\",\"width\":\"140\",\"sortable\":\"custom\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('p',{class:scope.row.petData.is_baobao === '是' ? 'cBlue' : 'equip_desc_red'},[_c('span',[_vm._v(_vm._s(scope.row.petData.is_baobao === '是' ? '' : '野生'))]),_c('span',[_vm._v(_vm._s(scope.row.equip_name)+_vm._s(scope.row.petData.is_baobao === '是' ? '宝宝' : '')+\"/\"+_vm._s(scope.row.level)+\"级\")])]),_c('p',[_vm._v(\"参战等级：\"+_vm._s(scope.row.role_grade_limit)+\"级\")])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"petData.texing.name\",\"label\":\"特性\",\"width\":\"60\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"update_time\",\"label\":\"创建、更新\",\"width\":\"200\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',{attrs:{\"type\":\"info\"}},[_vm._v(_vm._s(scope.row.create_time))]),_c('el-tag',[_vm._v(_vm._s(scope.row.update_time))])]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-link',{attrs:{\"href\":\"javascript:void(0)\",\"type\":\"danger\"},nativeOn:{\"click\":function($event){return _vm.handleDelete(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('div',{staticClass:\"pagination-container\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.pagination.page,\"page-size\":_vm.pagination.page_size,\"page-sizes\":[10, 100, 200, 300, 400],\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.pagination.total},on:{\"current-change\":_vm.handlePageChange,\"size-change\":_vm.handleSizeChange}})],1),_c('el-dialog',{attrs:{\"title\":_vm.valuationDialogTitle,\"visible\":_vm.valuationDialogVisible,\"width\":\"90%\",\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"custom-class\":\"batch-valuation-dialog\"},on:{\"update:visible\":function($event){_vm.valuationDialogVisible=$event}}},[_c('EquipBatchValuationResult',{attrs:{\"results\":_vm.valuationResults,\"total-value\":_vm.valuationTotalValue,\"equipment-list\":_vm.valuationEquipmentList,\"valuate-params\":_vm.batchValuateParams,\"loading\":_vm.valuationLoading},on:{\"close\":_vm.closeValuationDialog}})],1),_c('el-dialog',{attrs:{\"title\":\"批量更新进度\",\"visible\":_vm.taskProgressVisible,\"width\":\"500px\",\"close-on-click-modal\":false,\"close-on-press-escape\":false,\"show-close\":false},on:{\"update:visible\":function($event){_vm.taskProgressVisible=$event}}},[_c('div',{staticStyle:{\"text-align\":\"center\",\"padding\":\"20px\"}},[_c('div',{staticStyle:{\"font-size\":\"16px\",\"margin-bottom\":\"20px\"}},[_vm._v(\" 正在批量更新召唤兽装备估算价格... \")]),_c('el-progress',{attrs:{\"percentage\":_vm.taskStatus ? _vm.taskStatus.progress_percentage || 0 : 0,\"stroke-width\":16,\"text-inside\":true}}),_c('div',{staticStyle:{\"margin-top\":\"20px\",\"font-size\":\"14px\",\"color\":\"#666\"}},[_vm._v(\" 已处理: \"+_vm._s(_vm.taskStatus ? _vm.taskStatus.processed_count || 0 : 0)+\" / \"+_vm._s(_vm.taskStatus ? _vm.taskStatus.total_count || 0 : 0)+\" \")]),_c('div',{staticStyle:{\"margin-top\":\"10px\",\"font-size\":\"14px\",\"color\":\"#666\"}},[_vm._v(\" 当前批次: \"+_vm._s(_vm.taskStatus ? _vm.taskStatus.current_batch || 0 : 0)+\" / \"+_vm._s(_vm.taskStatus ? _vm.taskStatus.total_batches || 0 : 0)+\" \")]),_c('div',{staticStyle:{\"margin-top\":\"10px\",\"font-size\":\"14px\",\"color\":\"#666\"}},[_vm._v(\" 已更新: \"+_vm._s(_vm.taskStatus ? _vm.taskStatus.updated_count || 0 : 0)+\" \")])],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":_vm.stopCurrentTask}},[_vm._v(\"停止任务\")])],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"pet-list-view\">\n    <el-card class=\"filters\" shadow=\"never\">\n      <div slot=\"header\" class=\"card-header\">\n        <div><span class=\"emoji-icon\">🔍</span> 筛选</div>\n      </div>\n   \n      <!-- 筛选和搜索表单 -->\n      <el-form :inline=\"true\" :model=\"filters\" @submit.native.prevent=\"fetchPets\" size=\"mini\">\n        <el-form-item label=\"📅数据月份\">\n          <el-date-picker v-model=\"filters.selectedDate\" :clearable=\"false\" type=\"month\" placeholder=\"📅选择月份\"\n            format=\"yyyy-MM\" value-format=\"yyyy-MM\" />\n        </el-form-item>\n        <el-form-item label=\"🔑序列号\">\n          <el-input v-model=\"filters.equip_sn\" placeholder=\"🔑序列号\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"🔢等级\">\n          <div style=\"width: 500px\">\n            <el-slider v-model=\"filters.level_range\" range :min=\"0\" :max=\"180\" :step=\"5\" show-input show-input-controls\n              :marks=\"levelMarks\" @change=\"handleLevelRangeChange\" />\n          </div>\n        </el-form-item>\n        <el-form-item label=\"💲价格\">\n          <el-input-number v-model=\"filters.price_min\" placeholder=\"最低价格\" :min=\"0\" :controls=\"false\"></el-input-number>\n          -\n          <el-input-number v-model=\"filters.price_max\" placeholder=\"最高价格\" :min=\"0\" :controls=\"false\"></el-input-number>\n        </el-form-item>\n        <el-form-item label=\"🔧技能\">\n          <el-cascader v-model=\"filters.skills\" :options=\"skillOptions\" :props=\"cascaderProps\" :show-all-levels=\"false\"\n            placeholder=\"🔧请选择技能\" multiple clearable filterable>\n            <template slot-scope=\"{ data }\">\n              <el-row type=\"flex\" align=\"middle\">\n                <el-image v-if=\"data.value\" :src=\"getSkillImage(data.value)\" fit=\"cover\" referrerpolicy=\"no-referrer\"\n                  style=\"display: block;width: 24px;height: 24px;margin-right: 4px;\"></el-image>\n                <span>{{ data.label }}</span>\n              </el-row>\n            </template>\n          </el-cascader>\n        </el-form-item>\n        <el-form-item label=\"🔧技能数量≥\">\n          <el-input-number v-model=\"filters.pet_skill_count\" placeholder=\"🔧技能数量\" :min=\"0\" controls></el-input-number>\n        </el-form-item>\n        <el-form-item label=\"📚成长\">\n          <el-input-number v-model=\"filters.pet_growth\" placeholder=\"📚成长\" :min=\"1\" :max=\"1.4\" :step=\"0.1\"\n            controls></el-input-number>\n        </el-form-item>\n        <el-form-item label=\"🧝灵性值≥\">\n          <el-input-number v-model=\"filters.pet_lx\" placeholder=\"🧝灵性值\" :min=\"0\" controls></el-input-number>\n        </el-form-item>\n        <el-form-item label=\"🔥特性\">\n          <el-select v-model=\"filters.pet_texing\" placeholder=\"🔥请选择特性\" multiple clearable filterable>\n            <el-option v-for=\"([value, label]) in texing_type_list\" :key=\"value\" :label=\"label\" :value=\"value\">\n            </el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"❌估价异常\">\n          <el-switch v-model=\"filters.equip_list_amount_warning\" :active-value=\"1\" :inactive-value=\"0\"\n            inactive-color=\"#409EFF\" active-color=\"#F56C6C\"></el-switch>\n        </el-form-item>\n        <el-form-item label=\"🔍装备估价异常占比率≤\" v-if=\"filters.equip_list_amount_warning === 1\">\n          <el-input-number v-model=\"filters.warning_rate\" placeholder=\"装备估价异常占比率\" :min=\"0\" :max=\"99\" :step=\"0.1\"\n            controls></el-input-number>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"fetchPets\">查询</el-button>\n        </el-form-item>\n      </el-form>\n      <el-alert type=\"warning\" @close=\"batchUpdateUnvaluedPets\" :loading=\"unvaluedPetsLoading\"\n        v-if=\"unvaluedPetsCount > 0\" :title=\"` 有（${unvaluedPetsCount}）只召唤兽装备未估价/估价异常`\" close-text=\"更新\">\n      </el-alert>\n  \n</el-card>\n \n    <el-table :data=\"pets\" stripe style=\"width: 100%\" @sort-change=\"handleSortChange\" :key=\"tableKey\"\n      v-loading=\"tableLoading\">\n      <el-table-column prop=\"eid\" label=\"操作\" width=\"100\" fixed align=\"center\">\n        <template #default=\"scope\">\n          <el-link :href=\"getCBGLinkByType(scope.row.eid, 'pet')\" type=\"danger\" target=\"_blank\">藏宝阁</el-link>\n          <el-divider direction=\"vertical\"></el-divider>\n          <SimilarPetModal :pet=\"scope.row\" :key=\"scope.row.equip_sn\" @valuation-updated=\"(data) => handlePetValuationUpdated(data, scope.$index)\" />\n        </template>\n      </el-table-column>\n      <el-table-column fixed label=\"召唤兽\" width=\"70\" align=\"center\">\n        <template #default=\"scope\">\n          <PetImage :pet=\"scope.row.petData\" :equip_sn=\"scope.row.equip_sn\" :equipFaceImg=\"scope.row.equip_face_img\"\n            :enhanceInfo=\"getEnhanceInfo(scope.row)\" />\n        </template>\n      </el-table-column>\n      <el-table-column fixed prop=\"price\" label=\"价格 (元)\" width=\"140\" sortable=\"custom\" align=\"center\">\n        <template #default=\"scope\">\n          {{ scope.row.server_name }}\n          <div v-html=\"formatFullPrice(scope.row)\"></div>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"highlight\" label=\"亮点\" width=\"100\" align=\"center\" sortable=\"custom\">>\n        <template slot-scope=\"scope\">\n          <span v-html=\"gen_highlight(scope.row.highlight)\"></span>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"dynamic_tags\" label=\"动态\" width=\"100\" align=\"center\" sortable=\"custom\">\n        <template slot-scope=\"scope\">\n          <span v-html=\"gen_dynamic_tags(scope.row.dynamic_tags)\"></span>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"equip_list\" label=\"装备\" width=\"171\" sortable=\"custom\" align=\"center\">\n        <template #default=\"{ row: { equip_list, equip_list_amount }, row }\">\n          <table cellspacing=\"0\" cellpadding=\"0\" class=\"tb03 size50\">\n            <tr>\n              <td v-for=\"(eItem, index) in JSON.parse(equip_list).splice(0, 3)\" :key=\"index\">\n                <EquipmentImage v-if=\"eItem\" :placement=\"'bottom'\" :image=\"false\" :equipment=\"getEquipImageProps(eItem)\"\n                  size=\"small\" :popoverWidth=\"300\" />\n                <span v-else>&nbsp;</span>\n              </td>\n            </tr>\n          </table>\n          <el-row type=\"flex\" justify=\"space-between\" align=\"middle\">\n            <p v-if=\"getEquipSuitEffect(equip_list)\" class=\"cBlue\">{{\n              getEquipSuitEffect(equip_list) }}套装</p> <span\n              v-html=\"formatFullPrice({ price: equip_list_amount }, true)\"></span>\n          </el-row>\n          <el-button v-if=\"JSON.parse(equip_list).slice(0, 3).some(item => item)\" type=\"text\" size=\"mini\"\n            @click=\"updatePetEquipmentsPrice(row)\" :loading=\"equipmentValuationLoading\"\n            :disabled=\"!JSON.parse(equip_list).some(item => item)\" style=\"float:right ;\">\n            装备估价\n          </el-button>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"growth\" label=\"成长\" width=\"100\" sortable=\"custom\" align=\"center\">\n        <template #default=\"scope\">\n          <span v-html=\"getColorNumber(scope.row.growth, [1, 1.3])\"></span>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"lx\" label=\"灵性\" width=\"80\" align=\"center\" sortable=\"custom\">\n        <template #default=\"scope\">\n          <span v-html=\"getColorNumber(scope.row.lx, [80, 110])\"></span>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"skill_count\" label=\"技能\" width=\"280\" sortable=\"custom\" align=\"center\">\n        <template #default=\"scope\">\n          <div class=\"pet-skills\" v-html=\"formatSkills(scope.row)\"></div>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"level\" label=\"等级\" width=\"140\" sortable=\"custom\" align=\"center\">\n        <template #default=\"scope\">\n          <p :class=\"scope.row.petData.is_baobao === '是' ? 'cBlue' : 'equip_desc_red'\">\n            <span>{{ scope.row.petData.is_baobao === '是' ? '' : '野生' }}</span>\n            <span>{{ scope.row.equip_name }}{{ scope.row.petData.is_baobao === '是' ? '宝宝' : '' }}/{{ scope.row.level\n            }}级</span>\n          </p>\n          <p>参战等级：{{ scope.row.role_grade_limit }}级</p>\n        </template>\n      </el-table-column>\n      <el-table-column prop=\"petData.texing.name\" label=\"特性\" width=\"60\" align=\"center\"></el-table-column>\n            <!-- 时间信息 -->\n            <el-table-column prop=\"update_time\" label=\"创建、更新\" width=\"200\">\n        <template slot-scope=\"scope\">\n          <el-tag type=\"info\">{{ scope.row.create_time }}</el-tag>\n          <el-tag>{{ scope.row.update_time }}</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\" width=\"100\">\n        <template #default=\"scope\">\n          <el-link href=\"javascript:void(0)\" type=\"danger\" @click.native=\"handleDelete(scope.row)\">删除</el-link>\n        </template>\n      </el-table-column>\n    </el-table>\n    <div class=\"pagination-container\">\n      <el-pagination @current-change=\"handlePageChange\" :current-page=\"pagination.page\" @size-change=\"handleSizeChange\"\n        :page-size=\"pagination.page_size\" :page-sizes=\"[10, 100, 200, 300, 400]\"\n        layout=\"total, sizes, prev, pager, next, jumper\" :total=\"pagination.total\">\n      </el-pagination>\n    </div>\n\n    <!-- 装备估价结果对话框 -->\n    <el-dialog :title=\"valuationDialogTitle\" :visible.sync=\"valuationDialogVisible\" width=\"90%\"\n      :close-on-click-modal=\"false\" :close-on-press-escape=\"false\" custom-class=\"batch-valuation-dialog\">\n      <EquipBatchValuationResult :results=\"valuationResults\" :total-value=\"valuationTotalValue\"\n        :equipment-list=\"valuationEquipmentList\" :valuate-params=\"batchValuateParams\" :loading=\"valuationLoading\"\n        @close=\"closeValuationDialog\" />\n    </el-dialog>\n\n    <!-- 任务进度对话框 -->\n    <el-dialog title=\"批量更新进度\" :visible.sync=\"taskProgressVisible\" width=\"500px\" :close-on-click-modal=\"false\"\n      :close-on-press-escape=\"false\" :show-close=\"false\">\n      <div style=\"text-align: center; padding: 20px;\">\n        <div style=\"font-size: 16px; margin-bottom: 20px;\">\n          正在批量更新召唤兽装备估算价格...\n        </div>\n        <el-progress :percentage=\"taskStatus ? taskStatus.progress_percentage || 0 : 0\" :stroke-width=\"16\"\n          :text-inside=\"true\">\n        </el-progress>\n        <div style=\"margin-top: 20px; font-size: 14px; color: #666;\">\n          已处理: {{ taskStatus ? taskStatus.processed_count || 0 : 0 }} / {{ taskStatus ? taskStatus.total_count || 0 : 0\n          }}\n        </div>\n        <div style=\"margin-top: 10px; font-size: 14px; color: #666;\">\n          当前批次: {{ taskStatus ? taskStatus.current_batch || 0 : 0 }} / {{ taskStatus ? taskStatus.total_batches || 0 : 0\n          }}\n        </div>\n        <div style=\"margin-top: 10px; font-size: 14px; color: #666;\">\n          已更新: {{ taskStatus ? taskStatus.updated_count || 0 : 0 }}\n        </div>\n      </div>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"stopCurrentTask\" type=\"danger\">停止任务</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport SimilarPetModal from '@/components/SimilarPetModal.vue'\nimport EquipBatchValuationResult from '@/components/EquipBatchValuationResult.vue'\nimport dayjs from 'dayjs'\nimport PetImage from '@/components/PetImage.vue'\nimport EquipmentImage from '@/components/EquipmentImage/EquipmentImage.vue'\nimport { petMixin } from '@/utils/mixins/petMixin'\nimport { equipmentMixin } from '@/utils/mixins/equipmentMixin'\nimport { commonMixin } from '@/utils/mixins/commonMixin'\nimport { petApi } from '@/api/pet'\nconst skillOptions = []\nconst pet_skill_classification = window.AUTO_SEARCH_CONFIG.pet_skill_classification\nfor (const lowOrHightKey in pet_skill_classification) {\n  for (const label in pet_skill_classification[lowOrHightKey]) {\n    skillOptions.push({\n      value: '',\n      label: lowOrHightKey.replace('技能', '') + label,\n      children: pet_skill_classification[lowOrHightKey][label]\n    })\n  }\n}\nskillOptions.reverse()\nexport default {\n  name: 'PetList',\n  components: {\n    SimilarPetModal,\n    PetImage,\n    EquipmentImage,\n    EquipBatchValuationResult\n  },\n  mixins: [equipmentMixin, commonMixin, petMixin],\n  data() {\n    return {\n      batchValuateParams: {\n        similarity_threshold: 0.8,\n        max_anchors: 30\n      },\n      tableLoading: false, // 表格加载状态\n      // 级联选择器配置\n      cascaderProps: {\n        multiple: true,\n        checkStrictly: false, // 不允许选择非叶子节点，只能选择叶子节点\n        emitPath: false       // 只返回最后一级的值（技能ID），而不是完整路径\n      },\n      texing_type_list: window.AUTO_SEARCH_CONFIG.texing_type_list,\n      skillOptions,\n      pets: [],\n      filters: {\n        equip_sn: '',\n        pet_skill_count: 0,\n        pet_growth: 1.0,\n        selectedDate: dayjs().format('YYYY-MM'),\n        level_range: [0, 180],\n        skills: [],\n        price_min: undefined,\n        price_max: undefined,\n        sort_by: 'price',\n        sort_order: 'asc',\n        equip_list_amount_warning: 0,\n        warning_rate: 0.4\n      },\n      pagination: {\n        page: 1,\n        page_size: 10,\n        total: 0\n      },\n      levelMarks: {\n        60: '60',\n        90: '90',\n        120: '120',\n        150: '150'\n      },\n      tableKey: 0,\n      equipmentValuationLoading: false, // 装备批量估价加载状态\n      // 装备估价结果对话框相关数据\n      valuationDialogVisible: false,\n      valuationResults: [],\n      valuationTotalValue: 0,\n      valuationEquipmentList: [],\n      valuationLoading: false,\n      valuationDialogTitle: '',\n      // 未估价召唤兽数量\n      unvaluedPetsCount: 0,\n      unvaluedPetsLoading: false,\n      // 任务相关数据\n      currentTaskId: null,\n      taskStatus: {},\n      taskProgressTimer: null,\n      taskProgressVisible: false,\n      taskProgressPercentage: 0,\n      taskProgressProcessed: 0,\n      taskProgressTotal: 0,\n      taskProgressCurrentBatch: 0,\n      taskProgressTotalBatches: 0,\n      taskProgressUpdated: 0,\n    }\n  },\n  methods: {\n    async updatePetEquipmentsPrice({ equip_sn, equip_list, equip_name }) {\n      try {\n        this.equipmentValuationLoading = true\n\n        // 先过滤装备数据，只取前三个\n        const validEquipments = JSON.parse(equip_list)\n          .filter((item, index) => item && item.desc && index < 3)\n          .map(item => ({ ...item, kindid: 29 }))\n\n        // 先显示弹窗和骨架屏\n        this.valuationDialogVisible = true\n        this.valuationLoading = true\n        this.valuationResults = []\n        this.valuationTotalValue = 0\n        this.valuationEquipmentList = validEquipments\n        this.valuationDialogTitle = `召唤兽装备估价结果 - ${equip_name}`\n\n        // 调用批量估价API\n        const response = await petApi.updatePetEquipmentsPrice({\n          equip_sn,\n          strategy: 'fair_value',\n          similarity_threshold: this.batchValuateParams.similarity_threshold,\n          max_anchors: this.batchValuateParams.max_anchors,\n          year: this.filters.selectedDate.split('-')[0] * 1,\n          month: this.filters.selectedDate.split('-')[1] * 1\n        })\n\n        if (response.code === 200) {\n          const data = response.data\n          const results = data.results || []\n          const totalValue = results.reduce((sum, result) => {\n            return sum + (result.estimated_price || 0)\n          }, 0)\n\n          if (results.length === 0) {\n            this.$notify.warning('该召唤兽没有携带装备或装备估价失败')\n            this.closeValuationDialog()\n            return\n          }\n\n          // 更新弹窗内容，显示实际数据\n          this.valuationResults = results\n          this.valuationTotalValue = totalValue\n          this.valuationLoading = false\n        } else {\n          this.$notify.error(response.message || '召唤兽装备估价失败')\n          this.closeValuationDialog()\n        }\n      } catch (error) {\n        console.error('召唤兽装备估价失败:', error)\n        this.$notify.error('召唤兽装备估价失败')\n        this.closeValuationDialog()\n      } finally {\n        this.equipmentValuationLoading = false\n      }\n    },\n    async fetchPets() {\n      const [year, month] = this.filters.selectedDate.split('-')\n      try {\n        this.tableLoading = true // 开始加载，显示加载状态\n        const params = {\n          ...this.filters,\n          year,\n          month,\n          page: this.pagination.page,\n          page_size: this.pagination.page_size\n        }\n\n        // 处理等级范围滑块值\n        if (this.filters.level_range && Array.isArray(this.filters.level_range)) {\n          params.level_min = this.filters.level_range[0]\n          params.level_max = this.filters.level_range[1]\n          delete params.level_range\n        }\n\n        // 处理技能过滤参数\n        if (this.filters.skills && Array.isArray(this.filters.skills) && this.filters.skills.length > 0) {\n          // 由于设置了emitPath: false，cascader直接返回技能ID\n          params.pet_skills = this.filters.skills\n          delete params.skills\n        }\n\n        // 移除空的筛选条件\n        Object.keys(params).forEach((key) => {\n          if (\n            params[key] === null ||\n            params[key] === '' ||\n            (Array.isArray(params[key]) && params[key].length === 0)\n          ) {\n            delete params[key]\n          }\n        })\n\n        // 使用新的API\n        const response = await this.$api.pet.getPetList(params)\n        if (response.code === 200) {\n          this.pets = response.data.data.map((item) => {\n            const petData = this.parsePetInfo(item.desc)\n            return ({\n              ...item,\n              petData\n            })\n          }) || []\n\n          this.pagination.total = response.data.total || 0\n          this.pagination.page = response.data.page || this.pagination.page\n        } else {\n          this.$notify.error(response.message || '获取召唤兽列表失败')\n        }\n      } catch (error) {\n        console.error('获取召唤兽列表失败:', error)\n        this.$notify.error('获取召唤兽列表失败')\n      } finally {\n        this.tableLoading = false // 无论成功失败，都结束加载状态\n      }\n    },\n    // 重写 commonMixin 中的方法以适配本页面的数据获取方法名\n    handleSizeChange(val) {\n      this.pagination.page_size = val\n      this.pagination.page = 1\n      this.fetchPets()\n    },\n    handlePageChange(newPage) {\n      this.pagination.page = newPage\n      this.fetchPets()\n    },\n    handleSortChange({ prop, order }) {\n      this.filters.sort_by = prop\n      this.filters.sort_order = order === 'ascending' ? 'asc' : 'desc'\n      this.fetchPets()\n    },\n    handleLevelRangeChange(value) {\n      this.filters.level_range = value\n    },\n    // 关闭装备估价结果对话框\n    closeValuationDialog() {\n      this.valuationDialogVisible = false\n      this.valuationResults = []\n      this.valuationTotalValue = 0\n      this.valuationEquipmentList = []\n      this.valuationLoading = false\n      this.valuationDialogTitle = ''\n    },\n\n    // 处理召唤兽估价结果更新\n    handlePetValuationUpdated(data, index) {\n      // 这里可以处理估价结果更新，比如更新表格中的估价信息\n      console.log('召唤兽估价结果更新:', data, '索引:', index)\n      // 如果需要更新表格中的特定行数据，可以在这里处理\n    },\n\n    // 获取未估价召唤兽数量\n    async getUnvaluedPetsCount() {\n      try {\n        this.unvaluedPetsLoading = true\n        const [year, month] = this.filters.selectedDate.split('-')\n\n        const response = await petApi.getUnvaluedPetsCount({\n          year: parseInt(year),\n          month: parseInt(month)\n        })\n\n        if (response.code === 200) {\n          this.unvaluedPetsCount = response.data.count || 0\n        } else {\n          console.error('获取未估价召唤兽数量失败:', response.message)\n        }\n      } catch (error) {\n        console.error('获取未估价召唤兽数量失败:', error)\n      } finally {\n        this.unvaluedPetsLoading = false\n      }\n    },\n\n    // 批量更新未估价召唤兽装备\n    async batchUpdateUnvaluedPets() {\n      try {\n        this.unvaluedPetsLoading = true\n        const [year, month] = this.filters.selectedDate.split('-')\n\n        // 确认对话框\n        await this.$confirm(\n          `确定要批量更新 ${this.unvaluedPetsCount} 只未估价召唤兽的装备价格吗？此操作可能需要较长时间。`,\n          '批量估价确认',\n          {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'warning'\n          }\n        )\n\n        const response = await petApi.batchUpdateUnvaluedPets({\n          year: parseInt(year),\n          month: parseInt(month)\n        })\n\n        if (response.code === 200) {\n          const data = response.data\n          this.currentTaskId = data.task_id\n          this.taskStatus = data\n\n          // 显示任务进度对话框\n          this.showTaskProgressDialog()\n\n          // 开始监控任务进度\n          this.startTaskProgressMonitoring()\n        } else {\n          this.$notify.error(response.message || '批量更新失败')\n        }\n      } catch (error) {\n        if (error !== 'cancel') { // 用户取消不显示错误\n          console.error('批量更新未估价召唤兽装备失败:', error)\n          this.$notify.error('批量更新失败')\n        }\n      } finally {\n        this.unvaluedPetsLoading = false\n      }\n    },\n\n    // 显示任务进度对话框\n    showTaskProgressDialog() {\n      this.taskProgressVisible = true\n    },\n\n    // 开始监控任务进度\n    startTaskProgressMonitoring() {\n      this.taskProgressTimer = setInterval(async () => {\n        if (!this.currentTaskId) {\n          this.stopTaskProgressMonitoring()\n          return\n        }\n\n        try {\n          const response = await petApi.getTaskStatus(this.currentTaskId)\n          if (response.code === 200) {\n            this.taskStatus = response.data\n\n            // 检查任务是否完成\n            if (this.taskStatus && this.taskStatus.status === 'completed') {\n              this.handleTaskCompleted()\n            } else if (this.taskStatus && this.taskStatus.status === 'failed') {\n              this.handleTaskFailed()\n            } else if (this.taskStatus && this.taskStatus.status === 'cancelled') {\n              this.handleTaskCancelled()\n            }\n          }\n        } catch (error) {\n          console.error('获取任务状态失败:', error)\n        }\n      }, 10 * 1000) // 每10秒更新一次\n    },\n\n    // 停止监控任务进度\n    stopTaskProgressMonitoring() {\n      if (this.taskProgressTimer) {\n        clearInterval(this.taskProgressTimer)\n        this.taskProgressTimer = null\n      }\n    },\n\n    // 停止当前任务\n    async stopCurrentTask() {\n      if (this.currentTaskId) {\n        try {\n          await petApi.stopTask(this.currentTaskId)\n          this.$notify.info('已发送停止任务请求')\n\n          // 等待任务状态变为cancelled，然后关闭弹窗\n          this.waitForTaskCancelled()\n        } catch (error) {\n          console.error('停止任务失败:', error)\n        }\n      }\n    },\n\n    // 等待任务取消\n    async waitForTaskCancelled() {\n      const maxWaitTime = 10000 // 最多等待10秒\n      const checkInterval = 1000 // 每1秒检查一次\n      const startTime = Date.now()\n\n      console.log('开始等待任务取消...')\n\n      while (Date.now() - startTime < maxWaitTime) {\n        try {\n          const response = await petApi.getTaskStatus(this.currentTaskId)\n          if (response.code === 200 && response.data) {\n            const status = response.data.status\n            console.log(`任务状态: ${status}`)\n\n            if (status === 'cancelled') {\n              // 任务已取消，关闭弹窗\n              console.log('任务已取消，关闭弹窗')\n              this.handleTaskCancelled()\n              return\n            } else if (status === 'completed' || status === 'failed') {\n              // 任务已完成或失败，也会关闭弹窗\n              console.log(`任务状态为 ${status}，关闭弹窗`)\n              if (status === 'completed') {\n                this.handleTaskCompleted()\n              } else {\n                this.handleTaskFailed()\n              }\n              return\n            }\n          }\n        } catch (error) {\n          console.error('检查任务状态失败:', error)\n        }\n\n        // 等待一段时间再检查\n        await new Promise(resolve => setTimeout(resolve, checkInterval))\n      }\n\n      // 超时后强制关闭弹窗\n      console.warn('等待任务取消超时，强制关闭弹窗')\n      this.handleTaskCancelled()\n    },\n\n    // 处理任务完成\n    handleTaskCompleted() {\n      this.stopTaskProgressMonitoring()\n      this.taskProgressVisible = false\n\n      if (this.taskStatus) {\n        this.$notify.success(\n          `批量更新完成！成功更新 ${this.taskStatus.updated_count || 0}/${this.taskStatus.total_count || 0} 只召唤兽的装备价格。`\n        )\n      } else {\n        this.$notify.success('批量更新完成！')\n      }\n\n      this.currentTaskId = null\n      this.taskStatus = null\n\n      // 重新获取未估价数量\n      this.getUnvaluedPetsCount()\n      // 刷新召唤兽列表\n      this.fetchPets()\n    },\n\n    // 处理任务失败\n    handleTaskFailed() {\n      this.stopTaskProgressMonitoring()\n      this.taskProgressVisible = false\n\n      if (this.taskStatus) {\n        this.$notify.error(`任务失败: ${this.taskStatus.error_message || '未知错误'}`)\n      } else {\n        this.$notify.error('任务失败: 未知错误')\n      }\n\n      this.currentTaskId = null\n      this.taskStatus = null\n    },\n\n    // 处理任务取消\n    handleTaskCancelled() {\n      this.stopTaskProgressMonitoring()\n      this.taskProgressVisible = false\n      this.$notify.info('任务已取消')\n      this.currentTaskId = null\n      this.taskStatus = null\n    },\n\n    // 删除召唤兽\n    async handleDelete(row) {\n      try {\n        // 确认删除\n        await this.$confirm(\n          `确定要删除召唤兽 ${row.equip_name || row.equip_sn} 吗？`,\n          '确认删除',\n          {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'warning'\n          }\n        )\n\n        // 获取当前年月\n        const [year, month] = this.filters.selectedDate.split('-')\n\n        // 调用删除API\n        const response = await petApi.deletePet(row.equip_sn, {\n          year,\n          month\n        })\n\n        if (response.code === 200) {\n          this.$notify.success('召唤兽删除成功')\n          // 重新获取数据\n          await this.fetchPets()\n        } else {\n          this.$notify.error(response.message || '删除失败')\n        }\n      } catch (error) {\n        if (error !== 'cancel') {\n          console.error('删除召唤兽失败:', error)\n          this.$notify.error('删除召唤兽失败')\n        }\n      }\n    },\n\n    // 检查活跃任务\n    async checkActiveTasks() {\n      try {\n        console.log('开始检查活跃任务...')\n        const response = await petApi.getActiveTasks()\n        console.log('活跃任务API响应:', response)\n\n        if (response.code === 200 && response.data && response.data.length > 0) {\n          console.log('找到活跃任务:', response.data)\n\n          // 找到当前年月对应的活跃任务\n          const [year, month] = this.filters.selectedDate.split('-')\n          console.log('当前年月:', year, month)\n\n          const currentTask = response.data.find(task => {\n            console.log('比较任务:', task.year, task.month, 'vs', year, month)\n            return task.year === parseInt(year) && task.month === parseInt(month)\n          })\n\n          console.log('匹配的当前任务:', currentTask)\n\n          if (currentTask) {\n            this.currentTaskId = currentTask.task_id\n            this.taskStatus = currentTask\n\n            // 如果任务还在运行，显示进度对话框并开始监控\n            if (currentTask.status === 'running') {\n              console.log('恢复运行中的任务:', currentTask.task_id)\n              this.showTaskProgressDialog()\n              this.startTaskProgressMonitoring()\n              this.$notify.info('检测到未完成的任务，已恢复监控')\n            } else if (currentTask.status === 'pending') {\n              console.log('发现待处理任务:', currentTask.task_id)\n              this.$notify.info('检测到待处理的任务，正在等待执行')\n            }\n          } else {\n            console.log('未找到当前年月的活跃任务')\n          }\n        } else {\n          console.log('没有活跃任务或API响应异常')\n        }\n      } catch (error) {\n        console.error('检查活跃任务失败:', error)\n      }\n    }\n  },\n\n  mounted() {\n    this.fetchPets()\n    this.getUnvaluedPetsCount()\n    // 检查是否有活跃任务需要恢复\n    this.checkActiveTasks()\n  },\n\n  beforeDestroy() {\n    // 清理任务进度监控\n    this.stopTaskProgressMonitoring()\n  }\n}\n</script>\n\n<style scoped>\n.filters {\n  margin-bottom:10px;\n}\n\n.pagination-container {\n  margin-top: 20px;\n  display: flex;\n  justify-content: center;\n}\n\n\n/* 技能样式 */\n:global(.pet-skills .tb03 td) {\n  width: 30px;\n  height: 30px;\n}\n\n:global(.pet-skills img) {\n  width: 28px;\n  height: 28px;\n}\n\n:global(.pet-skills img.on) {\n  width: 28px;\n  height: 28px;\n  border: 1px solid #c00;\n}\n\n/* 相似召唤兽弹窗样式 */\n:global(.similar-pet-popper) {\n  padding: 16px;\n}\n\n/* 批量估价对话框样式 */\n:global(.batch-valuation-dialog) {\n  width: 90% !important;\n  max-width:1000px !important;\n}\n\n:global(.batch-valuation-dialog .el-message-box__content) {\n  padding: 0 !important;\n}\n\n:global(.batch-valuation-dialog .el-message-box__body) {\n  padding: 0 !important;\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PetList.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./PetList.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./PetList.vue?vue&type=template&id=632a50a3&scoped=true\"\nimport script from \"./PetList.vue?vue&type=script&lang=js\"\nexport * from \"./PetList.vue?vue&type=script&lang=js\"\nimport style0 from \"./PetList.vue?vue&type=style&index=0&id=632a50a3&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"632a50a3\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","attrs","slot","_v","filters","nativeOn","$event","preventDefault","fetchPets","apply","arguments","model","value","selectedDate","callback","$$v","$set","expression","equip_sn","staticStyle","levelMarks","on","handleLevelRangeChange","level_range","price_min","price_max","skillOptions","cascaderProps","scopedSlots","_u","key","fn","data","getSkillImage","_e","_s","label","skills","pet_skill_count","pet_growth","pet_lx","pet_texing","_l","texing_type_list","equip_list_amount_warning","warning_rate","unvaluedPetsCount","unvaluedPetsLoading","batchUpdateUnvaluedPets","directives","name","rawName","tableLoading","tableKey","pets","handleSortChange","scope","getCBGLinkByType","row","eid","handlePetValuationUpdated","$index","petData","equip_face_img","getEnhanceInfo","server_name","domProps","formatFullPrice","gen_highlight","highlight","gen_dynamic_tags","dynamic_tags","equip_list","equip_list_amount","JSON","parse","splice","eItem","index","getEquipImageProps","getEquipSuitEffect","price","slice","some","item","equipmentValuationLoading","updatePetEquipmentsPrice","getColorNumber","growth","lx","formatSkills","class","is_baobao","equip_name","level","role_grade_limit","create_time","update_time","handleDelete","pagination","page","page_size","total","handlePageChange","handleSizeChange","valuationDialogTitle","valuationDialogVisible","valuationResults","valuationTotalValue","valuationEquipmentList","batchValuateParams","valuationLoading","closeValuationDialog","taskProgressVisible","taskStatus","progress_percentage","processed_count","total_count","current_batch","total_batches","updated_count","stopCurrentTask","staticRenderFns","pet_skill_classification","window","AUTO_SEARCH_CONFIG","lowOrHightKey","push","replace","children","reverse","components","SimilarPetModal","PetImage","EquipmentImage","EquipBatchValuationResult","mixins","equipmentMixin","commonMixin","petMixin","similarity_threshold","max_anchors","multiple","checkStrictly","emitPath","dayjs","format","undefined","sort_by","sort_order","currentTaskId","taskProgressTimer","taskProgressPercentage","taskProgressProcessed","taskProgressTotal","taskProgressCurrentBatch","taskProgressTotalBatches","taskProgressUpdated","methods","validEquipments","filter","desc","map","kindid","response","petApi","strategy","year","split","month","code","results","totalValue","reduce","sum","result","estimated_price","length","$notify","warning","error","message","console","params","Array","isArray","level_min","level_max","pet_skills","Object","keys","forEach","$api","pet","getPetList","parsePetInfo","val","newPage","prop","order","log","getUnvaluedPetsCount","parseInt","count","$confirm","confirmButtonText","cancelButtonText","type","task_id","showTaskProgressDialog","startTaskProgressMonitoring","setInterval","getTaskStatus","status","handleTaskCompleted","handleTaskFailed","handleTaskCancelled","stopTaskProgressMonitoring","clearInterval","stopTask","info","waitForTaskCancelled","maxWaitTime","checkInterval","startTime","Date","now","Promise","resolve","setTimeout","warn","success","error_message","deletePet","checkActiveTasks","getActiveTasks","currentTask","find","task","mounted","beforeDestroy","component"],"sourceRoot":""}